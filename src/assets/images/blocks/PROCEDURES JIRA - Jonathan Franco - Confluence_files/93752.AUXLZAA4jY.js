"use strict";(self._cf=self._cf||[]).push([[93752],{759614:(e,t,n)=>{n.d(t,{l:()=>r});const r={LINK:"link",DISMISS:"dismiss"}},637270:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(615919),s=n(199009),a=n(840506),i=n(430564);const o=e=>{class t extends a.Component{constructor(...e){super(...e),(0,s.Z)(this,"fireClickEvent",(e=>{this.fireEvent("click",{clickType:e})}))}UNSAFE_componentWillMount(){this.fireEvent("shown")}componentWillUnmount(){this.fireEvent("hidden")}fireEvent(e,t={}){const{createAnalyticsEvent:n,messageId:s,variationId:a,componentId:i,componentType:o,isLast:c}=this.props,l=n((0,r.Z)({action:e},t));l.update({ekMessageId:s,ekVariationId:a,ekComponentId:i,ekComponentType:o,ekIsLast:c}),l.fire("engagement")}render(){return a.createElement(e,(0,r.Z)((0,r.Z)({},this.props),{},{fireClickEvent:this.fireClickEvent}))}}return t.displayName="EngagementEventsWrapper",(0,i.Z)()(t)}},650454:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(199009),s=n(615919),a=n(840506),i=n(329687),o=n.n(i);const c=(e,t)=>{function n(e){const n=e.current;if(n&&n.componentType===t){let t;if("contextualSurvey"===n.componentType)t=(0,s.Z)((0,s.Z)({},n),{},{aaid:e.config.aaid,cloudId:e.config.cloudId,stargateUrl:e.config.stargateUrl,product:e.config.product,orgId:e.config.orgId,workspaceId:e.config.workspaceId});else t=n;return{message:t}}return{message:null}}class i extends a.Component{constructor(...e){super(...e),(0,r.Z)(this,"state",{message:null}),(0,r.Z)(this,"onStoreChange",(e=>{this.setState(n(e))})),(0,r.Z)(this,"unsubscribe",void 0)}UNSAFE_componentWillMount(){this.canSubscribe()&&(this.unsubscribe=this.subscribeToStore())}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}canSubscribe(){return this.context&&this.context.subscribeEngagementState}subscribeToStore(){return this.context.subscribeEngagementState(this.onStoreChange)}render(){const{children:n,engagementId:r}=this.props,{message:i}=this.state;if(!i)return"inlineDialog"===t&&n||null;if(r&&null!==i&&i.target&&r!==i.target)return null;const o=`${i.messageId}.${i.variationId}.${i.componentId}`;return a.createElement(e,(0,s.Z)((0,s.Z)({key:o},this.props),i))}}return i.displayName="StoreWrapper",(0,r.Z)(i,"contextTypes",{subscribeEngagementState:o().func}),i}},844150:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(840506);class s extends r.PureComponent{render(){const{html:e}=this.props;return r.createElement("div",{dangerouslySetInnerHTML:{__html:e}})}}s.displayName="HtmlContent"},93752:(e,t,n)=>{n.d(t,{bH:()=>U,Fs:()=>A,ZP:()=>U});var r=n(615919),s=n(840506),a=n(733269),i=n(872342),o=n(199009);function c(e){return e[0]?e[0].length:0}const l=/({{{(((?!}}}).)+)}}})|({{(((?!}}).)+)}})/g,u=1,p=2,d=5;function m(e){return{parts:function(e,t){const n=function(e,t){const n=[];for(let r=t.exec(e);r;r=t.exec(e))n.push(r);return n}(e,t).reduce(((t,n)=>{const r=n.index||0,s=e.slice(t.currentPosition,r);return s&&t.result.push({type:"text",text:s}),t.result.push({type:"match",match:n}),{currentPosition:r+c(n),result:t.result}}),{currentPosition:0,result:[]}),r=e.slice(n.currentPosition,e.length);return r&&n.result.push({type:"text",text:r}),n.result}(e,l).map((e=>"text"===e.type?e:e.match[u]?{type:"unescaped",variableName:e.match[p]||""}:{type:"escaped",variableName:e.match[d]||""}))}}function g(e){const t=function(e){return e.parts.filter((e=>"escaped"===e.type||"unescaped"===e.type))}(e);return function(e){const t={};for(let n=0;n<e.length;n++)t[e[n]]=null;return Object.keys(t)}(t.map((e=>e.variableName)))}function h(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39")}function y(e,t,n){const r=g(e).filter((e=>!t[e]));return r.length?{type:"error",errorType:"missing-variables-error",missingVariables:r}:{type:"success",result:n(e,t)}}function f(e,t,n){return e.parts.map((e=>"text"===e.type?e.text:"escaped"===e.type?n(t[e.variableName]):t[e.variableName])).join("")}function b(e,t){return f(e,t,encodeURIComponent)}function Z(e,t){return f(e,t,h)}function x(e,t){return function(e,t){return y(e,t,b)}(m(e),t)}function v(e,t){return function(e,t){return y(e,t,Z)}(m(e),t)}const E="error";function k(e,t){return(0,r.Z)((0,r.Z)({},t),{},{data:t.data&&(0,r.Z)((0,r.Z)({},t.data),{},{url:e})})}const C=["variables"];var I=n(637270),S=n(650454);const T=function(e){class t extends s.Component{render(){const t=function(e){const{variables:t}=e,n=(0,i.Z)(e,C),{title:s,body:a,primaryText:o,primaryAction:c,secondaryText:l,secondaryAction:u}=e,p={title:s,body:a,primaryText:o,primaryActionUrl:c&&c.data&&c.data.url,secondaryText:l,secondaryActionUrl:u&&u.data&&u.data.url},d=function(e,t){const n=Object.keys(t),r={};for(let s=0;s<n.length;s++){const a=n[s],i=t[a];if(i){const t="primaryActionUrl"===a||"secondaryActionUrl"===a?x(i,e):v(i,e);if(t.type===E)return null;r[a]=t.result}}return r}(t||{},p);if(!d)return null;const m=(0,r.Z)((0,r.Z)({},n),{},{title:d.title,body:d.body,primaryText:d.primaryText,secondaryText:d.secondaryText});c&&(m.primaryAction=k(d.primaryActionUrl,c));u&&(m.secondaryAction=k(d.secondaryActionUrl,u));return m}(this.props);return t?s.createElement(e,(0,r.Z)({},t)):null}}return t.displayName="WithVariables",(0,o.Z)(t,"displayName",`${e.displayName||e.name||""}WithEPVariables`),t}(n(302528).Z),A=(0,I.Z)(T),N=(0,S.Z)(A,"spotlight");function U(e){return s.createElement(a.Z,null,s.createElement(N,(0,r.Z)({},e)))}U.displayName="EngagementSpotlight"},302528:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(199009),s=n(840506),a=n(272786),i=n.n(a),o=n(634099),c=n(759614),l=n(844150);class u extends s.Component{getButtonClickHandler(e,t){const{fireClickEvent:n}=this.props;return t.type===c.l.LINK?()=>{n(`${e}`),window.open(t.data.url,t.data.target)}:()=>{n(`${e}`)}}getButtonActions(){const{primaryAction:e,primaryText:t,secondaryAction:n,secondaryText:r}=this.props,s=[];return n&&r&&s.push({onClick:this.getButtonClickHandler("secondary",n),text:r,appearance:n.appearance}),e&&t&&s.push({onClick:this.getButtonClickHandler("primary",e),text:t,appearance:e.appearance,autoFocus:!0}),s}render(){const{body:e,dialogPlacement:t,dialogWidth:n,title:r,image:a,pulse:i,target:c,targetBgColor:u,targetRadius:p}=this.props;return s.createElement(o.Z,{actions:this.getButtonActions(),dialogPlacement:t,dialogWidth:n,heading:r,image:a,pulse:i,target:c,targetBgColor:u,targetRadius:p},s.createElement(l.Z,{html:e}))}}u.displayName="EngagementSpotlight",(0,r.Z)(u,"defaultProps",{fireClickEvent:i()})}}]);
//# sourceMappingURL=93752.AUXLZAA4jY.js.map