(self._cf=self._cf||[]).push([[98306,71201,59806],{334806:function(e,t){!function(e){const t=Symbol("newer"),r=Symbol("older");class s{constructor(e,t){"number"!=typeof e&&(t=e,e=0),this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap=new Map,t&&(this.assign(t),e<1&&(this.limit=this.size))}_markEntryAsUsed(e){e!==this.newest&&(e[t]&&(e===this.oldest&&(this.oldest=e[t]),e[t][r]=e[r]),e[r]&&(e[r][t]=e[t]),e[t]=void 0,e[r]=this.newest,this.newest&&(this.newest[t]=e),this.newest=e)}assign(e){let s,i=this.limit||Number.MAX_VALUE;this._keymap.clear();let o=e[Symbol.iterator]();for(let c=o.next();!c.done;c=o.next()){let e=new a(c.value[0],c.value[1]);if(this._keymap.set(e.key,e),s?(s[t]=e,e[r]=s):this.oldest=e,s=e,0==i--)throw new Error("overflow")}this.newest=s,this.size=this._keymap.size}get(e){var t=this._keymap.get(e);return t?(this._markEntryAsUsed(t),t.value):void 0}set(e,s){var i=this._keymap.get(e);return i?(i.value=s,this._markEntryAsUsed(i),this):(this._keymap.set(e,i=new a(e,s)),this.newest?(this.newest[t]=i,i[r]=this.newest):this.oldest=i,this.newest=i,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var e=this.oldest;if(e)return this.oldest[t]?(this.oldest=this.oldest[t],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),e[t]=e[r]=void 0,this._keymap.delete(e.key),--this.size,[e.key,e.value]}find(e){let t=this._keymap.get(e);return t?t.value:void 0}has(e){return this._keymap.has(e)}delete(e){var s=this._keymap.get(e);return s?(this._keymap.delete(s.key),s[t]&&s[r]?(s[r][t]=s[t],s[t][r]=s[r]):s[t]?(s[t][r]=void 0,this.oldest=s[t]):s[r]?(s[r][t]=void 0,this.newest=s[r]):this.oldest=this.newest=void 0,this.size--,s.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new o(this.oldest)}values(){return new c(this.oldest)}entries(){return this}[Symbol.iterator](){return new i(this.oldest)}forEach(e,r){"object"!=typeof r&&(r=this);let s=this.oldest;for(;s;)e.call(r,s.value,s.key,this),s=s[t]}toJSON(){for(var e=new Array(this.size),r=0,s=this.oldest;s;)e[r++]={key:s.key,value:s.value},s=s[t];return e}toString(){for(var e="",r=this.oldest;r;)e+=String(r.key)+":"+r.value,(r=r[t])&&(e+=" < ");return e}}function a(e,s){this.key=e,this.value=s,this[t]=void 0,this[r]=void 0}function i(e){this.entry=e}function o(e){this.entry=e}function c(e){this.entry=e}e.LRUMap=s,i.prototype[Symbol.iterator]=function(){return this},i.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:[e.key,e.value]}):{done:!0,value:void 0}},o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.key}):{done:!0,value:void 0}},c.prototype[Symbol.iterator]=function(){return this},c.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.value}):{done:!0,value:void 0}}}(t)},592738:(e,t,r)=>{"use strict";r.d(t,{Wb:()=>f,TM:()=>S,Fx:()=>w,$v:()=>k,kK:()=>b});var s=r(615919),a=r(840506),i=r(167347),o=r(93972),c=r(142807),n=r(486889),l=r(290390),d=r(487696),u=r(973352),h=r(779076);const p=h.ZP`mutation ExperimentalUpdateShortcuts($spaceKey:String!$quickLinks:[ExperimentalSpaceSidebarLink])@experimental{experimentalUpdateShortcutLinks(spaceKey:$spaceKey quickLinks:$quickLinks){quickLinks{id url position title styleClass}__typename}}`,v=h.ZP`query SpaceShortcutsSpaceNavigationQuery($spaceKey:String){spaceSidebarLinks(spaceKey:$spaceKey){quick{id url position title styleClass}}}`,g=(0,o.defineMessages)({reorderShortcutSuccessFlagTitle:{id:"space-shortcuts.space-space-shortcuts.reorder-success-flag.title",defaultMessage:"The shortcut was reordered"},reorderShortcutErrorFlagTitle:{id:"space-shortcuts.space-space-shortcuts.reorder-error-flag.title",defaultMessage:"The shortcut could not be reordered"},reorderShortcutErrorFlagDescription:{id:"space-shortcuts.space-space-shortcuts.reorder-error-flag.description",defaultMessage:"There was an error moving the shortcut. Refresh the page and try again."},removeShortcutSuccessFlagTitle:{id:"space-shortcuts.space-space-shortcuts.remove-success-flag.title",defaultMessage:"The shortcut was removed"},removeShortcutErrorFlagTitle:{id:"space-shortcuts.space-space-shortcuts.remove-error-flag.title",defaultMessage:"The shortcut could not be removed"},removeShortcutErrorFlagDescription:{id:"space-shortcuts.space-space-shortcuts.remove-error-flag.description",defaultMessage:"There was an error removing the shortcut. Refresh the page and try again."},addShortcutSuccessFlagTitle:{id:"space-shortcuts.space-space-shortcuts.add-success-flag.title",defaultMessage:"New shortcut added"},addShortcutErrorFlagTitle:{id:"space-shortcuts.space-space-shortcuts.add-error-flag.title",defaultMessage:"The shortcut could not be added"},addShortcutErrorFlagDescription:{id:"space-shortcuts.space-space-shortcuts.add-error-flag.description",defaultMessage:"There was an error creating the shortcut. Refresh the page and try again."},editShortcutSuccessFlagTitle:{id:"space-shortcuts.space-space-shortcuts.edit-success-flag.title",defaultMessage:"The shortcut was edited"},editShortcutErrorFlagTitle:{id:"space-shortcuts.space-space-shortcuts.edit-error-flag.title",defaultMessage:"The shortcut could not be edited"},editShortcutErrorFlagDescription:{id:"space-shortcuts.space-space-shortcuts.edit-error-flag.description",defaultMessage:"There was an error updating the shortcut. Refresh the page and try again."},flagUndoAction:{id:"space-shortcuts.space-space-shortcuts.undo-action",defaultMessage:"Undo"}}),m=(e,t)=>{const{spaceKey:r}=(0,a.useContext)(d.z1),[o]=(0,i.Db)(p);return(0,a.useCallback)(((i,n,l,d,u,h=!0,p)=>{const m=i.map((e=>e.hasOwnProperty("id")&&e.id&&!p?{id:e.id}:{id:e.id,title:e.title,url:e.url,resourceType:e.resourceType,resourceId:e.resourceId})),y=i.map((e=>({id:e.id&&e.id.startsWith("cached-")?null:e.id,title:e.title,url:e.url,resourceType:e.resourceType,resourceId:e.resourceId})));return o({variables:{spaceKey:r||"",quickLinks:m},optimisticResponse:{experimentalUpdateShortcutLinks:{quickLinks:y,__typename:"ExperimentalQuickLinks"}},update:(e,{data:t})=>{var a,o;i=i.map((e=>null===e.id?(0,s.Z)((0,s.Z)({},e),{},{id:`cached-${n.id}`}):e));const c=null!=t&&null!==(a=t.experimentalUpdateShortcutLinks)&&void 0!==a&&a.quickLinks?null==t||null===(o=t.experimentalUpdateShortcutLinks)||void 0===o?void 0:o.quickLinks.map((e=>(0,s.Z)((0,s.Z)({},e),{},{__typename:"SpaceSidebarLink"}))):i;e.writeQuery({query:v,data:{spaceSidebarLinks:{quick:c,__typename:"SpaceSidebarLinks"}},variables:{spaceKey:r,isLicensed:!0}})}}).then((()=>{if(h){var r;n=(null==t||null===(r=t.current)||void 0===r||null===(r=r.peek())||void 0===r?void 0:r.lastDeletedItem)||n;const i="shortcutsFlag";if(e.showSuccessFlag({id:i,title:a.createElement(c.Z,(0,s.Z)({},l)),actions:t?[{content:a.createElement(c.Z,(0,s.Z)({},g.flagUndoAction)),onClick:()=>{const r=t.current.pop();if(r){const{undo:e}=r;e&&e()}e.hideFlag(i)}}]:[]}),t){const e=t.current.peek();e&&(e.flagId=i)}}})).catch((()=>{e.showErrorFlag({title:a.createElement(c.Z,(0,s.Z)({},d)),description:a.createElement(c.Z,(0,s.Z)((0,s.Z)({},u),{},{values:{linkTitle:n.title||n.url}}))})}))}),[o,r,e,t])},y=(e,t,r)=>{t.reverse();const a=[...t.map((e=>(0,s.Z)((0,s.Z)({},e),{},{position:e.position++}))),(0,s.Z)((0,s.Z)({},e),{},{id:null,position:0,styleClass:"external_link",__typename:"SpaceSidebarLink"})];a.reverse(),r(a,e,g.addShortcutSuccessFlagTitle,g.addShortcutErrorFlagTitle,g.addShortcutErrorFlagDescription)},f=(e,t,r)=>{const s=m(t,r),{createAnalyticsEvent:i}=(0,n._)(),{linkDeleted:o}=(0,l.a)(),{sideNavLearningLoopCohort:c}=(0,u.LO)();return{addShortcut:(0,a.useCallback)((t=>{y(t,e,s),i({type:"sendTrackEvent",data:{action:"add",actionSubject:"spaceShortcuts",source:"spaceShortcutNavigation",attributes:{sideNavLearningLoopCohort:c}}}).fire()}),[e,s,i,c]),undoAddShortcut:(0,a.useCallback)((t=>{const r=e.filter((e=>e.id!==t.id));r.reverse(),s(r,t,g.removeShortcutSuccessFlagTitle,g.removeShortcutErrorFlagTitle,g.removeShortcutErrorFlagDescription,!1);const a=i({type:"sendTrackEvent",data:{action:"undo",actionSubject:"add",actionSubjectId:"spaceShortcuts",source:"spaceShortcutNavigation"}});a.fire(),t.url&&o({url:t.url},a)}),[e,s,i,o])}},S=e=>{const t=m(e),r=(0,i.xJ)();return{appendShortcut:(i,o)=>{const n={url:`${window.location.origin}/wiki/spaces/${i}/pages/${o}`};r.query({query:v,variables:{spaceKey:i}}).then((({data:e})=>{y(n,e.spaceSidebarLinks.quick,t)})).catch((()=>{e.showErrorFlag({title:a.createElement(c.Z,(0,s.Z)({},g.addShortcutErrorFlagTitle)),description:a.createElement(c.Z,(0,s.Z)({},g.addShortcutErrorFlagDescription))})}))}}},k=(e,t,r)=>{const s=m(t),{createAnalyticsEvent:i}=(0,n._)();return(0,a.useCallback)((t=>{const a=Array.from(e).reverse(),o=a.findIndex((e=>e.id===t.id)),c=a[o];a.splice(o,1,t),a.reverse(),s(a,t,g.editShortcutSuccessFlagTitle,g.editShortcutErrorFlagTitle,g.editShortcutErrorFlagDescription,!0,c),i({type:"sendTrackEvent",data:{action:"updated",actionSubject:"spaceShortcuts",source:"space-shortcut-quick-action",containerId:r,containerType:"space"}}).fire()}),[e,s,i,r])},w=(e,t,r)=>{const i=m(t,r),{createAnalyticsEvent:o}=(0,n._)(),{linkCreated:c,linkDeleted:d}=(0,l.a)();return{deleteShortcut:(0,a.useCallback)((t=>{const r=e.filter((e=>e.id!==t.id));i(r,t,g.removeShortcutSuccessFlagTitle,g.removeShortcutErrorFlagTitle,g.removeShortcutErrorFlagDescription);const s=o({type:"sendTrackEvent",data:{action:"deleted",actionSubject:"spaceShortcuts",source:"space-shortcut-quick-action"}});s.fire(),t.url&&d({url:t.url},s)}),[e,i,o,d]),undoDeleteShortcut:(0,a.useCallback)((t=>{const r=e.map((e=>e.id===t.id?(0,s.Z)((0,s.Z)({},e),{},{id:null}):e));i(r,t,g.removeShortcutSuccessFlagTitle,g.removeShortcutErrorFlagTitle,g.removeShortcutErrorFlagDescription,!1);const a=o({type:"sendTrackEvent",data:{action:"undo",actionSubject:"delete",actionSubjectId:"spaceShortcuts",source:"space-shortcut-quick-action"}});a.fire(),t.url&&c({url:t.url},a)}),[e,i,o,c])}},b=(e,t,r)=>{const s=m(t,r);return{moveShortcut:(0,a.useCallback)(((t,r)=>{const a=Array.from(e).reverse(),[i]=a.splice(t.index,1);a.splice(r.index,0,i),a.reverse(),s(a,i,g.reorderShortcutSuccessFlagTitle,g.reorderShortcutErrorFlagTitle,g.reorderShortcutErrorFlagDescription)}),[e,s]),undoMoveShortcut:(0,a.useCallback)((t=>{const r=Array.from(e).reverse(),[a]=r.slice(t.index,1);r.reverse(),s(r,a,g.reorderShortcutSuccessFlagTitle,g.reorderShortcutErrorFlagTitle,g.reorderShortcutErrorFlagDescription,!1)}),[e,s])}}},858917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,a=(s=r(840506))&&s.__esModule?s:{default:s},i=r(340531);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor"><path d="M10 19h8V8h-8v11zM8 7.992C8 6.892 8.902 6 10.009 6h7.982C19.101 6 20 6.893 20 7.992v11.016c0 1.1-.902 1.992-2.009 1.992H10.01A2.001 2.001 0 018 19.008V7.992z"/><path d="M5 16V4.992C5 3.892 5.902 3 7.009 3H15v13H5zm2 0h8V5H7v11z"/></g></svg>'},e));o.displayName="CopyIcon";var c=o;t.default=c},515280:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,a=(s=r(840506))&&s.__esModule?s:{default:s},i=r(340531);const o=e=>a.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M12.856 5.457l-.937.92a1.002 1.002 0 000 1.437 1.047 1.047 0 001.463 0l.984-.966c.967-.95 2.542-1.135 3.602-.288a2.54 2.54 0 01.203 3.81l-2.903 2.852a2.646 2.646 0 01-3.696 0l-1.11-1.09L9 13.57l1.108 1.089c1.822 1.788 4.802 1.788 6.622 0l2.905-2.852a4.558 4.558 0 00-.357-6.82c-1.893-1.517-4.695-1.226-6.422.47"/><path d="M11.144 19.543l.937-.92a1.002 1.002 0 000-1.437 1.047 1.047 0 00-1.462 0l-.985.966c-.967.95-2.542 1.135-3.602.288a2.54 2.54 0 01-.203-3.81l2.903-2.852a2.646 2.646 0 013.696 0l1.11 1.09L15 11.43l-1.108-1.089c-1.822-1.788-4.802-1.788-6.622 0l-2.905 2.852a4.558 4.558 0 00.357 6.82c1.893 1.517 4.695 1.226 6.422-.47"/></g></svg>'},e));o.displayName="LinkIcon";var c=o;t.default=c},942342:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var s=r(615919),a=r(872342),i=r(840506),o=r(39030),c=r(483039),n=r(319754),l=r(24359),d=r(16728),u=r(233006);const h=["children","testId","headingLevel","id","cssFn","className"],p=u.$G.h100.lineHeight,v=u.$G.h100.size,g=(0,o.iv)({color:`var(--ds-text-subtle, ${d.hH})`,fontSize:v,fontWeight:"var(--ds-font-weight-bold, 700)",lineHeight:p/v,paddingBlock:"var(--ds-space-0, 0px)",paddingInline:"var(--ds-space-200, 16px)",textTransform:"uppercase"}),m=(0,i.memo)((e=>{let{children:t,testId:r,headingLevel:i=2,id:d,cssFn:u=n.Z,className:p}=e,v=(0,a.Z)(e,h);(0,c.o)("platform-pkg","cssFn",u!==n.Z,"");const m=(0,l.e)("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:(0,o.iv)(u(void 0));return(0,o.tZ)("div",(0,s.Z)({css:[g,m],role:"heading","aria-level":i,"data-testid":r,"data-ds--menu--heading-item":!0,id:d,className:(0,l.e)("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:p},v),t)}))},117e3:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var s=r(615919),a=r(872342),i=r(840506),o=r(39030),c=r(483039),n=r(24359),l=r(16728),d=r(2142),u=r(233006),h=r(942342);const p=["children","overrides","title","testId","isScrollable","hasSeparator","id","isList","className"],v=(0,d.ww)(),g=2.5*v,m=.75*v,y=g+(u.$G.h100.lineHeight-v)-3,f=m+3,S=.75*v,k="--ds-menu-seperator-color",w=(0,o.iv)({"&::before, &::after":{display:"block",height:S,content:'""'},"& [data-ds--menu--heading-item]":{marginBlockEnd:m,marginBlockStart:g,"&:first-of-type":{marginBlockStart:g-S}},"& [data-ds--menu--skeleton-heading-item]":{marginBlockEnd:f,marginBlockStart:y,"&:first-of-type":{marginBlockStart:y-S}},"&:focus":{outlineOffset:-1}}),b=(0,o.iv)({flexShrink:1,overflow:"auto"}),E=(0,o.iv)({flexShrink:0}),Z=(0,o.iv)({borderBlockStart:`2px solid var(${k}, var(--ds-border, ${l.kd}))`}),T=(0,o.iv)({borderBlockStart:`1px solid var(${k}, var(--ds-border, ${l.kd}))`}),F=(0,o.iv)({"[data-section] + &":{marginBlockStart:-6}}),_=(0,i.forwardRef)(((e,t)=>{let{children:r,overrides:l,title:d,testId:u,isScrollable:v,hasSeparator:g,id:m,isList:y=!1,className:f}=e,S=(0,a.Z)(e,p);(0,c.o)("platform-pkg","overrides",void 0!==l,"");const k=(0,n.e)("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:l&&l.HeadingItem&&l.HeadingItem.cssFn,_=y?(0,o.tZ)("ul",{style:{margin:0,padding:0}},i.Children.map(i.Children.toArray(r),((e,t)=>(0,o.tZ)("li",{style:{listStyleType:"none",margin:0,padding:0},key:t},e)))):r,L=void 0!==d?(0,o.tZ)(i.Fragment,null,(0,o.tZ)(h.Z,{cssFn:k,testId:u&&`${u}--heading`,"aria-hidden":!0},d),_):(0,o.tZ)(i.Fragment,null,_);return(0,o.tZ)("div",(0,s.Z)((0,s.Z)({},S),{},{className:(0,n.e)("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:f,id:m,css:[w,v?b:E,g?(0,n.e)("platform.design-system-team.section-1px-seperator-borders")?T:Z:F],"aria-label":d,"data-testid":u,role:"group","data-section":!0,ref:t}),L)}))},301531:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});const s=function(e,t){const[r,s,a,i]=e.split(".");return"screen"===r?{eventType:r,name:s,action:"viewed",attributes:t}:{eventType:r,actionSubject:s,actionSubjectId:i,action:a,attributes:t}}},307339:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});const s="media"},290390:(e,t,r)=>{"use strict";r.d(t,{k:()=>h,a:()=>u});var s=r(840506),a=r(486889),i=r(123672),o=r(269947),c=r(307339),n=r(301531);const l=e=>window.requestIdleCallback?window.requestIdleCallback(e,{timeout:5e3}):window.requestAnimationFrame(e);var d=r(995157);const u=()=>{const{createAnalyticsEvent:e}=(0,a._)(),{store:t,connections:{client:d}}=(0,o.ap)();return(0,s.useMemo)((()=>{const s=s=>(...a)=>{try{l((()=>{(0,i.Z)(c.D)((0,n.Z)("operational.fireAnalyticEvent.commenced",{action:s}))(e)})),l((async()=>{const{default:i}=await Promise.all([r.e(16314),r.e(36580)]).then(r.bind(r,483352));i(s,e,d,t)(...a)}))}catch(o){(0,i.Z)(c.D)((0,n.Z)("operational.fireAnalyticEvent.failed",{error:o instanceof Error?o.toString():"",action:s}))(e)}};return{linkCreated:s("created"),linkUpdated:s("updated"),linkDeleted:s("deleted")}}),[d,t,e])},h=()=>{const{createAnalyticsEvent:e}=(0,a._)(),{getDatasourceData:t}=(0,d.w)();return(0,s.useMemo)((()=>{const s=s=>(...a)=>{try{l((()=>{(0,i.Z)(c.D)((0,n.Z)("operational.fireAnalyticEvent.commenced",{action:s}))(e)})),l((async()=>{const{fireDatasourceEvent:i}=await Promise.all([r.e(16314),r.e(36580)]).then(r.bind(r,483352));i(s,e,t)(...a)}))}catch(o){(0,i.Z)(c.D)((0,n.Z)("operational.fireAnalyticEvent.failed",{error:o instanceof Error?o.toString():"",action:s}))(e)}};return{datasourceCreated:s("created"),datasourceUpdated:s("updated"),datasourceDeleted:s("deleted")}}),[e,t])}},995157:(e,t,r)=>{"use strict";r.d(t,{lg:()=>u,w:()=>h});var s=r(615919),a=r(840506),i=r(334806),o=r(269947),c=r(25923),n=r(270967);const l=new i.LRUMap(50),d=new i.LRUMap(50),u=20,h=()=>{const{connections:{client:e}}=(0,o.ap)(),t=(0,n.Q)(e),r=async(e,t,r,a,i)=>{const o=(0,s.Z)((0,s.Z)({},t),"fields"in t?{fields:[...t.fields||[]].sort()}:{}),n=JSON.stringify({datasourceId:e,cacheKeyData:o});i&&a.delete(n);let l=a.get(n);if(l)return l;try{return l=(0,c.W)("post",r,t,void 0,[200,201,202,203,204]),a.set(n,l),await l}catch(d){throw a.delete(n),d}},i=(0,a.useCallback)((async(e,s,a=!1)=>r(e,s,`${t}/datasource/${e}/fetch/details`,l,a)),[t]),u=(0,a.useCallback)((async(e,s,a=!1)=>r(e,s,`${t}/datasource/${e}/fetch/data`,d,a)),[t]);return(0,a.useMemo)((()=>({getDatasourceDetails:i,getDatasourceData:u})),[i,u])}}}]);
//# sourceMappingURL=98306.xA3tgEAAqb.js.map