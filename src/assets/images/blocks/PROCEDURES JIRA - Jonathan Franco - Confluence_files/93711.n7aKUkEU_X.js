(self._cf=self._cf||[]).push([[93711],{576083:(e,t,n)=>{var r=n(294487);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},143637:e=>{e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},861685:e=>{e.exports=function(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}},343047:e=>{e.exports=function(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}},294487:(e,t,n)=>{var r=n(343047),a=n(356749),o=n(965551);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,a,n)}},356749:e=>{e.exports=function(e){return e!=e}},965551:e=>{e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},292139:(e,t,n)=>{"use strict";n.d(t,{L:()=>u});var r=n(199009),a=n(615919),o=n(946972),i=n(840506),s=n(618305);const c={small:12,medium:26,large:36},l=(0,o.Z)("div",{target:"ewi4oqc0"})([],(e=>(0,a.Z)({width:"100%",height:"100%",position:"relative"},e.style)),""),d=(0,o.Z)("div",{target:"ewi4oqc1"})("position:absolute;left:50%;top:50%;margin-left:",(e=>e.marginLeft),"px;margin-top:",(e=>e.marginTop),"px;z-index:100;");class u extends i.PureComponent{render(){const{style:e,size:t}=this.props;return i.createElement(l,{style:e,"data-test-id":"wrapper-spinner"},i.createElement(d,{"data-test-id":"spinner",marginLeft:-c[t]/2,marginTop:-c[t]/2},i.createElement(s.Z,{size:c[t]})))}}u.displayName="CenteredSpinner",(0,r.Z)(u,"displayName","CenteredSpinner"),(0,r.Z)(u,"defaultProps",{size:"small"})},142578:(e,t,n)=>{"use strict";n.d(t,{Tn:()=>l,Uh:()=>s,ac:()=>d});var r=n(691633);const a=/<script([^>]*)\/*>/gi,o=(0,r.Z)(/^(["']*)(.*?)\1$/,{value:2}),i=/\s+/;function s(e,t=!1){if(t)return Array.isArray(e)?e.map((e=>({src:e}))):[];if("string"!=typeof e)return[];const n=[];for(const[,r]of e.matchAll(a))n.push(Object.fromEntries(r.split(i).filter((e=>e)).map((e=>{const t=e.indexOf("=");if(-1!==t){var n,r;const a=e.substring(0,t),i=e.substring(t+1),s=i.match(o);return[a,null!==(n=null==s||null===(r=s.groups)||void 0===r?void 0:r.value)&&void 0!==n?n:i]}return[e,e]}))));return n}function c(e){const t=Object.entries(e).map((([e,t])=>t&&e!==t?`${e}="${t}"`:e)).join(" ");return t?` ${t}`:""}function l(e){return s(e).filter((e=>"com.atlassian.plugins.jquery:jquery"!==e["data-wrm-key"])).map((e=>`<script${c(e)}><\/script>`)).join("\n")}function d(e){return s(e).map((e=>(e.defer="defer",`<script${c(e)}><\/script>`))).join("")}},468542:(e,t,n)=>{"use strict";n.d(t,{D4:()=>l,Jg:()=>w,K8:()=>y,KJ:()=>m,OR:()=>o,UE:()=>r,_N:()=>a,c0:()=>f,ez:()=>v,gU:()=>i,j7:()=>p,jK:()=>g,pN:()=>c,px:()=>x,qp:()=>d,rC:()=>h,rI:()=>u,v5:()=>E,x9:()=>s});const r={TEMPLATE:"com.atlassian.confluence.template",MACRO_CORE:"com.atlassian.confluence.macro.core",MIGRATION:"com.atlassian.confluence.migration",MACRO_WITH_REFERENCES:"com.atlassian.confluence.macro.with.references"},a={INVALID:"__confluenceADFMigrationUnsupportedContentInternalExtension__"},o="extension",i="inlineExtension",s="bodiedExtension",c="multiBodiedExtension",l=[{content:[],type:"paragraph"}],d=[{type:"extensionFrame",content:[{type:"paragraph",content:[]}]}],u={TEMPLATE:"variable",INLINE_EXTERNAL_IMAGE:"inline-external-image",INLINE_MEDIA_IMAGE:"inline-media-image",PRIVACY_MARK:"privacy-mark",ANCHOR:"anchor",PANEL:"panel",SECTION:"section",CHEESE:"cheese",COLUMN:"column",CONTENT_BY_LABEL:"contentbylabel",CONTENT_BY_USER:"content-by-user",CREATE_SPACE_BUTTON:"create-space-button",FAVORITE_PAGES:"favpages",GLOBAL_REPORTS:"global-reports",IM_PRESENCE:"im",LOREMIPSUM:"loremipsum",NAVIGATION_MAP:"navmap",RECENTLY_UPDATED:"recently-updated",RECENTLY_USED_LABELS:"recently-used-labels",SEARCH:"search",SPACE_DETAILS:"space-details",INVALID:"__confluenceADFMigrationUnsupportedContentInternalExtension__",REDACTED_MACRO_PLACEHOLDER:"redactedMacroPlaceholder",TOC:"toc",LIVE_SEARCH:"livesearch",CREATE_FROM_TEMPLATE:"create-from-template",DETAILS:"details",DETAILS_SUMMARY:"detailssummary",EXPAND:"expand",EXCERPT:"excerpt",EXCERPT_INCLUDE:"excerpt-include",CHILDREN:"children"},m=["toc","expand","trello-board","status","jiraroadmap"],p=(u.TOC,u.ANCHOR,u.LIVE_SEARCH,u.DETAILS_SUMMARY,u.DETAILS,u.EXCERPT,u.EXPAND,u.EXCERPT_INCLUDE,u.CREATE_FROM_TEMPLATE,u.REDACTED_MACRO_PLACEHOLDER,u.CHILDREN,new Set([o,i,s])),f=255,v=[u.CHILDREN,u.EXCERPT,u.EXCERPT_INCLUDE,u.CONTENT_BY_LABEL,u.RECENTLY_UPDATED],y="confluence.frontend.modernize.children.macro",h="confluence.frontend.modernize.excerpt.macro",g="confluence.frontend.modernize.excerpt-include.macro",E="confluence.frontend.modernize.recently-updated.macro",x="confluence.frontend.modernize.contentbylabel.macro",w="confluence.frontend.insert.excerpt.inline.parameter"},891340:(e,t,n)=>{"use strict";n.d(t,{KD:()=>o,uS:()=>a});const r={align:!0,bgcolor:!0,center:!0,cheese:!0,clickable:!0,code:!0,colgroup:!0,column:!0,"content-by-user":!0,copyright:!0,"create-space-button":!0,div:!0,"fancy-bullets":!0,"google-drive-docs":!0,"google-drive-sheets":!0,"google-drive-slides":!0,favpages:!0,"gadget-b7a6531b1c147f2e175f1209bed5c0ad":!0,"gadget-01c2ed272e88f7333da124a03a481477":!0,"gadget-d2450e06a9a285cf57eedb2d502d9d65b964eb847382938b6c57809bac2261bb":!0,"global-reports":!0,highlight:!0,htmlcomment:!0,im:!0,img:!0,info:!0,junitreport:!0,li:!0,loremipsum:!0,lozenge:!0,multimedia:!0,navmap:!0,network:!0,noformat:!0,note:!0,ol:!0,OneDrive:!0,p:!0,panel:!0,pre:!0,"privacy-policy":!0,"privacy-mark":!0,"recently-used-labels":!0,"reg-tm":!0,rollover:!0,roundrect:!0,search:!0,section:!0,sm:!0,"space-attachments":!0,"space-details":!0,span:!0,status:!0,strike:!0,style:!0,table:!0,tbody:!0,td:!0,th:!0,thead:!0,tr:!0,"trello-board":!0,"trello-card":!0,tip:!0,tm:!0,ul:!0,warning:!0};function a(){const e={};return t=>!function(e,t={}){const n=e.alternateId||(e.id?e.id.replace("macro-",""):e.macroName);return t.hasOwnProperty(n)?t[n]:Boolean(r[n])}(t,e)}async function o(e){const t=[...e.metadataList],n=a();return e.metadataList=e.metadataList.filter(n),function(){e.metadataList=t}}},446005:(e,t,n)=>{"use strict";n.d(t,{T:()=>d});var r=n(615919),a=n(779076),o=n(784569),i=n(468542),s=n(743876);const c=e=>!/^[0-9]+$/.test(e),l=a.ZP`query MacroPlaceholderADFQuery($contentId:ID!$macroDefinition:String!)@experimental{experimentalMacroPlaceholderADF(contentId:$contentId macroDefinition:$macroDefinition){json}}`,d=async e=>{const{macroDefinition:t,contentId:n,selectedMacro:a}=e,d=await(0,o.WQ)().query({query:l,variables:{contentId:c(n)?"0":n,macroDefinition:JSON.stringify(t)}});let u;try{var m;u=JSON.parse(null==d||null===(m=d.data)||void 0===m||null===(m=m.experimentalMacroPlaceholderADF)||void 0===m?void 0:m.json)}catch(f){console.error("Error getting placeholder ADF")}const p=(0,r.Z)({},u);return p.type===i.x9&&(a?p.content=a.content:p.content&&0!==p.content.length||(p.content=i.D4)),p.type!==i.pN||p.content&&0!==p.content.length||(p.content=i.qp),(0,s.g$)(p)}},794655:(e,t,n)=>{"use strict";n.d(t,{J:()=>v,Z:()=>y});var r=n(15385),a=n(891340),o=n(548854),i=n.n(o),s=n(446005),c=n(743876);async function l(e){const t={macroDefinition:{name:"jira"},contentId:e},n=await(0,s.T)(t);return e=>function(e,t){const n={source:e},r=i().require("confluence/jim/editor-plugins/jira-paste-link").pasteHandler(n,null,(()=>{}));if(!r||!r.params)return null;const a=JSON.parse(JSON.stringify(t));return a.attrs.parameters||(a.attrs.parameters={}),a.attrs.parameters.macroParams=(0,c.ZI)(r.params),a}(e,n)}const d=e=>{for(;-1!==e.indexOf("{}{}");)e=e.replace("{}{}","{}");return e="^"+(e=((e,t,n)=>n.replace(new RegExp(e,"g"),t))("{}","[^/]*?",e=e.replace(/[\-\[\]\/\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")))+"$"};async function u(e,t){const n=[],r=await e(),a=new Set;r.forEach((e=>{(e=>e.autoconvertData&&e.autoconvertData.urlParameter&&e.autoconvertData.patterns)(e)&&"trello-card"!==e.macroName&&e.autoconvertData.patterns.forEach((t=>{if((e=>["http://","https://","http://{}","https://{}","http://{}.{}","https://{}.{}","http://{}.{}.{}","https://{}.{}.{}"].every((t=>t!==e)))(t)){const r={macroName:e.macroName,urlParameter:e.autoconvertData.urlParameter,matcher:d(t)};a.add(r.macroName),n.push(r)}}))}));const o=await(async(e,t)=>(await Promise.all(Array.from(e).map((e=>(0,s.T)({macroDefinition:{name:e},contentId:t}))))).reduce(((e,t)=>(e[t.attrs.extensionKey]=t,e)),{}))(a,t);return e=>((e,t,n)=>{const r=t.find((t=>!!e.match(t.matcher)));if(r){const{macroName:t,urlParameter:a}=r,o={};o[a]=e;const i=n[t],s=JSON.parse(JSON.stringify(i));return s.attrs.text=`${a} = ${e}`,s.attrs.extensionKey=t,s.attrs.parameters||(s.attrs.parameters={}),s.attrs.parameters.macroParams=(0,c.ZI)(o),s}return null})(e,n,o)}const m=()=>null,p=async(e,t)=>{const{contentId:n}=t;if(!n)return m;const[r,a]=await Promise.all([l(n),u(e,n)]);return e=>r(e)||a(e)},f=(0,r.kg)();function v(e){return p(y,e)}const y=async()=>{const e=await f(),t=(0,a.uS)();return e.filter((e=>!e.hidden&&t(e)))}},743876:(e,t,n)=>{"use strict";n.d(t,{Mj:()=>v,MK:()=>p,XF:()=>y,g$:()=>f,I:()=>l,Z6:()=>h,LW:()=>d,ZI:()=>u});var r=n(615919),a=n(872342),o=n(784569),i=n(468542);const s=n(779076).ZP`query ContentBodyConvertQuery($from:String!$to:String!$body:String!$contentIdContext:String)@experimental{experimentalContentBodyConvert(body:$body from:$from to:$to contentIdContext:$contentIdContext){value}}`,c=["type","content","attrs"];function l(e){return e.hasOwnProperty("")&&m(e[""])||""}function d(e={}){return Object.keys(e).reduce(((t,n)=>{const r=m(e[n]);return""!==r&&(t[n]=r),t}),{})}function u(e={}){return Object.keys(e).reduce(((t,n)=>{const r=m(e[n]);return""===n&&""===r||(t[n]={value:r}),t}),{})}function m(e){return null!=e&&e.hasOwnProperty("value")?e.value:e}function p(e){const{type:t,content:n,attrs:r}=e,o=(0,a.Z)(e,c),i=Boolean(null==r?void 0:r.parameters)?r:o,{macroParams:s}=(null==i?void 0:i.parameters)||{},l={attrs:i,type:t};l.attrs.bodyType="none","bodiedExtension"===t&&(l.content=n&&n.length>0?n:[],l.attrs.bodyType="rich");return Object.keys(l.attrs).forEach((e=>{void 0!==l.attrs[e]&&null!==l.attrs[e]||delete l.attrs[e]})),l.attrs.parameters.macroParams=u(s),l}function f(e){const{attrs:t,content:n,type:r}=e,{macroParams:a}=t.parameters;let o=i.OR;[i.pN,i.x9,i.gU].indexOf(r)>=0&&(o=r);const s={type:o,attrs:t};return s.attrs.parameters||(s.attrs.parameters={}),n&&(s.content=n),s.attrs.parameters.macroParams=u(a),s}async function v(e,t,n,r){var a;return null===(a=(await(0,o.WQ)().query({query:s,variables:{from:e,to:t,body:n,contentIdContext:r}})).data.experimentalContentBodyConvert)||void 0===a?void 0:a.value}async function y(e){if(e.hasOwnProperty("name")&&!e.hasOwnProperty("attrs"))return Promise.resolve(e);const t=e,{attrs:n}=t,{extensionKey:r,parameters:a}=n||{extensionKey:null,parameters:{macroParams:{},macroMetadata:{schemaVersion:null}}},{macroParams:o,macroMetadata:i}=a,s=r||"",c=d(o||{}),u=l(o||{}),m=i&&i.schemaVersion||"1";if(!t.content||0===t.content.length)return{name:s,params:c,defaultParameterValue:u,schemaVersion:m,body:""};return{name:s,params:c,defaultParameterValue:u,schemaVersion:m,body:await v("atlas_doc_format","storage",JSON.stringify({type:"doc",content:t.content,version:1}))||""}}function h(e){var t;const n=(0,r.Z)({},(null==e||null===(t=e.parameters)||void 0===t?void 0:t.macroParams)||{});return n.__bodyContent&&delete n.__bodyContent,JSON.stringify(d(n))}},15385:(e,t,n)=>{"use strict";n.d(t,{CT:()=>c,bS:()=>l,kg:()=>d});var r=n(166258),a=n(189822),o=n(301771),i=n(253075);const s=["wr!confluence.web.resources:view-content","wr!confluence.macros.advanced:get-more"],c=()=>["wrc!com.atlassian.confluence.extra.team-calendars:amd","wrc!com.atlassian.confluence.extra.team-calendars:user-timezone-setup","wrc!com.atlassian.confluence.extra.team-calendars:calendar-init-editor","wrc!com.atlassian.confluence.extra.team-calendars:macro-browser-web-resources"];function l(e,t,n,o,i,c){let l,d=[];if(t||n)d=[...s];else{var u,m;if(!e)return Promise.resolve();l=null!==(u=null==e||null===(m=e.tags)||void 0===m?void 0:m.js)&&void 0!==u?u:null;const t=l&&i?[]:e.contexts&&e.contexts.map((e=>`wrc!${e}`))||[],n=l&&i?[]:e.keys&&e.keys.map((e=>`wr!${e}`))||[];d=[...s,...t,...n]}return new Promise((e=>{(0,r.N)(d,(()=>{o&&o(),i&&l?(0,a.K)(i,l).then(e):e()}),(()=>{console.error(`Cannot loadMacroWebResources: ${d}`),c&&c()}))}))}function d(){let e=null;const t={};return async function(){var n;const r=null===(n=window.AJS)||void 0===n||null===(n=n.Meta)||void 0===n?void 0:n.get("space-key");return r?(t[r]||(t[r]=u(r)),t[r]):(e||(e=u()),e)}}function u(e){const t=e=>e.json();return(0,o.y)("/wiki/plugins/macrobrowser/browse-macros.action?detailed=false&t=12"+(e?`&spaceKey=${e}`:"")).then(t,(e=>{if(e instanceof i.K)return t(e.response);throw e})).then((({macros:e})=>e))}},189822:(e,t,n)=>{"use strict";n.d(t,{K:()=>s});var r=n(872342),a=n(614889),o=n(142578);const i=["src"];(0,a.j)("wrm");function s(e,t,n=!1){if(!t.length)return Promise.resolve();const a=window.document.createDocumentFragment(),s=(0,o.Uh)(t,n).map((e=>{let{src:t}=e,n=(0,r.Z)(e,i);return new Promise(((e,r)=>{if(window.document.querySelector(`script[data-wrm-key='${n["data-wrm-key"]}']`))e(null);else{const o=window.document.createElement("script");o.async=!1,o.src=t,o.onload=e,o.onerror=r,Object.keys(n).forEach((e=>o.setAttribute(e,n[e]))),a.appendChild(o)}}))}));return e.appendChild(a),Promise.all(s).catch(((...e)=>{0}))}},261699:(e,t,n)=>{"use strict";function r(e){return e.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),window)}n.d(t,{Z:()=>o});function a(e){0}function o({listener:e,globalProperty:t,interval:n=250},o){if(r(t))return a(),o(),null;const i=setInterval((()=>{a(),r(t)&&(a(),clearInterval(i),o())}),n)}},199239:(e,t,n)=>{"use strict";n.d(t,{J:()=>a,R:()=>o});var r=n(261699);function a(e){try{return window.require(e),!0}catch(t){return!1}}function o({listener:e,module:t,interval:n=250},o){(0,r.Z)({listener:`wait-for-required-module ${t}`,globalProperty:"require"},(()=>{if(a(t))return void o();const e=setInterval((()=>{a(t)&&(clearInterval(e),o())}),n)}))}},546084:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>E,ce:()=>L,hb:()=>P});var r=n(615919),a=n(872342),o=n(548854),i=n.n(o),s=n(794655),c=n(446005),l=n(743876),d=n(891340),u=n(468542),m=n(614889),p=n(199239),f=n(342713),v=n(677042);const y=["cql","title"],h={type:"extension",content:u.D4},g={showLabels:{value:"true"},max:{value:"15"},sort:{value:null},showSpace:{value:"true"},reverse:{value:"false"},excerptType:{value:"none"}};function E(){return(0,s.Z)().then((e=>e.filter((e=>u.KJ.includes(e.macroName)))))}const x=(e,t,n,r)=>{e({type:"sendUIEvent",data:{action:t,actionSubject:`${t}Anchor`,source:"extensions-editor",attributes:{contentId:n,nameStatus:r}}}).fire()},w=(e,t,n,r)=>{const a="extension"===t&&"inlineExtension"===n,o="inlineExtension"===t&&"extension"===n;(a||o)&&r({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"changedJiraIssueMacroExtensionView",source:"JiraIssueMacro",objectId:e,attributes:{tableToIssueCount:a,issueCountToTable:o}}}).fire()},b=(e,t,n)=>{const o=()=>{const{cql:e,title:n}=t,o=(0,a.Z)(t,y);return(0,r.Z)((0,r.Z)({},g),o)};t&&n({type:"sendUIEvent",data:{action:"closed",actionSubject:"modal",actionSubjectId:"macroBrowser",source:"ContentByLabel",objectId:e,attributes:{extensionKey:"contentbylabel",parameters:(0,r.Z)({},o())}}}).fire()},I=(e,t,n,r,a)=>{var o;n({type:"sendOperationalEvent",data:{action:"error",actionSubject:t,source:"editor-extensions",objectId:e,attributes:{error:null!==(o=null==r?void 0:r.message)&&void 0!==o?o:r,stack:null==r?void 0:r.stack,extensionKey:a}}}).fire()};function C(e){const{name:t,body:n,params:r,defaultParameterValue:a,schemaVersion:o}=e;return{name:t||"",body:n||"",params:r,defaultParameterValue:a||"",schemaVersion:o}}async function A(e,t,n){const r=await(0,c.T)({macroDefinition:e,contentId:t,selectedMacro:null});if(r.type===u.x9)if("string"==typeof e.body){let o;try{o=await(0,l.Mj)("storage","atlas_doc_format",e.body,t)||"",r.content=JSON.parse(o).content}catch(a){(0,m.j)("getMacroBrowserSettings.onComplete").error`Can't convert provided body from storage format to ADF: ${o}`,null!=n&&n.content&&(r.content=null==n?void 0:n.content)}}else null!=n&&n.content&&(r.content=null==n?void 0:n.content);return r}async function S(e,t,n,r,a,o,s,c){const l=await(0,d.KD)(e);let m,f=0;return{autoClose:!1,onComplete:async c=>{m=!0,e.UI.showBrowserSpinner(!0);const d=C(c);try{var f;let a=await async function(e,t,n){if("anchor"===e.name){let t=e.params[""].replace(/^\s+/g,"");if(t=t.replace(/\s+$/g,""),t=t.replace(/\s+/g,"-"),t=t.replace(/[\"\']+/g,""),n&&n.createAnalyticsEvent){let e;if(""===t)e="missing";else{t=t.substring(0,v.c0);try{decodeURIComponent(t),e="valid"}catch(r){e="invalid"}}x(n.createAnalyticsEvent,n.action,null==n?void 0:n.contentId,e)}return{type:"inlineExtension",attrs:{extensionType:"com.atlassian.confluence.macro.core",extensionKey:"anchor",parameters:{macroParams:{"":{value:t}},macroMetadata:{title:"Anchor"}}}}}if("jiraroadmap"===e.name){if(!t)return function(e){return{type:"embedCard",attrs:{url:e.params&&e.params.url,layout:"wide"}}}(e)}else if("jira"===e.name&&e.params.key&&(0,p.J)("confluence/jim/jira/applinks-bridge-for-spa"))try{const t=i().require("confluence/jim/jira/applinks-bridge-for-spa"),n=await t.getUrlForKey(e.params.key,e.params.serverId);if(await t.isCloudAppLinkFromServerId(e.params.serverId)&&n&&-1!==n.indexOf("atlassian.net")==(-1!==i().location.origin.indexOf("atlassian.net")))return{type:"inlineCard",attrs:{url:n}}}catch(a){}return null}(d,"jiraroadmap"===(null==n||null===(f=n.attrs)||void 0===f?void 0:f.extensionKey),o);if(!a){var y,h,g;if(a=await A(d,t.contentId,n),"jira"===(null==n||null===(y=n.attrs)||void 0===y?void 0:y.extensionKey)&&o&&o.createAnalyticsEvent)w(t.contentId,null==n?void 0:n.type,null===(h=a)||void 0===h?void 0:h.type,null==o?void 0:o.createAnalyticsEvent);if("contentbylabel"===(null==d?void 0:d.name)&&o&&o.createAnalyticsEvent)b(t.contentId,null===(g=a)||void 0===g||null===(g=g.attrs)||void 0===g||null===(g=g.parameters)||void 0===g?void 0:g.macroParams,null==o?void 0:o.createAnalyticsEvent)}r(a),e.close(),l(),null==s||s(null==c?void 0:c.name)}catch(L){var E,S;if(u.ez.includes(null==n||null===(E=n.attrs)||void 0===E?void 0:E.extensionKey))I(t.contentId,"onComplete",null==o?void 0:o.createAnalyticsEvent,L,null==n||null===(S=n.attrs)||void 0===S?void 0:S.extensionKey);a(L)}},onCancel:()=>{l(),m||a({reason:"cancel"})},insertUpdatedMacro:async e=>{const r=C(e);try{const e=await A(r,t.contentId,n);null==c||c(e),f=0}catch(i){var a;if(f++,f>5)f=0,I(t.contentId,"insertUpdatedMacro",null==o?void 0:o.createAnalyticsEvent,i,null==n||null===(a=n.attrs)||void 0===a?void 0:a.extensionKey)}}}}function L(e,t,n,a,o){return new Promise((async(i,s)=>{const c=await(0,l.XF)(e||h),d=await(0,f.i)();n&&(d.metadataList=d.metadataList.filter(n)),a&&(a.action="update");const u=await S(d,t,e,i,s,a,void 0,o);try{d.open((0,r.Z)((0,r.Z)({},u),{},{selectedMacro:(0,r.Z)((0,r.Z)({},c),{},{productContext:{"content.id":t.contentId,"enrich-content-context-parameters":!0}})}))}catch(p){var m;I(t.contentId,"openMacroBrowserToEditExistingMacro",null==a?void 0:a.createAnalyticsEvent,p,null==e||null===(m=e.attrs)||void 0===m?void 0:m.extensionKey),s(p)}}))}function P(e,t,n,a,o,i){return new Promise((async(s,c)=>{const l=await(0,f.i)();n&&(l.metadataList=l.metadataList.filter(n)),a&&(a.action="insert");const d=await S(l,t,e,s,c,a,o,i);try{l.open((0,r.Z)((0,r.Z)({},d),{},{presetMacroMetadata:(0,r.Z)((0,r.Z)({},e),{},{productContext:{"content.id":t.contentId,"enrich-content-context-parameters":!0}})}))}catch(m){var u;I(t.contentId,"openMacroBrowserForInitialConfiguration",null==a?void 0:a.createAnalyticsEvent,m,null==e||null===(u=e.attrs)||void 0===u?void 0:u.extensionKey),c(m)}}))}},342713:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var r=n(548854),a=n.n(r),o=n(10946);const i=()=>["wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:editor-resources","wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:create-from-template-macro-browser-resources","wr!com.atlassian.confluence.plugins.confluence-create-content-plugin:create-from-template-resources"];function s(){return new Promise((e=>{const t=["wrc!fabric-editor-macro-browser","wr!com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-macro-browser","wr!com.atlassian.confluence.plugins.gadgets:macro-browser-for-gadgetsplugin",...i()];o.W.require(t,(()=>{const t=a().require("confluence-macro-browser/macro-browser");n.e(4035).then(n.bind(n,651539)).then((e=>{e.default()})).then((()=>{a().AJS.trigger("reset.rte"),e(t)}))}))}))}},10946:(e,t,n)=>{"use strict";n.d(t,{W:()=>a,F:()=>c});var r=n(166258);const a={require:(e,t)=>new Promise((n=>{(0,r.N)(e,(e=>{n(e),t&&t(e)}),(()=>{0}))}))};var o=n(199009),i=n(615919),s=n(840506);const c=function(e,t){const n=(0,i.Z)({isBlocking:!0},t);return t=>{class a extends s.Component{constructor(...e){super(...e),(0,o.Z)(this,"state",{dependenciesLoaded:!1}),(0,o.Z)(this,"markAsLoaded",(()=>{this.mounted&&this.setState({dependenciesLoaded:!0})}))}componentDidMount(){this.mounted=!0,e&&e.length>0?(0,r.N)(e,this.markAsLoaded,(()=>{0})):this.markAsLoaded()}componentWillUnmount(){this.mounted=!1}render(){const{dependenciesLoaded:e}=this.state;return e||!n.isBlocking?s.createElement(t,(0,i.Z)((0,i.Z)({},this.props),{},{wrmDependenciesLoaded:e})):null}}return a.displayName="WRMComponent",a.displayName=`WRMComponent(${t.displayName||t.name})`,a}}},412098:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(840506);function a(e){const t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e}),[e]),t.current}},70397:(e,t,n)=>{"use strict";function r(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!==e&&(e.current=t)}))}}n.d(t,{Z:()=>r})},791945:(e,t,n)=>{"use strict";n.d(t,{ZW:()=>l,i5:()=>i,jC:()=>o});var r=n(840506),a=n(319754);const o=(0,r.createContext)(0),i=(0,r.createContext)({topLevelRef:{current:null},setTopLevel:a.Z}),s=({children:e,currentLevel:t})=>{const{setTopLevel:n}=(0,r.useContext)(i);return n(t),(0,r.useEffect)((()=>()=>{setTimeout((()=>{n(t-1)}),0)}),[n,t]),r.createElement(o.Provider,{value:t},e)};s.displayName="LevelProvider";const c=({children:e})=>{const t=(0,r.useRef)(0),n=(0,r.useMemo)((()=>({topLevelRef:t,setTopLevel:e=>{t.current=e}})),[t]);return r.createElement(i.Provider,{value:n},e)};c.displayName="LayeringProvider";const l=({children:e,isDisabled:t=!0})=>{const n=(0,r.useContext)(o);if(t)return r.createElement(r.Fragment,null,e);const a=n>0,i=r.createElement(s,{currentLevel:n+1},e);return a?i:r.createElement(c,null,i)}},259612:(e,t,n)=>{"use strict";n.d(t,{J:()=>c,f:()=>s});var r=n(840506),a=n(393242),o=n(791945);const i="Escape";function s({onClose:e,isDisabled:t}){const n=(0,r.useRef)(!1),{isLayerDisabled:o}=c(),s=(0,r.useCallback)((r=>{const a=o();t||n.current||r.key!==i||a||(n.current=!0,e(r))}),[e,t,o]),l=(0,r.useCallback)((()=>{n.current=!1}),[]);(0,r.useEffect)((()=>(0,a.Ev)(document,[{type:"keydown",listener:s},{type:"keyup",listener:l}],{capture:!1})),[s,l])}function c(){const e=(0,r.useContext)(o.jC),{topLevelRef:t}=(0,r.useContext)(o.i5),n=(0,r.useCallback)((()=>!!t.current&&e!==t.current),[e,t]);return{currentLevel:e,topLevelRef:t,isLayerDisabled:n}}},471654:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=n(840506),a=n(9441);const o=()=>{const e=(0,r.useContext)(a.t);if(null==e)throw Error("@atlaskit/modal-dialog: Modal context unavailable – this component needs to be a child of ModalDialog.");return e}},416595:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A});var r=n(840506),a=n(39030),o=n(521488),i=n(471654),s=n(393242),c=n(269626),l=n(70397),d=n(319754),u=n(874729),m=n(168862),p=n(428524),f=n(455113),v=n(402349);const y=(0,a.iv)({display:"inherit",margin:"var(--ds-space-0, 0px)",flex:"inherit",flexDirection:"inherit",flexGrow:1,overflowX:"hidden",overflowY:"auto",[f.B.above.xs]:{height:"unset",overflowY:"auto"}}),h=(0,a.iv)({borderBlockStart:`${v.HV}px solid ${v.RC}`}),g=(0,a.iv)({borderBlockEnd:`${v.HV}px solid ${v.RC}`}),E=(0,r.forwardRef)(((e,t)=>{const{testId:n,children:o}=e,[i,f]=(0,m.Z)({previous:!1,next:!1}),[E,x]=(0,r.useState)(!1),[w,b]=(0,r.useState)(!1),[I,C]=(0,r.useState)(!1),A=(0,r.useRef)(null),S=(0,u.Z)(f),L=(0,u.Z)((0,c.Z)((()=>{const e=A.current;e&&x(e.scrollHeight>e.clientHeight)}))),P=(0,u.Z)((0,c.Z)((()=>{const e=A.current;if(e){const t=e.scrollHeight-e.clientHeight;i.current.previous&&b(e.scrollTop>v.HV),i.current.next&&C(e.scrollTop<=t-v.HV)}})));return(0,r.useEffect)((()=>{const e=A.current,t=(0,s.ak)(window,{type:"resize",listener:P}),n=e?(0,s.ak)(e,{type:"scroll",listener:P}):d.Z;return L(),P(),S({previous:Boolean(null==e?void 0:e.previousElementSibling),next:Boolean(null==e?void 0:e.nextElementSibling)}),()=>{t(),n()}}),[L,P,S]),(0,a.tZ)(p.Z,{isInset:!0},(0,a.tZ)("div",{tabIndex:E?0:void 0,role:E?"region":void 0,"aria-label":E?"Scrollable content":void 0,"data-testid":n&&`${n}--scrollable`,ref:(0,l.Z)([t,A]),css:[y,w&&h,I&&g]},o))}));E.displayName="ScrollContainer";const x=E;var w=n(9441);const b=(0,a.iv)({flex:"1 1 auto"}),I=(0,a.iv)({padding:`${v.HV}px ${v.o3}px`}),C=(0,a.iv)({padding:`0px ${v.o3}px`}),A=e=>{const{children:t,testId:n}=e,{testId:s}=(0,i.d)(),c=n||s&&`${s}--body`;return function(){const e=(0,r.useContext)(w.$);if(null==e)throw Error("@atlaskit/modal-dialog: Scroll context unavailable – this component needs to be a child of ModalDialog.");return e}()?(0,a.tZ)("div",{css:[b,C],"data-testid":c},t):(0,a.tZ)(o.in,null,(0,a.tZ)(x,{testId:n||s},(0,a.tZ)("div",{css:[b,I],"data-testid":c},t)))}},272169:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(39030),a=n(471654),o=n(402349);const i=(0,r.iv)({display:"flex",padding:o.o3,position:"relative",alignItems:"center",justifyContent:"flex-end",gap:"var(--ds-space-100, 8px)",paddingBlockStart:o.o3-o.HV+"px"}),s=e=>{const{children:t,testId:n}=e,{testId:o}=(0,a.d)(),s=n||o&&`${o}--footer`;return(0,r.tZ)("div",{css:i,"data-testid":s},t)};s.displayName="ModalFooter";const c=s},811836:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c});n(840506);var r=n(39030),a=n(471654),o=n(402349);const i=(0,r.iv)({display:"flex",padding:o.o3,position:"relative",alignItems:"center",justifyContent:"space-between",paddingBlockEnd:o.o3-o.HV+"px"}),s=e=>{const{children:t,testId:n}=e,{testId:o}=(0,a.d)(),s=n||o&&`${o}--header`;return(0,r.tZ)("div",{css:i,"data-testid":s},t)};s.displayName="ModalHeader";const c=s},815526:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(39030),a=n(451655),o=n(629670),i=n(471654),s=n(402349);const c=(0,r.iv)({display:"flex",minWidth:0,margin:"var(--ds-space-0, 0px)",alignItems:"center",fontSize:"var(--ds-font-size-300, 20px)",fontStyle:"inherit",fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.008em",lineHeight:1}),l=(0,r.iv)({minWidth:0,flex:"1 1 auto",wordWrap:"break-word"}),d=(0,r.iv)({flex:"0 0 auto",alignSelf:"start",marginInlineEnd:`${s.Kh}px`}),u=(0,r.iv)({lineHeight:1.2,marginBlockEnd:"-2px",marginBlockStart:"-2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),m=(0,r.iv)({lineHeight:1.2,marginBlockEnd:"-2px"}),p=({appearance:e,isMultiline:t})=>{const n="danger"===e?a.default:o.default;return(0,r.tZ)("span",{css:[d,!t&&m]},(0,r.tZ)(n,{label:e,primaryColor:s.e2[e]}))};p.displayName="TitleIcon";const f=e=>{const{appearance:t,children:n,isMultiline:a=!0,testId:o}=e,{titleId:s,testId:d}=(0,i.d)(),m=o||d&&`${d}--title`;return(0,r.tZ)("h1",{css:c,"data-testid":m},t&&(0,r.tZ)(p,{appearance:t,isMultiline:a}),(0,r.tZ)("span",{id:s,css:[l,!a&&u],"data-testid":m&&`${m}-text`},n))};f.displayName="ModalTitle";const v=f},587499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(840506),a=n(227318);const o=e=>r.createElement(a.Z,{appear:!0},e.children);o.displayName="ModalTransition";const i=o},455113:(e,t,n)=>{"use strict";n.d(t,{B:()=>r,p:()=>a});const r={above:{xxs:"@media all",xs:"@media (min-width: 30rem)",sm:"@media (min-width: 48rem)",md:"@media (min-width: 64rem)",lg:"@media (min-width: 90rem)",xl:"@media (min-width: 110rem)"},only:{xxs:"@media (min-width: 0rem) and (max-width: 29.99rem)",xs:"@media (min-width: 30rem) and (max-width: 47.99rem)",sm:"@media (min-width: 48rem) and (max-width: 63.99rem)",md:"@media (min-width: 64rem) and (max-width: 89.99rem)",lg:"@media (min-width: 90rem) and (max-width: 109.99rem)",xl:"@media (min-width: 110rem)"},below:{xs:"@media not all and (min-width: 30rem)",sm:"@media not all and (min-width: 48rem)",md:"@media not all and (min-width: 64rem)",lg:"@media not all and (min-width: 90rem)",xl:"@media not all and (min-width: 110rem)"}},a=r},867534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(676187);function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},691633:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(460002),a=n(676187),o=n(867534);function i(){i=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,r,o){var i=new RegExp(e,r);return t.set(i,o||t.get(e)),(0,a.Z)(i,n.prototype)}function s(e,n){var r=t.get(n);return Object.keys(r).reduce((function(t,n){var a=r[n];if("number"==typeof a)t[n]=e[a];else{for(var o=0;void 0===e[a[o]]&&o+1<a.length;)o++;t[n]=e[a[o]]}return t}),Object.create(null))}return(0,o.Z)(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);if(n){n.groups=s(n,this);var r=n.indices;r&&(r.groups=s(r,this))}return n},n.prototype[Symbol.replace]=function(n,a){if("string"==typeof a){var o=t.get(this);return e[Symbol.replace].call(this,n,a.replace(/\$<([^>]+)>/g,(function(e,t){var n=o[t];return"$"+(Array.isArray(n)?n.join("$"):n)})))}if("function"==typeof a){var i=this;return e[Symbol.replace].call(this,n,(function(){var e=arguments;return"object"!=(0,r.Z)(e[e.length-1])&&(e=[].slice.call(e)).push(s(e,i)),a.apply(this,e)}))}return e[Symbol.replace].call(this,n,a)},i.apply(this,arguments)}}}]);
//# sourceMappingURL=93711.n7aKUkEU_X.js.map