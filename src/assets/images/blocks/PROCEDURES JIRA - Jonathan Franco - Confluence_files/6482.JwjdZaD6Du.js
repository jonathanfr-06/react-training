(self._cf=self._cf||[]).push([[6482,88588,45110,35200,49534,57239],{537634:e=>{e.exports=function(e,t,n,a){for(var o=-1,s=null==e?0:e.length;++o<s;){var i=e[o];t(a,i,n(i),e)}return a}},428342:(e,t,n)=>{var a=n(172617);e.exports=function(e,t,n,o){return a(e,(function(e,a,s){t(o,e,n(e),s)})),o}},172617:(e,t,n)=>{var a=n(225321),o=n(837961)(a);e.exports=o},529548:(e,t,n)=>{var a=n(172617);e.exports=function(e,t){var n;return a(e,(function(e,a,o){return!(n=t(e,a,o))})),!!n}},222211:(e,t,n)=>{var a=n(537634),o=n(428342),s=n(217567),i=n(25045);e.exports=function(e,t){return function(n,r){var l=i(n)?a:o,c=t?t():{};return l(n,e,s(r,2),c)}}},837961:(e,t,n)=>{var a=n(948574);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!a(n))return e(n,o);for(var s=n.length,i=t?s:-1,r=Object(n);(t?i--:++i<s)&&!1!==o(r[i],i,r););return n}}},804297:(e,t,n)=>{var a=n(96082),o=n(222211),s=Object.prototype.hasOwnProperty,i=o((function(e,t,n){s.call(e,n)?e[n].push(t):a(e,n,[t])}));e.exports=i},557814:(e,t,n)=>{var a=n(682147),o=n(217567),s=n(529548),i=n(25045),r=n(718221);e.exports=function(e,t,n){var l=i(e)?a:s;return n&&r(e,t,n)&&(t=void 0),l(e,o(t,3))}},253594:(e,t,n)=>{"use strict";var a=n(150913);Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},242074:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>r});var a=n(477541),o=n(178825),s=n(840506),i=n(647e3),r=(n(554226),n(150030),n(389555),(0,s.forwardRef)((function(e,t){var n=(0,a.u)(e);return s.createElement(i.S,(0,o.Z)({ref:t},n))})))},450943:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var a=n(557814),o=n.n(a);const s=e=>o()(e,{targetType:"page",operation:"archive"})},799697:(e,t,n)=>{"use strict";n.d(t,{V:()=>a});const a=n(779076).ZP`query ShowArchiveCTAQuery($contentId:ID!){content(id:$contentId){nodes{id operations{operation targetType}}}}`},539320:(e,t,n)=>{"use strict";n.d(t,{pV:()=>o,xI:()=>s});var a=n(940155);const o=(0,a.ui)({__loadable_id__:"ETm5J",name:"DeleteNestedPagesActionLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(54936),n.e(11216),n.e(61769),n.e(14248),n.e(21488),n.e(84185),n.e(88699),n.e(13415),n.e(32142),n.e(24651),n.e(47745)]).then(n.bind(n,142114))).DeleteNestedPagesAction}),s=(0,a.ui)({__loadable_id__:"U7WKN",name:"BulkDeletePagesActionLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(14248),n.e(21488),n.e(84185),n.e(24651),n.e(89134)]).then(n.bind(n,97575))).BulkDeletePagesAction})},381233:(e,t,n)=>{"use strict";n.d(t,{P:()=>h});var a=n(615919),o=n(872342),s=n(840506),i=n(920839),r=n(767001),l=n(603450),c=n(483073);const d=["children","withGradient"],u=["as","style"],p=["as","style"],m=["withGradient"];n(312379),n(586299),n(115957),n(40592),n(520700),n(319385),n(137909),n(593940),n(983237),n(416473),n(354326),n(626558),n(674255),n(412182);const h=e=>{let{children:t,withGradient:n=!0}=e,i=(0,o.Z)(e,d);return s.createElement(E,{withGradient:n,"data-testid":"section-message"},!!t&&s.createElement(g,null,t),s.createElement(c.n,(0,a.Z)((0,a.Z)({},i),{},{withTasteAndToneStyling:!0})))};h.displayName="SectionMessage";const g=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:l}=e,c=(0,o.Z)(e,u);return s.createElement(n,(0,a.Z)((0,a.Z)({},c),{},{style:(0,a.Z)((0,a.Z)({},l),{},{"--_153arrb":(0,i.Z)("var(--ds-space-300, 24px)")}),ref:t,className:(0,r.Z)(["_2hwx100u _p12f68cl _1ul968cl",c.className])}))}));const f=`linear-gradient(84.09deg,\n  ${l.rb} 0%,\n  ${l.CC} 100%)`,E=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:l}=e,c=(0,o.Z)(e,p);const{withGradient:d}=c,u=(0,o.Z)(c,m);return s.createElement(n,(0,a.Z)((0,a.Z)({},u),{},{style:(0,a.Z)((0,a.Z)({},l),{},{"--_1p4ue13":(0,i.Z)(f),"--_1g2og9c":(0,i.Z)("var(--ds-space-200, 16px)"),"--_153arrb":(0,i.Z)("var(--ds-space-300, 24px)"),"--_1ll5ey9":(0,i.Z)("var(--ds-border-radius-100, 4px)")}),ref:t,className:(0,r.Z)(["_1e0c1txw _19pkidpf _2hwx1wug _otyridpf _18u01wug _1yt419gb _1bsb1osq _vchhusvi _2rkosfj2",c.withGradient?"_11q7hu7i":"_11q7glyw",c.className])}))}))},647428:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContentToolsItem:()=>y});var a=n(199009),o=n(615919),s=n(872342),i=n(840506),r=n(767001),l=n(920839),c=n(497242),d=n(708779);const u=["as","style"],p=["as","style"],m=["as","style"];n(977599),n(101033),n(937604),n(634718),n(354326);const h=(0,i.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,l=(0,s.Z)(e,u);return i.createElement(n,(0,o.Z)((0,o.Z)({},l),{},{style:a,ref:t,className:(0,r.Z)(["_1e0c1txw",l.className])}))}));const g=(0,i.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,l=(0,s.Z)(e,p);return i.createElement(n,(0,o.Z)((0,o.Z)({},l),{},{style:a,ref:t,className:(0,r.Z)(["_16jlcs5v _1o9zkb7n _i0dlf1ug",l.className])}))}));const f=(0,i.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,c=(0,s.Z)(e,m);return i.createElement(n,(0,o.Z)((0,o.Z)({},c),{},{style:(0,o.Z)((0,o.Z)({},a),{},{"--_11fpzcn":(0,l.Z)("var(--ds-space-075, 6px)")}),ref:t,className:(0,r.Z)(["_19bvewg3",c.className])}))}));class E extends i.PureComponent{render(){var e;const{label:t,onClick:n,url:a,id:o,className:s,isDisabled:r,innerRef:l,testId:u,onMouseEnter:p}=this.props;return i.createElement("div",{onMouseEnter:p,"data-test-id":o},i.createElement(c.Z,{className:s,id:o,href:null!=a?a:void 0,testId:null!==(e=u||o)&&void 0!==e?e:void 0,onClick:n,isDisabled:r},"string"==typeof t?i.createElement(h,null,i.createElement(g,null,i.createElement("span",{ref:l,"data-test-id":"content-item-label",dangerouslySetInnerHTML:{__html:t.replace(/[0-9]/g,"").replace(/[{()}]/g,"")}})),t.replace(/\D/g,"").length>0?i.createElement(f,null,i.createElement(d.Z,null,t.replace(/\D/g,""))):null):t))}}E.displayName="ContentToolsItemClass",(0,a.Z)(E,"defaultProps",{onMouseEnter:()=>{}});const y=i.forwardRef(((e,t)=>i.createElement(E,(0,o.Z)({innerRef:t},e))));y.displayName="ContentToolsItem"},49309:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContentToolsWrapper:()=>yn});var a=n(615919),o=n(199009),s=n(840506),i=n(822464),r=n(758370),l=n(865072),c=n(872342),d=n(767001),u=n(920839),p=n(804297),m=n.n(p),h=n(93972),g=n(142807),f=n(122529),E=n(911492),y=n(16728),b=n(430564),v=n(872779),_=n(830575),Z=n(117e3),C=n(250707),I=n(724093),S=n(878652),k=n(539320),T=n(400318),w=n(140263),R=n(190206),O=n(219263),D=n(15325),P=n(949295),x=n(214946),M=n(799697),N=n(450943),A=n(844439),L=n(856389),F=n(346341),B=n(625662),U=n(234461),$=n(9019),K=n(627521),j=n(883098),G=n(940155);const W=(0,G.ZR)({__loadable_id__:"vc7NH",name:"LinkToThisPageDialog",loader:async()=>(await Promise.all([n.e(12705),n.e(45159),n.e(88237),n.e(51501)]).then(n.bind(n,441744))).LinkToThisPageDialog});var H=n(284186),V=n(808777),z=n(378552),Q=n(825274);const X=(0,G.ZR)({__loadable_id__:"Vb-60",name:"PublishPageAsBlogDialog",loader:async()=>(await Promise.all([n.e(12705),n.e(49757),n.e(77905)]).then(n.bind(n,157458))).PublishPageAsBlogDialog});var q=n(707474),Y=n(331877),J=n(299982),ee=n(622355),te=n(734233),ne=n(419539),ae=n(480870),oe=n(329323),se=n(666241),ie=n(651561),re=n(783642),le=n(241965),ce=n(651368),de=n(591593),ue=n(404983);var pe=n(942248),me=n(486889),he=n(654927),ge=n.n(he),fe=n(582463),Ee=n(54685),ye=n(423128),be=n(735095),ve=n(381233);const _e=()=>{const{edition:e}=(0,fe.D)(),{isSiteAdmin:t}=(0,s.useContext)(ye.wu),{createAnalyticsEvent:n}=(0,me._)();return(0,s.useEffect)((()=>{null==n||n({type:"sendUIEvent",data:{action:"shown",actionSubject:"popup",actionSubjectId:"exportMenuPopup",source:"contentToolsItem",attributes:{confluenceEdition:e,isSiteAdmin:t}}}).fire()}),[n,e,t]),null},Ze=["as","style"];n(461489),n(405848),n(102837);const Ce=(0,h.defineMessages)({title:{id:"change-edition.export-upsell.title",defaultMessage:"Share as public link"},text:{id:"change-edition.export-upsell.text",defaultMessage:"Itâ€™s easier to make changes and keep everyone on the same page with a public link."},linkLearnMore:{id:"change-edition.export-upsell.linkLearnMore",defaultMessage:"Learn more about public links"}});var Ie=function(e){return e.NOT_ENROLLED="not-enrolled",e.CONTROL="control",e.VARIATION="variation",e}(Ie||{});const Se="public_links_export_upgrade",ke="publicLinksExportUpsell",Te=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:o}=e,i=(0,c.Z)(e,Ze);return s.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:(0,a.Z)((0,a.Z)({},o),{},{"--_16o0quz":(0,u.Z)(`var(--ds-border, ${y.Us})`)}),ref:t,className:(0,d.Z)(["_p12f1178 _80om73ad _x3do1g78",i.className])}))}));const we=(0,Ee.m)({attribution:$.x.EXTERNAL_COLLAB})((({onClick:e})=>{const t=ge().getExperimentValue(Se,"Cohort",Ie.NOT_ENROLLED,{fireExperimentExposure:!1}),n=t===Ie.VARIATION,{edition:o}=(0,fe.D)(),{createAnalyticsEvent:i}=(0,me._)(),{isSiteAdmin:r}=(0,s.useContext)(ye.wu),l=[Ie.VARIATION,Ie.CONTROL].includes(t)&&o===L.m.FREE&&r,c=o===L.m.FREE&&n;return(0,s.useEffect)((()=>{l&&(ge().manuallyLogExperimentExposure(Se),i({type:"sendTrackEvent",data:{actionSubject:"feature",action:"exposed",source:ke,attributes:{flagKey:Se,flagValue:t}}}).fire())}),[i,t,l]),s.createElement(s.Fragment,null,c&&s.createElement(Te,{onClick:e=>e.stopPropagation()},s.createElement(ve.P,{title:s.createElement(g.Z,(0,a.Z)({},Ce.title)),body:s.createElement(g.Z,(0,a.Z)({},Ce.text)),appearanceType:be.cI.INLINE,source:ke,learnMoreLink:{href:"https://support.atlassian.com/confluence-cloud/docs/share-content-externally-with-public-links/",onClick:e},targetEdition:L.m.STANDARD,onUpFlowOpen:e,withGradient:!1})),s.createElement(_e,null))}));var Re=n(962709),Oe=n(332072),De=n(155049),Pe=n(471611);class xe extends s.PureComponent{createListener(e){return()=>{this.props.setActiveKeyboardShortcutHandler((()=>{(0,se.Zo)(e)})),(0,se.GD)()}}render(){const{keyboardShortcuts:e,isAppNavigationShortcut:t}=this.props;return e.length>0?s.createElement(s.Fragment,null,e.map((({accelerator:e,itemId:n})=>s.createElement(O.E,{key:Array.isArray(e)?e.join("+"):e,accelerator:e,listener:this.createListener(n),isAppNavigationShortcut:t})))):null}}xe.displayName="Shortcuts";var Me=n(946972),Ne=n(747472),Ae=n(829323),Le=n(328167),Fe=n(65301),Be=n(523241),Ue=n(861791),$e=n(179640);const Ke=["triggerRef"],je=()=>{},Ge=(0,h.defineMessages)({triggerLabel:{id:"content-tools.more.icon.label",defaultMessage:"More actions"}}),We=(0,Me.Z)("div",{target:"e1x956ge0"})("margin-left:",(({isExternalCollaborator:e})=>e?"0px":"10px"),";min-width:24px;"),He=(0,Me.Z)("div",{target:"e1x956ge1"})("max-height:",(({maxHeight:e})=>e),";"),Ve=({isDisabled:e,isOpen:t=!1,onOpenChange:n=je,onPositioned:o=je,children:i,isLoading:r,preloadCopyItem:l,preloadMoveItem:d,isExternalCollaborator:u=!1})=>{const p=(0,Ne.Z)(),[m,h]=(0,s.useState)(!1),[g,f]=(0,s.useState)("auto"),E=(0,$e.T)("confluence.frontend.fixed-page-header"),y=(0,s.useRef)(null);(0,Be.Q)("page-more-action-button");const b=()=>{var e;return Boolean((null===(e=window.__SSR_EVENTS_CAPTURE__)||void 0===e?void 0:e.moreActionButton)&&(window.__SSR_RENDERED__||!1))},v=e=>{if(window.__SSR_RENDERED__&&r&&(window.__SSR_EVENTS_CAPTURE__||(window.__SSR_EVENTS_CAPTURE__={}),window.__SSR_EVENTS_CAPTURE__.moreActionButton=!0,h(!0)),n(e),E&&e.isOpen){var t,a;const e=null!==(t=null===(a=y.current)||void 0===a?void 0:a.getBoundingClientRect().bottom)&&void 0!==t?t:0,n=window.innerHeight-e-16;f(`${n}px`)}};if((0,s.useEffect)((()=>{(async()=>{var e;b()&&(r?h(!0):(await(null==l?void 0:l()),await(null==d?void 0:d()),v({isOpen:!0}),h(!1),null===(e=window.__SSR_EVENTS_CAPTURE__)||void 0===e||delete e.moreActionButton))})()}),[r]),b()&&m){const e="margin-left:10px;";return s.createElement(Ue.C,{spinnerId:"more-action-loading-spinner",actionType:"moreActionButton",showSpinner:!0,style:e})}return s.createElement(We,{"data-id":"content-tools-dropdown-menu-container","data-test-id":"content-tools-dropdown-menu-container",isExternalCollaborator:u,ref:y},s.createElement(Fe.ZP,{testId:"content-tools-dropdown-menu",appearance:"tall",trigger:t=>{let{triggerRef:n}=t,o=(0,c.Z)(t,Ke);return s.createElement(Le.Z,(0,a.Z)((0,a.Z)({},o),{},{"data-id":"page-more-action-button","data-test-id":"page-more-action-button",id:"tools-menu-trigger",iconBefore:s.createElement(Ae.default,{label:p.formatMessage(Ge.triggerLabel)}),ref:n,appearance:"subtle",isDisabled:e}))},placement:"bottom-end",isOpen:t,onOpenChange:v,shouldFlip:!1,onPositioned:o},E?s.createElement(He,{maxHeight:g},i||null):i||null))};Ve.displayName="ContentToolsButtonComponent";const ze=(0,s.memo)(Ve);var Qe=n(697674),Xe=n(133712);const qe=(0,Qe.pi)({key:Xe.aV}),Ye=["as","style"];n(834790),n(695020),n(77125),n(120380),n(342915),n(204846);const Je=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:o}=e,i=(0,c.Z)(e,Ye);return s.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:(0,a.Z)((0,a.Z)({},o),{},{"--_1y7eiip":(0,u.Z)(`var(--ds-border, ${y.bt})`)}),ref:t,className:(0,d.Z)(["_n7zl156g _n3td1l7b _otyr1l7b _1ragidpf _7mmmidpf _dmhjidpf",i.className])}))}));const et=(0,s.createContext)((e=>{}));class tt extends s.PureComponent{constructor(...e){super(...e),(0,o.Z)(this,"state",{isMenuChangeAllowed:!0,isEndOfPageHideConfirmOpen:!1}),(0,o.Z)(this,"activeKeyboardShortcutHandler",null),(0,o.Z)(this,"setActiveKeyboardShortcutHandler",(e=>{this.activeKeyboardShortcutHandler=e})),(0,o.Z)(this,"onPositioned",(()=>{qe.stop()})),(0,o.Z)(this,"handleOpenChange",(({isOpen:e})=>{var t,n;this.state.isMenuChangeAllowed&&(e&&qe.start(),null===(t=(n=this.props).onOpenChange)||void 0===t||t.call(n,e),this.activeKeyboardShortcutHandler&&(this.activeKeyboardShortcutHandler(),this.activeKeyboardShortcutHandler=null),this.fireToggleAnalyticsEvent())})),(0,o.Z)(this,"setMenuChangeAllowed",(e=>{this.setState({isMenuChangeAllowed:e})})),(0,o.Z)(this,"closeDialog",(()=>{var e,t;null===(e=(t=this.props).onOpenChange)||void 0===e||e.call(t,!1),this.setState({isMenuChangeAllowed:!0})})),(0,o.Z)(this,"setIsEndOfPageHideConfirmOpen",(e=>{this.setState({isEndOfPageHideConfirmOpen:e})})),(0,o.Z)(this,"fireToggleAnalyticsEvent",(()=>{const{createAnalyticsEvent:e}=this.props;null==e||e({data:{action:"clicked",actionSubject:"moreIcon",source:"moreActions",attributes:{componentVersion:"v2"}},type:"sendTrackEvent"}).fire()}))}render(){const{itemSections:e,keyboardShortcuts:t,contentId:n,contentType:a,preloadCopyItem:o,preloadMoveItem:i,spaceKey:r,isExternalCollaborator:l,isAppNavigationShortcut:c,isMenuOpen:d}=this.props,{isEndOfPageHideConfirmOpen:u}=this.state;return s.createElement(et.Provider,{value:this.setMenuChangeAllowed},s.createElement(xe,{keyboardShortcuts:t,setActiveKeyboardShortcutHandler:this.setActiveKeyboardShortcutHandler,isAppNavigationShortcut:c}),s.createElement(Oe.Z,{content:s.createElement(g.Z,{id:"content-tools.button.tooltip",defaultMessage:"More actions"}),hideTooltipOnClick:!0,position:"bottom"},s.createElement(ze,{isDisabled:!1,isOpen:d,onOpenChange:this.handleOpenChange,onPositioned:this.onPositioned,isLoading:!1,preloadCopyItem:o,preloadMoveItem:i,isExternalCollaborator:l},e.map(((e,t)=>s.createElement(Je,{key:t},e))))),s.createElement(Pe.T,{entityId:n,entityType:a,spaceKey:r,isOpen:u,setIsOpen:this.setIsEndOfPageHideConfirmOpen}),s.createElement(De.F,{name:T.sjY}))}}tt.displayName="ContentToolsComponentClass",(0,o.Z)(tt,"defaultProps",{keyboardShortcuts:[]});const nt=(0,b.Z)()(tt);var at=n(885568),ot=n(822725),st=n(572647),it=n(555813),rt=n(632346),lt=n(487696),ct=n(240694),dt=n(209099),ut=n(649233),pt=n(804929),mt=n(618305),ht=n(504265),gt=n(647428);const ft=["as","style"],Et=["isLoading"],yt=["as","style"];n(765692),n(244089),n(543788),n(141745),n(615237),n(486707),n(213089),n(953305);const bt=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:o}=e,i=(0,c.Z)(e,ft);const{isLoading:r}=i,l=(0,c.Z)(i,Et);return s.createElement(n,(0,a.Z)((0,a.Z)({},l),{},{style:(0,a.Z)((0,a.Z)({},o),{},{"--_1n8wv7f":(0,u.Z)(`var(--ds-text-subtlest, ${y.uv})`)}),ref:t,className:(0,d.Z)(["_kqswh2mm",i.isLoading?"_syaz19i9":"_syazn7od",i.className])}))}));const vt=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:o}=e,i=(0,c.Z)(e,yt);return s.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:(0,a.Z)((0,a.Z)({},o),{},{"--_1rgv5ik":(0,u.Z)("var(--ds-space-negative-100, -8px)")}),ref:t,className:(0,d.Z)(["_kqswstnw _1ltv1ssb _18u0177v _154i1ssb _19pk177v",i.className])}))}));function _t({extension:e,onClick:t,isLoading:n}){const a=(0,s.useCallback)((n=>{n.stopPropagation(),t(e)}),[e,t]);return s.createElement(gt.ContentToolsItem,{id:e.id,isDisabled:n,label:s.createElement(bt,{isLoading:n},(0,ht.L)(e),n&&s.createElement(vt,{"data-test-id":"forge-ui-extension-loading-spinner"},s.createElement(mt.Z,{size:"small"}))),onClick:a})}_t.displayName="ForgeContentToolsItem";const Zt=["as","style"];n(374914);const Ct=T.dQf;function It({contentId:e,spaceKey:t,children:n,onLoadComplete:a,isDropdownMenuOpen:o}){const i=(0,s.useContext)(R.F),[r,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(!1),u=r&&!(c&&!o);(0,s.useEffect)((()=>{u||(i.abort({name:Ct,reason:"Canceled by user"}),d(!1),l(null))}),[u,i]);const p=(0,s.useCallback)((()=>{a(),d(!1)}),[a,d]),m=(0,s.useCallback)((()=>{l(null)}),[l]),h=(0,s.useCallback)((e=>{i.start({name:Ct,id:e.id,timeout:1e4}),l(e),d(!0)}),[l,d,i]),g=(0,s.useMemo)((()=>(0,at.l)((()=>s.createElement(ze,{isLoading:!0,isDisabled:!window.__SSR_RENDERED__})))),[]);return s.createElement(s.Fragment,null,!1,u&&s.createElement(kt,{extension:r,contentId:e,spaceKey:t,onLoadComplete:p,onClose:m}),s.createElement(g,{moduleType:ot.aN,render:(e,t,a)=>{if(t)return n([]);if(a)return(0,ut.LZ)(a)||(0,pt.UJ)().submitError(a,{attribution:$.x.ECOSYSTEM}),n([]);const o=e.map((e=>s.createElement(_t,{key:e.id,extension:e,onClick:h,isLoading:r===e})));return n(o)}}))}It.displayName="ForgeContentTools";const St=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:o}=e,i=(0,c.Z)(e,Zt);return s.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:o,ref:t,className:(0,d.Z)(["_1e0cglyw",i.className])}))}));function kt({extension:e,contentId:t,spaceKey:n,onLoadComplete:a,onClose:o}){const i=(0,s.useContext)(R.F),{routeName:r}=(0,s.useContext)(lt.z1),{createAnalyticsEvent:l}=(0,me._)(),{activationId:c}=(0,fe.D)(),d=(0,ct.a)(),u=(0,s.useCallback)((()=>{i.succeed({name:Ct}),a();l({type:"sendTrackEvent",data:{action:"invoked",actionSubject:"forgeExtension",containerType:"space",containerId:d,objectType:(0,st.w)(r),objectId:t,source:ot.aN,attributes:{activationId:c,appId:(0,it.rh)(e),moduleType:ot.aN,moduleKey:(0,it.ZR)(e),spaceType:(0,dt.N)(n),spaceId:d}}}).fire()}),[a,i,c,l,t,n,d,e,r]);return s.createElement(St,null,s.createElement(rt.dy,{key:e.id,app:e,extensionData:{type:ot.aN,content:{id:t},space:{key:n,id:d}},temporaryContext:{contentId:t,spaceKey:n},onInitialRender:u,onTearDown:o}))}kt.displayName="ForgeUIExtensionLoader";const Tt=()=>s.createElement("div",{style:{height:"40px",display:"flex",width:"100%",padding:"var(--ds-space-100, 8px) var(--ds-space-250, 20px)",alignItems:"center",boxSizing:"border-box"}},s.createElement("div",{style:{height:"17px",width:"100%",backgroundColor:"var(--ds-skeleton, #F8F8F8)",borderRadius:"10%"}}));Tt.displayName="ContentToolsItemPlaceholder";const wt=(0,G.ui)({__loadable_id__:"6HszL",name:"LazyContentToolsItem",loader:async()=>(await Promise.resolve().then(n.bind(n,647428))).ContentToolsItem}),Rt=(0,G.ui)({__loadable_id__:"0CKNf",name:"LazyContentToolsItemWithPlaceholder",loader:async()=>(await Promise.resolve().then(n.bind(n,647428))).ContentToolsItem,loading:()=>s.createElement(Tt,null)});var Ot=n(167347),Dt=n(497242),Pt=n(85278),xt=n(33347),Mt=n(583712);const Nt=n(779076).ZP`query EndOfPageRecHideQuery($type:String!$id:ID!$exp:String!$key:ID!){getRecommendedPages(entityType:$type entityId:$id experience:$exp){recommendedPages{content{id}}status{userCanToggle isEnabled}}getRecommendedPagesSpaceStatus(entityId:$key){recommendedPagesEnabled}}`,At=["as","style"];n(494908);const Lt=(0,s.forwardRef)(((e,t)=>{let{as:n="span",style:o}=e,i=(0,c.Z)(e,At);return s.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:o,ref:t,className:(0,d.Z)(["_k48p4jg8",i.className])}))}));const Ft=(0,h.defineMessages)({hide:{id:"content-tools.eop.hide",defaultMessage:"Hide related pages..."},show:{id:"content-tools.eop.show",defaultMessage:"Show related pages"},flag:{id:"content-tools.eop.flag.description",defaultMessage:"Automatically generated suggestions will appear at the end of this page when available."},flag_results:{id:"content-tools.eop.flag.results",defaultMessage:"Automatically generated suggestions are now available at the end of this page."},flag_results_title:{id:"content-tools.eop.flag.title",defaultMessage:"Related pages shown"},flag_no_results:{id:"content-tools.eop.flag.no-results",defaultMessage:"Automatically generated suggestions will appear at the end of this page once we have some to show you."},flag_refresh:{id:"content-tools.eop.flag.refresh",defaultMessage:"Refresh to check for related pages"},show_tooltip:{id:"content-tools.eop.flag.tooltip",defaultMessage:"Related pages are off for this space"}}),Bt=({entityId:e,entityType:t,spaceKey:n,contentToolsRef:o})=>{var i,r,l,c;const d=(0,s.useContext)(et),{createAnalyticsEvent:u}=(0,me._)(),p="page"!==t,{showFlag:m}=(0,S.Vb)(),{error:h,data:f}=(0,Ot.aM)(Nt,{variables:{type:t,id:e,exp:"end_of_page",key:n},errorPolicy:"all",skip:p}),[E,{error:b}]=(0,Ot.Db)(xt.p,{refetchQueries:[{query:Mt.L,variables:{type:t,id:e,exp:"end_of_page",key:n}}]}),v=null==f||null===(i=f.getRecommendedPages)||void 0===i||null===(i=i.status)||void 0===i?void 0:i.userCanToggle,_=null==f||null===(r=f.getRecommendedPagesSpaceStatus)||void 0===r?void 0:r.recommendedPagesEnabled,Z=null==f||null===(l=f.getRecommendedPages)||void 0===l||null===(l=l.status)||void 0===l?void 0:l.isEnabled,C=null==f||null===(c=f.getRecommendedPages)||void 0===c?void 0:c.recommendedPages.length,I=(0,s.useCallback)((e=>()=>{d(!e)}),[d]),k=(0,s.useCallback)((()=>{if(o.closeDialog(),Z)u({type:"sendUIEvent",data:{source:"page",action:"clicked",actionSubject:"button",actionSubjectId:"hideEOPAdv",attributes:{contentId:e,triggeredFrom:"actionsMenu"}}}).fire(),o.setIsEndOfPageHideConfirmOpen(!0);else{u({type:"sendUIEvent",data:{source:"page",action:"clicked",actionSubject:"button",actionSubjectId:"showEOPAdv",attributes:{contentId:e,triggeredFrom:"actionsMenu"}}}).fire(),E({variables:{type:t,id:e,status:!0}});const n=C?s.createElement(g.Z,(0,a.Z)({},Ft.flag_results_title)):s.createElement(Lt,null,s.createElement(g.Z,(0,a.Z)({},Ft.flag_no_results))),o=C?s.createElement(g.Z,(0,a.Z)({},Ft.flag_results)):null;m({title:n,description:o,icon:s.createElement(Pt.default,{primaryColor:`var(--ds-icon-success, ${y.eE})`,label:""}),isAutoDismiss:!0})}}),[u,E,e,t,o,Z,m,C]);if(p||!v)return null;if(h)return s.createElement(U.S,{attribution:$.x.SMARTS},s.createElement(K.X,{error:h}));if(b)return s.createElement(U.S,{attribution:$.x.SMARTS},s.createElement(K.X,{error:b}));const T=s.createElement(Dt.Z,{isDisabled:!_,onClick:k,testId:"eop-adv-menu-item"},Z?s.createElement(g.Z,(0,a.Z)({},Ft.hide)):s.createElement(g.Z,(0,a.Z)({},Ft.show)));return s.createElement("div",{onMouseEnter:I(!0),onMouseLeave:I(!1)},_?T:s.createElement(Oe.Z,{content:s.createElement(g.Z,(0,a.Z)({},Ft.show_tooltip)),position:"mouse"},T))};Bt.displayName="EndOfPageRecMenuItem";const Ut=["as","style"],$t=["as","style"],Kt=["as","style"];n(374396),n(599352),n(234119),n(127344),n(780362),n(664418),n(101033),n(937604),n(634718),n(354326);const jt="action-export-pdf-link",Gt="action-export-word-link",Wt="action-archive-link",Ht="action-restore-link",Vt="view-attachments-link",zt="view-custom-contents-link",Qt="link-to-page-link",Xt="action-view-source-link",qt="view-in-hierarchy-link",Yt="action-view-storage-link",Jt="content-api",en="import-word-doc",tn="export",nn="advanced",an="third-party",on="end-of-page-recommendation-menu",sn="attachments",rn="view-page-info-link",ln="contentToolsItem",cn=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:o}=e,i=(0,c.Z)(e,Ut);return s.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:o,ref:t,className:(0,d.Z)(["_1e0c1txw",i.className])}))}));const dn=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:o}=e,i=(0,c.Z)(e,$t);return s.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:(0,a.Z)((0,a.Z)({},o),{},{"--_11fpzcn":(0,u.Z)("var(--ds-space-075, 6px)")}),ref:t,className:(0,d.Z)(["_16jlcs5v _1o9zkb7n _i0dlf1ug _2hwxewg3",i.className])}))}));const un=(0,s.forwardRef)(((e,t)=>{let{as:n="span",style:o}=e,i=(0,c.Z)(e,Kt);return s.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:(0,a.Z)((0,a.Z)({},o),{},{"--_htd5zk":(0,u.Z)(`var(--ds-background-inverse-subtle, ${y.YS})`),"--_1nvt7kj":(0,u.Z)("var(--ds-space-050, 4px)")}),ref:t,className:(0,d.Z)(["_ect485st _bfhk1dvx _2rko1l7b _1yt41b8i _k48pbfng",i.className])}))}));const pn=(0,G.ui)({__loadable_id__:"NsYyI",name:"LazyContentToolsItemForCopy",loader:async()=>(await n.e(25919).then(n.bind(n,236575))).ContentToolsItemForCopy}),mn=wt,hn=(0,h.defineMessages)({filesLabel:{defaultMessage:"Files",id:"content-tools.files.nested.section.heading.files"},customContentsLabel:{defaultMessage:"Custom Contents",id:"content-tools.files.nested.section.heading.custom-contents"}});class gn extends s.PureComponent{constructor(...e){super(...e),(0,o.Z)(this,"contentToolsComponentRef",s.createRef()),(0,o.Z)(this,"splitInSections",(e=>e?m()(e,"section"):{})),(0,o.Z)(this,"toggleNestedPopup",((e,t)=>{this.setState((({nestedPopup:n}={})=>({nestedPopup:t||n!==e?e:void 0})))})),(0,o.Z)(this,"makePublishPageAsBlogDialogOpener",((e,t,n)=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"publishPageAsBlog",source:"contentToolsItem"}}).fire(),e.showDialog(X,{contentId:n,spaceKey:t,source:q.U.ViewPage})})),(0,o.Z)(this,"makePresenterModeOpener",((e,t,n)=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"present",source:"moreActions",objectId:n,containerId:t,attributes:{currentThemePreference:this.props.theme,OStheme:(0,de.X)()}}}).fire(),this.props.experienceTracker.start({name:T.jGm}),e()})),(0,o.Z)(this,"makeChangeOwnershipOpener",((e,t)=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"page.owner",source:"moreActions",objectId:t}}).fire(),e()})),(0,o.Z)(this,"makeDeletePageDialogOpener",((e,t,n,a)=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"deletePage",source:"contentToolsItem",attributes:{showArchiveUpsell:n===L.m.FREE}}}).fire(),this.props.experienceTracker.start({name:T.yFh}),e.showModal(k.pV,{contentId:t,source:"contentToolsItem",shouldRedirectOnSuccess:!0,contentType:a})})),(0,o.Z)(this,"makeRevertEditorDialogOpener",((e,t)=>async()=>{(0,re.ie)(this.props.createAnalyticsEvent,{pageAction:re.Is.DIALOG_OPEN,source:"ViewPageAutoConversion"},re.nv.AUTO_CONVERSION),e.showDialog(Y.E,{contentId:t})})),(0,o.Z)(this,"makeArchivePageDialogOpener",((e,t,n,a)=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:e?"archiveButton":"restoreButton",actionSubjectId:a===L.m.FREE?"archivePageUpsell":null,source:ln,attributes:{confluenceEdition:a}}}).fire(),a!==L.m.FREE?(this.props.experienceTracker.start({name:e?T.pGO:T.i$A}),t.showDialog(e?x.vk:x.Ce,{contentId:n,source:ln})):t.showDialog(x.KH)})),(0,o.Z)(this,"makeLinkToThisPageDialogOpener",((e,t)=>()=>{e.showDialog(W,{contentId:t})})),(0,o.Z)(this,"makeCopyPageTreeDialogOpener",((e,t,n)=>()=>{e.showDialog(F.A,{contentId:n,spaceKey:t})})),(0,o.Z)(this,"makeInlineCommentsDialogOpener",((e,t,n)=>()=>{e.showDialog(J.D2,{spaceKey:t,contentId:n,context:"renderer"})})),(0,o.Z)(this,"makeModernizedMovePageDialogOpener",((e,t,n)=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"move",source:"contentToolsItem",objectType:"page"}}).fire(),this.props.experienceTracker.start({name:T.jwr}),e.showDialog(V.o,{spaceKey:t,contentId:n,referrer:"view-page-actions-menu"})})),(0,o.Z)(this,"makeModernizedMoveBlogModalOpener",((e,t,n)=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"move",source:"contentToolsItem",objectType:"blog"}}).fire(),e.showModal(ie.R,{currentSpaceKey:t,blogPostId:n,isEditMode:!1,isUnpublishedDraft:!1,referrer:"view-page-actions-menu"})})),(0,o.Z)(this,"makeEditEmbedDialogOpener",((e,t)=>()=>{this.props.createAnalyticsEvent({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"editEmbedTitleButton",source:"contentToolsItem"}}).fire(),e.showModal(pe._,{contentId:t,source:"contentToolsItem"})})),(0,o.Z)(this,"navigateToAttachments",((e,t)=>()=>{e(t)})),(0,o.Z)(this,"closeDropdownMenu",(()=>this.setState({nestedPopup:void 0,isDropdownMenuOpen:!1}))),(0,o.Z)(this,"getSectionComponent",((e,t,n,o,i,r,l)=>{var c;return s.createElement(I.Z,{key:`${t}-popup`,zIndex:510,isOpen:(null===(c=this.state)||void 0===c?void 0:c.nestedPopup)===t,placement:"auto-start",onClose:this.closeDropdownMenu,content:()=>s.createElement(_.Z,{minWidth:220,onClick:e=>{e.stopPropagation(),this.closeDropdownMenu()}},s.createElement(Z.Z,null,e.filter(Boolean).map((e=>{if(e.id===Qt)return e.url="",e.urlWithoutContextPath="",s.createElement(P.Z,{key:e.completeKey,analyticsData:{type:"sendUIEvent",data:{action:"clicked",actionSubject:"LinkToThisPageButton",source:"viewPageScreen",attributes:{triggeredFrom:"actionsMenu"}}}},s.createElement(wt,(0,a.Z)((0,a.Z)({key:e.completeKey},e),{},{onClick:this.makeLinkToThisPageDialogOpener(n,o)})));if(e.id===qt)return s.createElement(P.Z,{key:e.completeKey,analyticsData:{type:"sendUIEvent",data:{action:"clicked",actionSubject:"ViewInHierarchyButton",source:"viewPageScreen",attributes:{triggeredFrom:"actionsMenu"}}}},s.createElement(wt,(0,a.Z)({key:e.completeKey},e)));if(e.id===on)return s.createElement(Bt,{key:e.completeKey,entityId:o,entityType:i,spaceKey:l||this.props.spaceKey,contentToolsRef:this.contentToolsComponentRef.current});if(e.id===Vt){var t;const n=`${this.props.intl.formatMessage(hn.filesLabel)} (${(null==e||null===(t=e.label)||void 0===t||null===(t=t.match(/\d+/g))||void 0===t?void 0:t[0])||""})`;return s.createElement(P.Z,{key:e.completeKey,analyticsData:A.wd},s.createElement(wt,(0,a.Z)((0,a.Z)({},e),{},{label:n})))}if(e.id===zt){const t=`${this.props.intl.formatMessage(hn.customContentsLabel)} (${""})`;return s.createElement(P.Z,{key:e.completeKey,analyticsData:{type:"sendUIEvent",data:{action:"clicked",actionSubject:"ViewCustomContentsButton",source:"contentToolMenu",attributes:{triggeredFrom:"actionsMenu"}}}},s.createElement(wt,(0,a.Z)((0,a.Z)({},e),{},{label:t})))}return s.createElement(wt,(0,a.Z)({key:e.completeKey},e))})),t===tn&&s.createElement(we,{onClick:this.closeDropdownMenu}))),trigger:e=>{var n;const o=(null===(n=this.state)||void 0===n?void 0:n.nestedPopup)===t,i={backgroundColor:"var(--ds-background-neutral-subtle-hovered, #F4F5F7)",color:`var(--ds-text, ${y.Y8})`};return s.createElement(C.Z,(0,a.Z)((0,a.Z)({},e),{},{testId:`${t}-button`,onMouseEnter:()=>this.toggleNestedPopup(t,!0),isSelected:o,onClick:()=>this.toggleNestedPopup(t),cssFn:()=>(0,a.Z)((0,a.Z)({},o&&i),{},{"&:hover":i,"&::before":{display:"none"}}),iconAfter:s.createElement(v.default,{label:""})}),t===tn&&(r?s.createElement("span",null,r):s.createElement(g.Z,{defaultMessage:"Export",id:"content-tools.export.nested.section.heading"})),t===nn&&s.createElement(g.Z,{defaultMessage:"Advanced details",id:"content-tools.advanced.nested.section.heading"}),t===sn&&s.createElement(g.Z,{defaultMessage:"Attachments",id:"content-tools.attachments.nested.section.heading"}))}})})),(0,o.Z)(this,"renderResolvedInlineCommentsQueryRendererLoader",((e,t)=>s.createElement(te.M.Consumer,null,(({getQueryParams:n})=>{const{focusedCommentId:a}=n();return a?s.createElement(J.C$,{spaceKey:e,contentId:t}):null})))),(0,o.Z)(this,"groupWebItemsBySubSection",(e=>{e.forEach((e=>{var t;-1!==[Gt,jt].indexOf(e.id)?e.subSection=tn:-1!==[Qt,rn,Xt,qt,Yt,Jt,en,on].indexOf(e.id)?e.subSection=nn:-1!==(null!==(t=e.completeKey)&&void 0!==t?t:"").indexOf("com.atlassian.plugins.atlassian-connect-plugin")&&"com.addonengine.analytics__analytics-content-menu-item"!==e.id?e.subSection=an:-1!==[sn,zt].indexOf(e.id)?e.subSection=sn:e.subSection="others"}))})),(0,o.Z)(this,"getAllowedWebItems",(e=>this.props.allowedContentToolsItems?e.filter((e=>this.props.allowedContentToolsItems.includes(e.id))):e)),(0,o.Z)(this,"addEndofPageRecommendationToWebItems",(e=>[...e,{accessKey:null,completeKey:on,hasCondition:!0,icon:null,id:on,label:"Hide related pages...",moduleKey:"end-of-page-recommendation-menu",section:"system.content.action/primary",webSection:"secondary"}])),(0,o.Z)(this,"renderMenuItems",(({spaceKey:e,contentId:t,version:n,isFabricPage:a,contentType:o,isExternalCollaborator:i,dialogs:r})=>s.createElement(ne.e,null,(({featureFlags:l})=>s.createElement(te.M.Consumer,null,(({match:c})=>s.createElement(oe.p,{tagName:"span",location:"system.content.action",hasMultipleSections:!0,contentId:t,version:n,renderWhenLoading:!0},(({loading:n,webItems:d,webSections:u})=>{var p,m;if(n){var h;if(0==(null===(h=this.props.allowedContentToolsItems)||void 0===h?void 0:h.length))return null;const e=Boolean(window.__SSR_RENDERED__);return s.createElement(s.Fragment,null,!1,s.createElement(ze,{isDisabled:!e,isLoading:!0}))}d=this.addEndofPageRecommendationToWebItems(d);const g=this.getAllowedWebItems(d);this.groupWebItemsBySubSection(g);const f=(null==c?void 0:c.name)===H.y4.name,E=(null==c?void 0:c.name)===H.SM.name,{itemSections:y,keyboardShortcuts:b}=this.createMenuItems(g,u,l,r,f,E,a,o,i);return this.props.allowedContentToolsItems&&0==y.length?null:s.createElement(It,{spaceKey:e,contentId:t,onLoadComplete:()=>{var e;null===(e=this.contentToolsComponentRef.current)||void 0===e||e.closeDialog()},isDropdownMenuOpen:null!==(p=null===(m=this.state)||void 0===m?void 0:m.isDropdownMenuOpen)&&void 0!==p&&p},(n=>{var a;let r=y;if(n.length){const e=n.map((e=>s.createElement(j.N,{key:e.props.extension.id,module:e.props.extension},e)));r=[...y,e]}const l=n.map((e=>s.createElement(j.u,{key:e.props.extension.id,module:e.props.extension,action:()=>{(0,se.GD)(),(0,se.Zo)(e.props.extension.id)}}))),c=d.find((e=>e.id===Vt)),u=c?s.createElement(te.M.Consumer,null,(({push:e})=>s.createElement(O.E,{accelerator:D.VIEW_ATTACHMENTS_SHORTCUT,listener:this.navigateToAttachments(e,c.url)}))):null;return s.createElement(s.Fragment,null,s.createElement(nt,{contentType:o,key:"content-tools-component",contentId:t,itemSections:r,keyboardShortcuts:b,ref:this.contentToolsComponentRef,isMenuOpen:!(null===(a=this.state)||void 0===a||!a.isDropdownMenuOpen),onOpenChange:e=>{var t;null!==(t=this.state)&&void 0!==t&&t.nestedPopup||this.setState({isDropdownMenuOpen:e})},preloadCopyItem:pn.preload,preloadMoveItem:mn.preload,spaceKey:e,isExternalCollaborator:i}),l,u)}))}))))))))}createMenuItems(e,t,n,o,i=!1,r=!0,l,c,d){const{spaceKey:u,contentId:p}=this.props,m=this.splitInSections(e),h=[],g=[],f=[],y=[],b=[],v=[],_={onMouseEnter:e=>{e.stopPropagation(),this.setState({nestedPopup:void 0})}};let Z;if((t||Object.keys(m)).forEach((e=>{const t=(m[e]||[]).map((t=>{switch(t.subSection){case tn:return f.push(t),null;case nn:return y.push(t),null;case an:return t.className=t.styleClass,b.push(t),null}if(t.id===Re.bm)return Z=s.createElement(U.S,{attribution:$.x.BACKBONE,key:t.completeKey},s.createElement(wt,(0,a.Z)((0,a.Z)((0,a.Z)({key:t.completeKey},t),_),{},{url:void 0,onClick:this.makeRevertEditorDialogOpener(o,p)}))),null;if(t.id===Re.qb)return s.createElement(wt,(0,a.Z)((0,a.Z)({},_),{},{id:t.id,label:t.label,url:t.url,key:t.completeKey}));if(t.id===ae.AE)return s.createElement(z.G,{webItemId:t.id,key:t.completeKey},s.createElement(wt,(0,a.Z)((0,a.Z)({},t),_)));if("view-resolved-comments"===t.id)return s.createElement(wt,(0,a.Z)((0,a.Z)({},_),{},{id:"bm-resolved-inline-comments",key:t.completeKey,label:s.createElement(cn,null,s.createElement(dn,null,s.createElement("span",null,t.label," ")),s.createElement(J.e3,{contentId:p})),onClick:this.makeInlineCommentsDialogOpener(o,u,p)}));if("action-page-permissions-link"===t.id)return i&&!d?s.createElement(U.S,{attribution:$.x.MISSION_CONTROL,key:t.completeKey},s.createElement(ee.h,null,(e=>s.createElement(wt,(0,a.Z)((0,a.Z)({},e),_))))):null;if(t.id===Qt)return t.url="",t.urlWithoutContextPath="",g.push({accelerator:D.LINK_TO_THIS_PAGE_SHORTCUT,itemId:t.id}),s.createElement(wt,(0,a.Z)((0,a.Z)((0,a.Z)({key:t.completeKey},t),_),{},{onClick:this.makeLinkToThisPageDialogOpener(o,p)}));if("action-copy-page-link"===t.id)return t.url="",t.urlWithoutContextPath="",s.createElement(pn,(0,a.Z)((0,a.Z)((0,a.Z)({key:t.completeKey},t),_),{},{onClick:this.makeCopyPageTreeDialogOpener(o,u,p)}));if("presentation-mode"===t.id)return i?null:(t.url="",t.urlWithoutContextPath="",g.push({accelerator:D.PRESENTATION_MODE_SHORTCUT,itemId:t.id}),s.createElement(U.S,{attribution:$.x.CONTENT_EXPERIENCE,key:t.completeKey},s.createElement(Q.j,{key:`presenter-mode-menu-item-${t.completeKey}`},(e=>s.createElement(Rt,(0,a.Z)((0,a.Z)((0,a.Z)({key:t.completeKey},t),_),{},{onClick:this.makePresenterModeOpener(e,u,p),label:s.createElement(cn,null,s.createElement(dn,null,s.createElement("span",null,t.label)),s.createElement(un,null,"r"))}))))));if(t.id===le.LO)return r?(t.url="",t.urlWithoutContextPath="",s.createElement(U.S,{attribution:$.x.CONTENT_EXPERIENCE,key:t.completeKey},s.createElement(ce.xH,null,(({openModal:e})=>s.createElement(wt,(0,a.Z)((0,a.Z)((0,a.Z)({key:t.completeKey},t),_),{},{onClick:this.makeChangeOwnershipOpener(e,p)})))))):null;if("action-convert-page-to-blog"===t.id)return r&&l?(t.url="",t.urlWithoutContextPath="",s.createElement(wt,(0,a.Z)((0,a.Z)((0,a.Z)({key:t.completeKey},t),_),{},{onClick:this.makePublishPageAsBlogDialogOpener(o,u,p)}))):null;if(t.id===Vt){const e={id:zt,label:"Custom Contents",url:H.GJ.toUrl({contentId:this.props.contentId,spaceKey:this.props.spaceKey}),accessKey:null,completeKey:"confluence.content.action.menu.new:view-custom-contents",hasCondition:!0,icon:null,subSection:sn};return v.push(t),v.push(e),this.getSectionComponent(v,sn,o,p,c,t.label)}if(t.className=t.styleClass,t.id===Re.gX)return s.createElement(U.S,{attribution:$.x.MISSION_CONTROL,key:t.completeKey},s.createElement(ne.e,null,(({edition:e})=>s.createElement(wt,(0,a.Z)((0,a.Z)((0,a.Z)({key:t.completeKey},t),_),{},{url:void 0,onClick:this.makeDeletePageDialogOpener(o,p,e,c)})))));if(t.id===Wt||t.id===Ht){const e=t.id===Wt;return s.createElement(U.S,{attribution:$.x.MISSION_CONTROL,key:t.completeKey},s.createElement(ne.e,null,(({edition:n})=>s.createElement(E.AE,{query:M.V,variables:{contentId:p}},(i=>{var r;const l=null===(r=i.data)||void 0===r||null===(r=r.content)||void 0===r||null===(r=r.nodes)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.operations;return i.loading?null:i.error?s.createElement(K.X,{error:i.error}):n===L.m.FREE&&t.id!==Ht||null!==l&&(0,N.e)(l)?s.createElement(wt,(0,a.Z)((0,a.Z)((0,a.Z)({},t),_),{},{label:t.label,url:void 0,onClick:this.makeArchivePageDialogOpener(e,o,p,n)})):null})))))}if(t.id===Re._J||"action-move-page-dialog-link"===t.id){const e=t.id===Re._J?"makeModernizedMoveBlogModalOpener":"makeModernizedMovePageDialogOpener";return t.url="",t.urlWithoutContextPath="",t.id=`${t.id}-modernized`,s.createElement(mn,(0,a.Z)((0,a.Z)((0,a.Z)({key:t.completeKey},t),_),{},{onClick:this[e](o,u,p)}))}return"action-export-web-item"===t.id?"system.content.action/modify"!==e||this.props.allowedContentToolsItems?null:this.getSectionComponent(f,tn,o,p,c,t.label):"action-edit-embed-modal"===t.id?r?(t.url="",t.urlWithoutContextPath="",s.createElement(wt,(0,a.Z)((0,a.Z)((0,a.Z)({key:t.completeKey},t),_),{},{onClick:this.makeEditEmbedDialogOpener(o,p)}))):null:s.createElement(wt,(0,a.Z)({key:t.completeKey},t))})).filter((e=>!!e));if("system.content.action/primary"===e&&!this.props.allowedContentToolsItems){const e=t.findIndex((e=>"com.atlassian.confluence.plugins.confluence-inline-comments:view-resolved-comments-new"===(null==e?void 0:e.key))),n=this.getSectionComponent(y,nn,o,p,c,void 0,u);t.splice(e+1,0,n)}t.length>0&&h.push(t)})),!this.props.allowedContentToolsItems){const e=b.findIndex((e=>"confluence-chats-integration__page-config-dialog-trigger"===e.id)),t=b.splice(e,1)[0];b.splice(0,0,t);const n=b.filter(Boolean).map((e=>s.createElement(Rt,(0,a.Z)((0,a.Z)({key:e.completeKey},e),_))));n.length>0&&h.push(n)}return Z&&h.push(Z),{itemSections:h,keyboardShortcuts:g}}render(){const{spaceKey:e,contentId:t,version:n,onRender:a,isFabricPage:o,contentType:r,isExternalCollaborator:l}=this.props;return null==a||a(),s.createElement(S.Q_,null,s.createElement(U.S,{attribution:$.x.BACKBONE},s.createElement(w.U,{id:t,name:T.sjY}),s.createElement(i.xs,{to:[B.l]},(a=>s.createElement(s.Fragment,null,this.renderMenuItems({spaceKey:e,contentId:t,version:n,isFabricPage:o,contentType:r,isExternalCollaborator:l,dialogs:a}),this.renderResolvedInlineCommentsQueryRendererLoader(e,t),s.createElement(O.E,{accelerator:D.LINK_TO_THIS_PAGE_SHORTCUT,listener:this.makeLinkToThisPageDialogOpener(a,t)}))))))}}gn.displayName="ContentToolsClass";const fn=(0,R.Q)((0,b.Z)()((En=(0,f.ZP)(gn),e=>{const[{theme:t},n]=(0,ue.JO)();return s.createElement(En,(0,a.Z)({theme:t,themingActions:n},e))})));var En;class yn extends s.PureComponent{constructor(...e){super(...e),(0,o.Z)(this,"isItemMarked",!1),(0,o.Z)(this,"markItem",null),(0,o.Z)(this,"buttonRendered",(()=>{this.isItemMarked||(this.isItemMarked=!0,this.markItem(r.k.CONTENT_TOOLS))}))}render(){return s.createElement(i.xs,{to:[l.F]},(({addItem:e,markItem:t})=>(e(r.k.CONTENT_TOOLS),this.markItem=t,s.createElement(fn,(0,a.Z)((0,a.Z)({},this.props),{},{onRender:this.buttonRendered})))))}}yn.displayName="ContentToolsWrapper"},962709:(e,t,n)=>{"use strict";n.d(t,{EW:()=>c,FW:()=>l,_J:()=>o,aE:()=>r,bm:()=>s,gX:()=>a,j7:()=>i,qb:()=>d});const a="action-remove-content-link",o="action-move-blogpost-dialog-link",s="action-downgrade-to-tiny",i="action-copy-page-link",r="action-move-page-dialog-link",l="action-archive-link",c="action-edit-embed-modal",d="action-view-history-link"},346341:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a=(0,n(940155).ZR)({__loadable_id__:"iS9dU",name:"CopyPageTreeDialog",loader:async()=>(await Promise.all([n.e(12705),n.e(54936),n.e(11216),n.e(14248),n.e(21488),n.e(84185),n.e(35824),n.e(45159),n.e(34641),n.e(32787),n.e(4991),n.e(98185),n.e(195),n.e(91770),n.e(66042),n.e(54499),n.e(88237),n.e(68484)]).then(n.bind(n,298053))).CopyPageTreeContainer})},625662:(e,t,n)=>{"use strict";n.d(t,{l:()=>l});var a=n(615919),o=n(199009),s=n(840506),i=n(822464),r=n(978421);class l extends i.W2{constructor(e=[]){if(super(),(0,o.Z)(this,"showModal",((e,t,n)=>{this.showDialog(e,t,n)})),(0,o.Z)(this,"showDialog",((e,t,n)=>{const o=r.e.nextKey,i=t||{},l=s.createElement(e,(0,a.Z)((0,a.Z)({},i),{},{onClose:(...e)=>this.onChildClose(o,...e),onCloseComplete:(...e)=>this.onChildCloseComplete(o,...e)}),n);return this.setState((e=>({stack:[...e.stack,{key:o,component:l,alive:!0,originalProps:{onClose:"onClose"in i?i.onClose:void 0,onCloseComplete:"onCloseComplete"in i?i.onCloseComplete:void 0}}]}))),()=>{this.onChildClose(o)}})),this.state={stack:e},e.length){const t=Math.max(...e.map((e=>e.key)));r.e.nextKey=t+1}}onChildClose(e,...t){const n=this.state.stack.find((t=>t.key===e));n&&(n.originalProps.onClose&&n.originalProps.onClose(...t),this.setState((e=>({stack:e.stack.map((e=>e===n?(0,a.Z)((0,a.Z)({},e),{},{alive:!1}):e))}))))}onChildCloseComplete(e,...t){const n=this.state.stack.find((t=>t.key===e));n&&(n.originalProps.onCloseComplete&&n.originalProps.onCloseComplete(...t),this.setState((e=>({stack:e.stack.filter((e=>e!==n))}))))}}},331877:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});const a=(0,n(940155).ui)({__loadable_id__:"v77sk",name:"RevertEditorDialog",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(88887)]).then(n.bind(n,333029))).RevertEditorDialog})},783642:(e,t,n)=>{"use strict";n.d(t,{Is:()=>s,OH:()=>r,iY:()=>a,ie:()=>l,nv:()=>o,pZ:()=>i,tl:()=>c});let a=function(e){return e.VIEWED="pageViewed",e.EDITED="pageEdited",e.PUBLISHED="pagePublished",e.NOTIFICATION_SHOWN="notificationShown",e.NOTIFICATION_ERROR="notificationError",e}({}),o=function(e){return e.AUTO_CONVERSION="autoConversion",e.AUTO_CONVERSION_BYLINE="autoConversionByLine",e}({}),s=function(e){return e.DIALOG_OPEN="revertDialogOpen",e.CLICKED="revertClicked",e.CANCELLED="revertCancelled",e.CONFIRMED="revertConfirmed",e.ERROR="revertError",e}({}),i=function(e){return e.VIEWED="panelViewed",e.SUPPORTED="panelSupported",e.NONE="panelNone",e.GET_ERROR="panelGetError",e.SET_ERROR="panelSetError",e}({}),r=function(e){return e.CLICKED="bylineClicked",e.NEW_EDITOR_MODAL_OPENED="newEditorModalOpened",e.NEW_EDITOR_MODAL_CLOSED="newEditorModalClosed",e}({});const l=(e,t,n)=>{const{pageAction:a,source:o,setting:s}=t;e({type:"sendUIEvent",data:{action:"triggered",actionSubject:n,source:o,actionSubjectId:"page",attributes:{pageAction:a,setting:s}}}).fire()},c=(e,t)=>{const{level:n,panelAction:a,source:o}=t;e({type:"sendUIEvent",data:{action:"clicked",actionSubject:"autoConversion",source:o,actionSubjectId:"panel",attributes:{level:n,panelAction:a}}}).fire()}},336712:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ExternalUserLozenge:()=>u,ExternalUserLozengeProps:()=>d});var a=n(615919),o=n(840506),s=n(93972),i=n(142807),r=n(480963),l=n(332072);const c=(0,s.defineMessages)({externalUserLozengeText:{id:"external-collab-ui.user-guest-lozenge",defaultMessage:"Guest"},guestUserTooltip:{id:"external-collab-ui.user-guest-lozenge.tooltip",defaultMessage:"Guests can only access certain spaces and have limited access to user info."}}),d={text:o.createElement(l.Z,{content:o.createElement(i.Z,(0,a.Z)({},c.guestUserTooltip))},o.createElement(i.Z,(0,a.Z)({},c.externalUserLozengeText))),appearance:"default",isBold:!1},u=()=>{const{text:e,appearance:t,isBold:n}=d;return o.createElement(r.Z,{appearance:t,isBold:n},e)};u.displayName="ExternalUserLozenge"},649567:(e,t,n)=>{"use strict";n.d(t,{$:()=>a});const a=n(779076).ZP`fragment ExternalCollaboratorEntitlementFragment on Query{entitlements{externalCollaborator{isEntitled}}}`},189445:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});const a=e=>null==e?void 0:e.entitlements.externalCollaborator.isEntitled},822725:(e,t,n)=>{"use strict";n.d(t,{H$:()=>o,Kv:()=>p,NE:()=>i,QG:()=>r,Sn:()=>u,aN:()=>s,d6:()=>a,dd:()=>c,dv:()=>d,zg:()=>l});const a="confluence:contentBylineItem",o="confluence:contextMenu",s="confluence:contentAction",i="confluence:globalPage",r="confluence:globalSettings",l="confluence:homepageFeed",c="confluence:spacePage",d="confluence:spaceSettings",u="confluence:customContent",p=[i,r,l]},883098:(e,t,n)=>{"use strict";n.d(t,{N:()=>d,u:()=>u});var a=n(840506),o=n(332072),s=n(145183),i=n(197949),r=n(219263),l=n(953901);const c=e=>{var t,n;return null!==(t=null==e||null===(n=e.properties)||void 0===n||null===(n=n.keyboardShortcut)||void 0===n?void 0:n.accelerator)&&void 0!==t?t:""},d=({module:e,tooltip:t="",children:n})=>{const r=c(e);return r&&!s.HU.includes(r)?a.createElement(o.Z,{tag:"span",testId:`forge-keyboard-shortcut-visualizer-${r}`,content:a.createElement(i.oW,{shortcut:r,contentBefore:t})},n):a.createElement(a.Fragment,null,n)},u=({module:e,action:t})=>{const n=c(e);return n&&t&&!s.HU.includes(n)?a.createElement("span",{"data-testid":`forge-keyboard-shortcut-${n}`},a.createElement(r.E,{accelerator:n,listener:t,shortcutType:l.P.Forge})):null}},885568:(e,t,n)=>{"use strict";n.d(t,{l:()=>o,r:()=>s});var a=n(940155);const o=e=>(0,a.ZR)({__loadable_id__:"7MhFC",name:"lazyForgeUIExtensionsWithLoader",loader:async()=>(await Promise.all([n.e(1672),n.e(45762)]).then(n.bind(n,348370))).ForgeUIExtensionsWrapper,loading:e}),s=o(void 0)},555813:(e,t,n)=>{"use strict";n.d(t,{BX:()=>s,ZR:()=>o,gZ:()=>i,rh:()=>a});const a=e=>{if(null==e||!e.id)return;const[,t]=e.id.split("/");return t},o=e=>{if(!e.id)return;const t=e.id.split("/");return t[t.length-1]},s=e=>`forge:${a(e)}:${e.environmentId}:${o(e)}`,i=e=>{var t;const n=null==e||null===(t=e.extensionContexts)||void 0===t?void 0:t[0];return n?n.hasOwnProperty("extensions")?n.extensions:n.hasOwnProperty("extensionsByType")?n.extensionsByType:[]:[]}},572647:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});const a=e=>null!=e&&e.includes("PAGE")?"page":null!=e&&e.includes("BLOG")?"blogpost":null!=e&&e.includes("SPACE")?"space":"page"},504265:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});var a=n(71825);const o=(e,t)=>{const n=t||e.properties.title,{environmentType:o,environmentKey:s}=e;return o===a.c.PRODUCTION?n:o===a.c.DEVELOPMENT&&"default"!==s?`${n} - ${s} (Dev)`:`${n} (${i=o,i&&i.length?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():""})`;var i}},666241:(e,t,n)=>{"use strict";function a(e,t,n){!e()&&t&&setTimeout((()=>a(e,t-1,n)),n)}function o(e){if(!e||!e.length)return;let t="#"===e[0]?e:`#${e}`;return function(e){return e.startsWith("ari:cloud:ecosystem::extension")}(e)&&(t=function(e){return e.replace(/\//g,"\\/").replace(/:/g,"\\:")}(t)),t}function s(e){const t=document.querySelector(e);"true"===t.getAttribute("aria-expanded")||t.click()}function i(e){const t=o(e);t&&a((()=>{const e=document.querySelector(t);if(e)return e.click(),!0}),100,5)}function r(e){var t;const n=o(e);if(!n)return;const a=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0});null===(t=document.querySelector(n))||void 0===t||t.dispatchEvent(a)}function l(){s("#tools-menu-trigger")}function c(){s("#context-menu-other-apps")}n.d(t,{GD:()=>l,Zo:()=>i,c$:()=>r,gI:()=>c})},273155:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var a=n(170560),o=n(410941);const s=()=>{const e=(0,a.k)(),[t]=(0,o.d)();return e&&t.isLive}},651561:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});const a=(0,n(940155).ui)({__loadable_id__:"tqi2j",name:"MoveBlogModalLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(14248),n.e(21488),n.e(84185),n.e(42546)]).then(n.bind(n,739506))).MoveBlogModal})},471611:(e,t,n)=>{"use strict";n.d(t,{T:()=>_});var a=n(615919),o=n(840506),s=n(142807),i=n(167347),r=n(486889),l=n(555687),c=n(587499),d=n(884185),u=n(811836),p=n(815526),m=n(416595),h=n(272169),g=n(234461),f=n(9019),E=n(627521),y=n(357336),b=n(33347),v=n(583712);const _=({entityId:e,entityType:t,isOpen:n,setIsOpen:_,spaceKey:Z})=>{const{createAnalyticsEvent:C}=(0,r._)(),[I,{error:S}]=(0,i.Db)(b.p,{refetchQueries:[{query:v.L,variables:{type:t,id:e,exp:"end_of_page",key:Z}}]}),k=(0,o.useCallback)((()=>{C({type:"sendUIEvent",data:{source:"page",action:"clicked",actionSubject:"button",actionSubjectId:"hideEOPModalCancel",attributes:{contentId:e}}}).fire(),_(!1)}),[C,_,e]),T=(0,o.useCallback)((()=>{I({variables:{type:t,id:e,status:!1}}).catch((()=>{})),C({type:"sendUIEvent",data:{source:"page",action:"clicked",actionSubject:"button",actionSubjectId:"hideEOPModalConfirm",attributes:{contentId:e}}}).fire(),_(!1)}),[C,I,_,e,t]);return S?o.createElement(g.S,{attribution:f.x.SMARTS},o.createElement(E.X,{error:S})):o.createElement(c.Z,null,n&&o.createElement(d.Z,{onClose:k,testId:"eop-hide-modal"},o.createElement(u.default,null,o.createElement(p.default,null,o.createElement(s.Z,(0,a.Z)((0,a.Z)({},y.a.modal_title),{},{values:{b:e=>o.createElement("b",null,e)}})))),o.createElement(m.default,null,o.createElement(s.Z,(0,a.Z)({},y.a.modal_info)),o.createElement("br",null),o.createElement("br",null),o.createElement(s.Z,(0,a.Z)({},y.a.modal_info_show))),o.createElement(h.default,null,o.createElement(l.Z,{appearance:"subtle",onClick:k,testId:"eop-hide-modal-cancel"},o.createElement(s.Z,(0,a.Z)({},y.a.modal_cancel))),o.createElement(l.Z,{appearance:"primary",onClick:T,testId:"eop-hide-modal-confirm",autoFocus:!0},o.createElement(s.Z,(0,a.Z)({},y.a.modal_hide))))))};_.displayName="EndOfPageHideConfirmModal"},33347:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});const a=n(779076).ZP`mutation EndOfPageRecHideStatusMutation($type:String!$id:ID!$status:Boolean!){setRecommendedPagesStatus(input:{entityType:$type entityId:$id enableRecommendedPages:$status}){success errors{message}}}`},583712:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});const a=n(779076).ZP`query EndOfPageRecommendationQuery($type:String!$id:ID!$exp:String!$key:ID!){space(pageId:$id){id}singleContent(id:$id){id metadata{createdDate lastModifiedDate}}getRecommendedPages(entityType:$type entityId:$id experience:$exp){recommendedPages{content{id title type links{webui}space{id key name}emoji:properties(key:"emoji-title-published"){nodes{id key value}}}strategy}status{userCanToggle isEnabled}}getRecommendedPagesSpaceStatus(entityId:$key){recommendedPagesEnabled}}`},357336:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});const a=(0,n(93972).defineMessages)({title:{id:"page-recommendations.eop.title",defaultMessage:"Related pages"},feedback:{id:"page-recommendations.eop.feedback.button",defaultMessage:"Give feedback"},info:{id:"page-recommendations.eop.feedback.info",defaultMessage:"These suggestions are automatically generated based on pages that are viewed or are organized together. Suggestions update over time and respect page restrictions."},hide:{id:"page-recommendations.eop.feedback.hide",defaultMessage:"Hide for everyone..."},modal_title:{id:"page-recommendations.eop.hide.modal.title",defaultMessage:"Hide related pages for <b>everyone</b>?"},modal_cancel:{id:"page-recommendations.eop.hide.modal.cancel",defaultMessage:"Cancel"},modal_hide:{id:"page-recommendations.eop.hide.modal.hide.button",defaultMessage:"Hide for everyone"},modal_info:{id:"page-recommendations.eop.hide.modal.info",defaultMessage:"Suggestions for this page will be hidden from everyone."},modal_info_show:{id:"page-recommendations.eop.hide.modal.info.show",defaultMessage:"You can show related pages again under advanced details for this page."},space_setting_info:{id:"page-recommendations.eop.space.setting.info",defaultMessage:"Related pages are automatically generated suggestions that are based on pages viewed or organized together. These will appear as a series of cards at the bottom of some pages, and may update over time."},space_setting_hide_toggle:{id:"page-recommendations.eop.space.setting.hide.toggle",defaultMessage:"Related pages"},space_setting_default:{id:"page-recommendations.eop.space.setting.default",defaultMessage:"Default behavior"},space_setting_on:{id:"page-recommendations.eop.space.setting.on",defaultMessage:"Related pages are on for this space, but anyone with edit permissions can hide suggestions on a page."},space_setting_on_hidden:{id:"page-recommendations.eop.space.setting.on.hidden",defaultMessage:"Related pages are on for this space, but suggestions will be hidden unless set to show on a page by someone with edit permissions."},space_setting_off:{id:"page-recommendations.eop.space.setting.off",defaultMessage:"Related pages are off for this space."},space_setting_hidden:{id:"page-recommendations.eop.space.setting.default.hidden",defaultMessage:"Hidden on each page"},space_setting_shown:{id:"page-recommendations.eop.space.setting.default.shown",defaultMessage:"Shown on each page"},feedbackMessage:{id:"page-recommendations.related.pages.space.settings.feedback.section",defaultMessage:"What do you think of related pages?"},feedbackButtonText:{id:"page-recommendations.related.pages.space.settings.feedback.button.text",defaultMessage:"Give feedback"},feedbackTitle:{id:"page-recommendations.feedback.title.v2",defaultMessage:"Thank you for trying out related pages"},feedbackDescription:{id:"page-recommendations.feedback.description",defaultMessage:"How satisfied are you with related pages?"},feedbackFollowup:{id:"page-recommendations.feedback.followup",defaultMessage:"Thanks for the feedback! What do you like about it? What could be improved?"},feedbackSecondFollowup:{id:"page-recommendations.feedback.followup.second",defaultMessage:"Any feedback on the related pages for this specific page?"},feedbackConfirmation:{id:"page-recommendations.feedback.confirmation",defaultMessage:"Feedback submitted"},feedbackConfirmationDescription:{id:"page-recommendations.feedback.confirmation.description.v2",defaultMessage:"Thank you for helping us improve related pages!"},feedbackSubmit:{id:"page-recommendations.feedback.submit",defaultMessage:"Submit"},feedbackCancel:{id:"page-recommendations.feedback.cancel",defaultMessage:"Cancel"},terrible:{id:"page-recommendations.feedback.rating.terrible",defaultMessage:"terrible"},bad:{id:"page-recommendations.feedback.rating.bad",defaultMessage:"bad"},okay:{id:"page-recommendations.feedback.rating.okay",defaultMessage:"okay"},good:{id:"page-recommendations.feedback.rating.good",defaultMessage:"good"},great:{id:"page-recommendations.feedback.rating.great",defaultMessage:"great"}})},808777:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});const a=(0,n(940155).ui)({__loadable_id__:"yIUdp",name:"MovePageDialog",loader:async()=>(await Promise.all([n.e(12705),n.e(54936),n.e(11216),n.e(61769),n.e(14248),n.e(21488),n.e(84185),n.e(35824),n.e(31382),n.e(42434),n.e(1244),n.e(72178),n.e(70289),n.e(13875),n.e(34641),n.e(32787),n.e(49757),n.e(4991),n.e(98185),n.e(10714),n.e(86138),n.e(37330),n.e(4432),n.e(54499),n.e(36085)]).then(n.bind(n,739164))).MovePageDialog})},378552:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var a=n(840506),o=n(949295),s=n(480870);class i extends a.PureComponent{render(){const{webItemId:e}=this.props,t=(e=>({type:"sendUIEvent",data:{action:"clicked",source:"viewPageScreen",actionSubject:"AnalyticsButton",attributes:{from:e===s.lu?"fromByline":"fromActionMenu",type:"viewers"}}}))(e);return a.createElement(o.Z,{analyticsData:t},this.props.children)}}i.displayName="AnalyticsPluginWrapper"},825274:(e,t,n)=>{"use strict";n.d(t,{j:()=>r,Y:()=>i});var a=n(840506),o=n(940155);const s=()=>a.createElement("div",{style:{height:"40px",display:"flex",width:"100%",padding:"var(--ds-space-100, 8px) var(--ds-space-250, 20px)",alignItems:"center",boxSizing:"border-box"}},a.createElement("div",{style:{height:"17px",width:"100%",backgroundColor:"var(--ds-background-neutral, #F8F8F8)",borderRadius:"10%"}}));s.displayName="PresentationModePlaceholder";const i=(0,o.tM)({__loadable_id__:"b_wkl",name:"PresenterModeContextProvider",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(31382),n.e(42434),n.e(1244),n.e(72178),n.e(70289),n.e(83785),n.e(41123),n.e(38727)]).then(n.bind(n,163732))).PresenterModeContextProvider}),r=(0,o.ui)({__loadable_id__:"CCOHX",name:"LazyPresenterModeContextConsumer",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(31382),n.e(42434),n.e(1244),n.e(72178),n.e(70289),n.e(83785),n.e(41123),n.e(38727)]).then(n.bind(n,163732))).PresenterModeContextConsumer,loading:()=>a.createElement(s,null)})},707474:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});let a=function(e){return e.ViewPage="VIEW_PAGE",e.EditPage="EDIT_PAGE",e}({})},299982:(e,t,n)=>{"use strict";n.d(t,{C$:()=>s,D2:()=>o,Nd:()=>r,e3:()=>i});var a=n(940155);const o=(0,a.ui)({__loadable_id__:"gRKfU",name:"ResolvedInlineCommentsDialogLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(54936),n.e(11216),n.e(61769),n.e(14248),n.e(21488),n.e(84185),n.e(32072),n.e(33963),n.e(31382),n.e(42434),n.e(29583),n.e(1244),n.e(90077),n.e(72178),n.e(16215),n.e(82995),n.e(48708),n.e(70289),n.e(31462),n.e(75119),n.e(67616),n.e(33446),n.e(54305),n.e(16314),n.e(42505),n.e(52044),n.e(96400),n.e(84266),n.e(71852),n.e(61198),n.e(3421),n.e(83785),n.e(18213),n.e(78866),n.e(46052),n.e(89946),n.e(47974),n.e(88238),n.e(38393)]).then(n.bind(n,775838))).ResolvedInlineCommentsDialog}),s=(0,a.ui)({__loadable_id__:"6Du7P",name:"ResolvedInlineCommentsQueryRendererLoader",loader:async()=>(await n.e(42975).then(n.bind(n,907433))).ResolvedInlineCommentsQueryRenderer}),i=(0,a.ZR)({__loadable_id__:"nvnmP",name:"ResolvedInlineCommentsCounterLoader",loader:async()=>(await n.e(51790).then(n.bind(n,346450))).ResolvedInlineCommentsCounter}),r=(0,a.ui)({__loadable_id__:"SsPfF",name:"ReattachCommentPanelLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(54936),n.e(11216),n.e(61769),n.e(14248),n.e(21488),n.e(84185),n.e(32072),n.e(33963),n.e(31382),n.e(42434),n.e(1244),n.e(90077),n.e(72178),n.e(16215),n.e(82995),n.e(48708),n.e(70289),n.e(31462),n.e(75119),n.e(67616),n.e(33446),n.e(54305),n.e(16314),n.e(42505),n.e(52044),n.e(96400),n.e(84266),n.e(71852),n.e(61198),n.e(3421),n.e(83785),n.e(18213),n.e(78866),n.e(46052),n.e(47974),n.e(88238),n.e(62770)]).then(n.bind(n,170189))).ReattachCommentPanel})},622355:(e,t,n)=>{"use strict";n.d(t,{h:()=>m});var a=n(615919),o=n(840506),s=n(142807),i=n(822464),r=n(486889),l=n(190206),c=n(262600),d=n(582463),u=n(669178);const p=o.createElement(s.Z,{id:"restrictions.dialog.link.text",defaultMessage:"Restrictions"});function m({children:e}){const{edition:t}=(0,d.D)(),n=(0,r._)(),s=(0,o.useContext)(l.F);return e&&t?o.createElement(i.xs,{to:[c.j]},(o=>e({id:"bm-restrictions-link",label:p,onClick(){(0,u.L)((0,a.Z)((0,a.Z)({},n),{},{actionSubjectId:"restrictionsDialogLink",dialogStateContainer:o,edition:t,experienceTracker:s,triggeredFrom:"actionsMenu"}))}}))):null}},209099:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});const a=e=>"~"===(null==e?void 0:e[0])?"personal":"global"},240694:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var a=n(840506),o=n(167347),s=n(487696);const i=n(779076).ZP`query SpacePageIdQuery($spaceKey:String){space(key:$spaceKey){id}}`,r=e=>{var t,n;const{spaceKey:r}=(0,a.useContext)(s.z1);e=null!==(t=e)&&void 0!==t?t:r;const{data:l}=(0,o.aM)(i,{variables:{spaceKey:e},skip:!e});return(null==l||null===(n=l.space)||void 0===n?void 0:n.id)||void 0}},523241:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var a=n(840506),o=n(804929);const s=e=>{(0,a.useEffect)((()=>{if(!window.__SSR_CLIENT_ERRORS__||!window.__SSR_CLIENT_ERRORS__[e])return;window.__SSR_CLIENT_ERRORS__[e].forEach((e=>(0,o.UJ)().submitError(e,{attribution:"backbone"}))),delete window.__SSR_CLIENT_ERRORS__[e]}),[e])}},123672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=e=>t=>n=>{const a=n(t),o=a.clone();return o&&o.fire(e),a}},973673:(e,t,n)=>{"use strict";n.d(t,{Hw:()=>i,hl:()=>r});var a=n(199009);class o{constructor(){(0,a.Z)(this,"enabled",!1)}log(...e){this.enabled&&console.log(o.UFOprefix,...e)}warn(...e){this.enabled&&console.warn(o.UFOprefix,...e)}enable(){this.enabled=!0}disable(){this.enabled=!1}}(0,a.Z)(o,"UFOprefix","[ufoðŸ›¸]");const s=new o,i=(...e)=>{s.log(...e)},r=(...e)=>{s.warn(...e)}},391023:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var a=n(199009),o=n(973673),s=n(69105);class i{constructor(e,t){(0,a.Z)(this,"experienceId",void 0),(0,a.Z)(this,"config",void 0),(0,a.Z)(this,"instances",{}),this.experienceId=e,this.config=t}getInstance(e){return this.instances[e]||(this.instances[e]=new s.Q(this.experienceId,this.config,e)),this.instances[e]}release(e){(0,o.Hw)("instanceId",e),this.instances[e]&&this.instances[e].abort(),delete this.instances[e]}}},347211:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});const a={NOT_STARTED:{id:"NOT_STARTED",final:!0},STARTED:{id:"STARTED"},IN_PROGRESS:{id:"IN_PROGRESS"},BLOCKED:{id:"BLOCKED"},RECOVERED:{id:"RECOVERED"},SUCCEEDED:{id:"SUCCEEDED",final:!0,success:!0},SUCCEEDED_WAITING_FOR_DEPS:{id:"SUCCEEDED_WAITING_FOR_DEPS"},FAILED:{id:"FAILED",final:!0},ABORTED:{id:"ABORTED",final:!0}}},742685:(e,t,n)=>{"use strict";n.d(t,{R:()=>o,Z:()=>a});let a=function(e){return e.Load="load",e.Experience="experience",e.Operation="operation",e}({}),o=function(e){return e.PageLoad="page-load",e.PageSegmentLoad="page-segment-load",e.InlineResult="inline-result",e.Custom="custom",e}({})},69105:(e,t,n)=>{"use strict";n.d(t,{Q:()=>v});var a=n(615919),o=n(199009),s=n(278811);let i=function(e){return e[e.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",e[e.SUBSCRIBE=1]="SUBSCRIBE",e[e.UNSUBSCRIBE=2]="UNSUBSCRIBE",e}({}),r=function(e){return e.VISIBLE="visible",e.HIDDEN="hidden",e.MIXED="mixed",e}({});const l="__SUBSCRIBE_ALL__",c="inline-response",d=()=>{if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){const e=(()=>{const e=[];return{__buffer_only__:!0,push:t=>{e.length<250&&e.push(t)},getStream:()=>e}})();globalThis.__UFO_GLOBAL_EVENT_STREAM__=e}return globalThis.__UFO_GLOBAL_EVENT_STREAM__};var u=n(973673);const p=()=>"undefined"!=typeof window;const m=new class{constructor(){(0,o.Z)(this,"started",!1),(0,o.Z)(this,"observers",[]),(0,o.Z)(this,"broadcast",(()=>{this.observers.forEach((e=>e())),this.observers=[]}))}start(){this.started||(this.started=!0,document.addEventListener("visibilitychange",this.broadcast),p()&&window.addEventListener("pagehide",this.broadcast))}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter((t=>t!==e))}};var h=n(347211);const g={[h.h.NOT_STARTED.id]:[h.h.STARTED.id],[h.h.STARTED.id]:[h.h.IN_PROGRESS.id,h.h.BLOCKED.id,h.h.SUCCEEDED.id,h.h.SUCCEEDED_WAITING_FOR_DEPS.id,h.h.FAILED.id,h.h.ABORTED.id],[h.h.IN_PROGRESS.id]:[h.h.BLOCKED.id,h.h.SUCCEEDED.id,h.h.SUCCEEDED_WAITING_FOR_DEPS.id,h.h.FAILED.id,h.h.ABORTED.id],[h.h.BLOCKED.id]:[h.h.RECOVERED.id,h.h.ABORTED.id],[h.h.RECOVERED.id]:[h.h.STARTED.id,h.h.SUCCEEDED.id,h.h.SUCCEEDED_WAITING_FOR_DEPS.id,h.h.FAILED.id,h.h.ABORTED.id],[h.h.SUCCEEDED.id]:[h.h.STARTED.id],[h.h.SUCCEEDED_WAITING_FOR_DEPS.id]:[h.h.SUCCEEDED.id,h.h.FAILED.id,h.h.ABORTED.id],[h.h.FAILED.id]:[h.h.STARTED.id],[h.h.ABORTED.id]:[h.h.STARTED.id]};var f=n(742685);const E=()=>p()&&window.document&&"visible"!==window.document.visibilityState?r.HIDDEN:r.VISIBLE,y=e=>void 0!==e?~~e:~~performance.now();class b{constructor(e,t,n=null){(0,o.Z)(this,"state",h.h.NOT_STARTED),(0,o.Z)(this,"id",void 0),(0,o.Z)(this,"instanceId",null),(0,o.Z)(this,"parent",null),(0,o.Z)(this,"category",null),(0,o.Z)(this,"type",void 0),(0,o.Z)(this,"performanceType",void 0),(0,o.Z)(this,"metadata",{}),(0,o.Z)(this,"onDoneCallbacks",[]),(0,o.Z)(this,"childExperiences",[]),(0,o.Z)(this,"featureFlags",void 0),(0,o.Z)(this,"timings",void 0),(0,o.Z)(this,"explicitTimings",{}),(0,o.Z)(this,"isSSROutputAsFMP",!1),(0,o.Z)(this,"handleDoneBind",void 0),(0,o.Z)(this,"uuid",null),(0,o.Z)(this,"until",void 0),(0,o.Z)(this,"_until",null),(0,o.Z)(this,"pageVisibleState",void 0),(0,o.Z)(this,"metrics",{startTime:null,endTime:null,marks:[]}),(0,o.Z)(this,"performanceConfig",{}),(0,o.Z)(this,"config",void 0),(0,o.Z)(this,"setPageVisibleStateToMixed",(()=>{this.pageVisibleState=r.MIXED,m.unsubscribe(this.setPageVisibleStateToMixed)})),this.id=e,this.category=(null==t?void 0:t.category)||null,this.until=(null==t?void 0:t.until)||null,this.instanceId=n,this.handleDoneBind=this._handleDoneExperience.bind(this),this.type=t.type,this.performanceType=t.performanceType,this.performanceConfig=t.performanceConfig||{},this.config=t,this.pageVisibleState=E(),this.featureFlags=t.featureFlags||[],this.timings=t.timings||[],t.performanceType!==f.R.PageLoad&&t.performanceType!==f.R.PageSegmentLoad||(this.isSSROutputAsFMP=t.isSSROutputAsFMP||!1)}async transition(e,t){if((0,u.Hw)("async transition",this.id,this.state.id,e.id),o=this.state,r=e,g[o.id]&&g[o.id].includes(r.id)){if((0,u.Hw)(`TRANSITION: ${this.id} from ${this.state.id} to ${e.id} successful`,this.state.final,!e.final),e===h.h.STARTED&&this._reset(),this.state.final&&!e.final&&(this.metrics.startTime=y(t),this.uuid=(0,s.v4)()),this.state=e,e.final){this.metrics.endTime=y(t),this._isManualStateEnabled()||d().push((n=l,a=this.handleDoneBind,{type:i.UNSUBSCRIBE,payload:{experienceId:n,callback:a}}));const e=await this.exportData();(0,u.Hw)("this.parent",this.parent),d().push((e=>({type:i.EXPERIENCE_PAYLOAD,payload:e}))(e))}return!0}var n,a,o,r;return(0,u.Hw)(`TRANSITION: ${this.id} from ${this.state.id} to ${e.id} unsuccessful`),(0,u.hl)(`transition of ${this.id} from ${this.state} to ${e} is not possible`),!1}async start(e){var t,n;await this.transition(h.h.STARTED,e)&&(this.pageVisibleState=E(),m.subscribe(this.setPageVisibleStateToMixed),this._isManualStateEnabled()||((0,u.Hw)("subscribed",this.id),d().push((t=l,n=this.handleDoneBind,{type:i.SUBSCRIBE,payload:{experienceId:t,callback:n}}))))}mark(e,t){"fmp"!==e&&e!==c?this._mark(e,t):(0,u.hl)("please use markFMP or markInlineResponse for specialised marks")}_mark(e,t){this.metrics.marks.push({name:e,time:y(t)}),this.transition(h.h.IN_PROGRESS)}markFMP(e){this._mark("fmp",e)}markInlineResponse(e){this._mark(c,e)}_isManualStateEnabled(){return null===this.until}_validateManualState(){return!!this._isManualStateEnabled()||((0,u.hl)('manual change of state not allowed as "until" is defined'),!1)}switchToEndState(e,t){return null!=t&&t.force||this._validateManualState()?(null!=t&&t.metadata&&this.addMetadata(t.metadata),m.unsubscribe(this.setPageVisibleStateToMixed),this.transition(e)):null}async success(e){return this.switchToEndState(h.h.SUCCEEDED,e)}async failure(e){return this.switchToEndState(h.h.FAILED,e)}async abort(e){return this.switchToEndState(h.h.ABORTED,e)}addMetadata(e){Object.assign(this.metadata,e)}_handleDoneExperience(e){if((0,u.Hw)("_handleDoneExperience in",this.id,e.state,e,this._until),e.state.final&&null!==this._until){const{done:t,state:n}=this._until(e);t&&!this.state.final&&this.transition(n)}}async getId(){return this.id}async exportData(){return{id:await this.getId(),uuid:this.uuid,type:this.type,schemaVersion:"0.1.5",performanceType:this.performanceType,category:this.category,state:this.state,metadata:(0,a.Z)({},this.metadata),metrics:(0,a.Z)({},this.metrics),children:[...this.childExperiences],result:{success:!!this.state.success,startTime:this.metrics.startTime,duration:(this.metrics.endTime||0)-(this.metrics.startTime||0)},platform:this.config.platform||null,pageVisibleState:this.pageVisibleState,featureFlags:this.featureFlags,isSSROutputAsFMP:this.isSSROutputAsFMP,timings:this.timings,explicitTimings:this.explicitTimings,performanceConfig:this.performanceConfig}}_reset(){this.parent=null,this.metadata={},this.onDoneCallbacks=[],this.childExperiences=[],this.metrics={startTime:null,endTime:null,marks:[]},this._until=this.until?this.until():null}}class v extends b{}},315884:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(840506),o=n(39030);const s=(0,o.iv)({display:"inline-flex",gap:"var(--ds-space-050, 4px)","> *":{flex:"1 0 auto"}});function i({appearance:e,children:t,testId:n,label:i,titleId:r}){return(0,o.tZ)("div",{css:s,"data-testid":n,role:"group","aria-label":i,"aria-labelledby":r},a.Children.map(a.Children.toArray(t),((t,n)=>t?(0,o.tZ)(a.Fragment,{key:n},e?a.cloneElement(t,{appearance:e}):t):null)))}i.displayName="ButtonGroup"},497242:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(615919),o=n(872342),s=n(840506),i=n(70397),r=n(250707),l=n(497507),c=n(996755),d=n(770132);const u=["children","component","description","elemAfter","elemBefore","href","isDisabled","isSelected","onClick","rel","shouldDescriptionWrap","shouldTitleWrap","target","testId"],p=(0,s.forwardRef)(((e,t)=>{let{children:n,component:p,description:m,elemAfter:h,elemBefore:g,href:f,isDisabled:E,isSelected:y,onClick:b,rel:v,shouldDescriptionWrap:_=!0,shouldTitleWrap:Z=!0,target:C,testId:I}=e,S=(0,o.Z)(e,u);const k=(0,d.Z)();return p?s.createElement(l.Z,(0,a.Z)({component:p,description:m,iconAfter:h,iconBefore:g,isDisabled:E,isSelected:y,onClick:b,ref:(0,i.Z)([t,k]),shouldDescriptionWrap:_,shouldTitleWrap:Z,testId:I,href:f,target:C,rel:v},S),n):f?s.createElement(c.Z,(0,a.Z)({description:m,href:f,iconAfter:h,iconBefore:g,isDisabled:E,isSelected:y,onClick:b,ref:(0,i.Z)([t,k]),rel:v,role:"menuitem",shouldDescriptionWrap:_,shouldTitleWrap:Z,target:C,testId:I},S),n):s.createElement(r.Z,(0,a.Z)({description:m,iconAfter:h,iconBefore:g,isDisabled:E,isSelected:y,onClick:b,ref:(0,i.Z)([t,k]),role:"menuitem",shouldDescriptionWrap:_,shouldTitleWrap:Z,testId:I,target:C,rel:v},S),n)}))},65301:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>M});var a=n(615919),o=n(872342),s=n(840506),i=n(393242),r=n(555687),l=n(188511),c=n(70397),d=n(319754),u=n(331714),p=n(327027),m=n(293724),h=n(724093),g=n(2142),f=n(268978),E=n(39030),y=n(116510),b=n(723177),v=n(429762),_=n(618305);const Z=(0,b.tu)({display:"flex",minWidth:"160px",padding:"space.250",justifyContent:"center"}),C=({statusLabel:e="Loading",testId:t})=>(0,E.tZ)(v.Z,{xcss:Z},(0,E.tZ)(_.Z,{size:"small",label:e,testId:t}));C.displayName="LoadingIndicator";const I=({children:e,isLoading:t,maxHeight:n,maxWidth:a,onClose:o,onUpdate:i,statusLabel:r,setInitialFocusRef:l,spacing:c,testId:d})=>{const{menuItemRefs:u}=(0,s.useContext)(f.K);return(0,s.useLayoutEffect)((()=>{i()}),[t,i]),(0,s.useEffect)((()=>{var e;const t=null!==(e=u.find((e=>!e.hasAttribute("disabled"))))&&void 0!==e?e:null;null==l||l(t)}),[u,l]),(0,E.tZ)(y.Z,{isLoading:t,maxHeight:n,maxWidth:a,onClick:e=>{u.some((t=>{const n=function(e){const t=e.getAttribute("role");return"checkbox"===t||"menuitemcheckbox"===t}(t)||function(e){const t=e.getAttribute("role");return"radio"===t||"menuitemradio"===t}(t);return t.contains(e.target)&&!n}))&&o&&o(e)},role:"menu",spacing:c,testId:d&&`${d}--menu-group`},t?(0,E.tZ)(C,{statusLabel:r,testId:d&&`${d}--loading-indicator`}):e)};I.displayName="MenuWrapper";const S=I;var k=n(300482),T=n(770132);const w="ds--dropdown--";function R(){return(0,s.useRef)(`${w}${Math.random().toString(16).substr(2,8)}`).current}const O=["ref","aria-controls","aria-expanded","aria-haspopup"],D=`calc(100vh - ${2*(0,g.ww)()}px)`,P={top:"bottom",bottom:"top",left:"right",right:"left",start:"end",auto:"auto",end:"start"},x=({autoFocus:e=!1,children:t,defaultOpen:n=!1,isLoading:E=!1,isOpen:y,onOpenChange:b=d.Z,placement:v="bottom-start",shouldFlip:_=!0,shouldRenderToParent:Z=!1,spacing:C,statusLabel:I,testId:x,trigger:M,zIndex:N=g.ug.modal(),label:A})=>{const[L,F]=(0,u.Z)(y,(()=>n)),[B,U]=(0,s.useState)(!1),$=R(),K=(0,T.Z)(),j=(0,s.useMemo)((()=>(e=>{const t=e.split("-"),n=t[0];if(["top","bottom"].includes(n)){if(2===t.length&&["start","end"].includes(t[1])){const e=t[1];return[`${n}`,`${n}-${P[e]}`,`${P[n]}-${e}`,`${P[n]}`,`${P[n]}-${P[e]}`,"auto"]}return[`${n}-start`,`${n}-end`,`${P[n]}`,`${P[n]}-start`,`${P[n]}-end`,"auto"]}})(v)),[v]),G=(0,s.useCallback)((e=>{const t=!L,{clientX:n,clientY:a,type:o,detail:s}=e;if("keydown"===o)U(!0);else if(0===n||0===a)U(!0);else if(0===s)U(!0);else{var i;null==K||null===(i=K.current)||void 0===i||i.focus()}F(t),b({isOpen:t,event:e})}),[K,b,L,F]),W=(0,s.useCallback)((e=>{if("Escape"!==e.key&&e.target.closest(`[id^=${w}] [aria-haspopup]`))return;F(false),b({isOpen:false,event:e})}),[b,F]),{isFocused:H,bindFocus:V}=(0,p.Z)();return(0,s.useEffect)((()=>H?L?d.Z:(0,i.ak)(window,{type:"keydown",listener:function(e){e.key===l.Hb?(e.preventDefault(),G(e)):" "!==e.key&&"Enter"!==e.key||0!==e.detail||U(!0)}}):d.Z),[H,L,G]),s.createElement(k.Z,null,s.createElement(h.Z,{id:L?$:void 0,shouldFlip:_,isOpen:L,onClose:W,zIndex:N,placement:v,fallbackPlacements:j,testId:x&&`${x}--content`,shouldUseCaptureOnOutsideClick:!0,shouldRenderToParent:Z,trigger:e=>{let{ref:t,"aria-controls":n,"aria-expanded":i,"aria-haspopup":l}=e,d=(0,o.Z)(e,O);return"function"==typeof M?M((0,a.Z)((0,a.Z)((0,a.Z)({"aria-controls":n,"aria-expanded":i,"aria-haspopup":l},d),V),{},{triggerRef:(0,c.Z)([t,K]),isSelected:L,onClick:G,testId:x&&`${x}--trigger`})):s.createElement(r.Z,(0,a.Z)((0,a.Z)({},V),{},{ref:(0,c.Z)([t,K]),"aria-controls":n,"aria-expanded":i,"aria-haspopup":l,isSelected:L,iconAfter:s.createElement(m.default,{size:"medium",label:""}),onClick:G,testId:x&&`${x}--trigger`,"aria-label":A}),M)},content:({setInitialFocusRef:n,update:a})=>s.createElement(f.Z,null,s.createElement(S,{spacing:C,maxHeight:D,maxWidth:800,onClose:W,onUpdate:a,isLoading:E,statusLabel:I,setInitialFocusRef:B||e?n:void 0,testId:x&&`${x}--menu-wrapper`},t))}))};x.displayName="DropdownMenu";const M=x},268978:(e,t,n)=>{"use strict";n.d(t,{K:()=>p,Z:()=>h});var a=n(840506),o=n(393242),s=n(319754),i=n(259612),r=n(188511);const l={[r.Hb]:"next",[r.R4]:"prev",[r.hv]:"first",[r.yM]:"last"},c=(e,t)=>{for(;t+1<e.length;){if(!e[t+1].hasAttribute("disabled"))return e[t+1];t++}},d=(e,t)=>{for(;t>0;){if(!e[t-1].hasAttribute("disabled"))return e[t-1];t--}};function u(e,t){return n=>{const a=e.findIndex((e=>{var t;return null===(t=document.activeElement)||void 0===t?void 0:t.isSameNode(e)}));if(t())return;switch(l[n.key]){case"next":if(n.preventDefault(),a<e.length-1){const t=c(e,a);null==t||t.focus()}break;case"prev":if(n.preventDefault(),a>0){const t=d(e,a);null==t||t.focus()}break;case"first":n.preventDefault();const t=c(e,-1);null==t||t.focus();break;case"last":n.preventDefault();const o=d(e,e.length);null==o||o.focus();break;default:return}}}const p=(0,a.createContext)({menuItemRefs:[],registerRef:s.Z}),m=({children:e})=>{const t=(0,a.useRef)([]),n=(0,a.useCallback)((e=>{e&&!t.current.includes(e)&&t.current.push(e)}),[]),{isLayerDisabled:s}=(0,i.J)();(0,a.useEffect)((()=>(0,o.ak)(window,{type:"keydown",listener:u(t.current,s)})));const r={menuItemRefs:t.current,registerRef:n};return a.createElement(p.Provider,{value:r},e)};m.displayName="FocusManager";const h=m},300482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r,i:()=>s});var a=n(840506),o=n(319754);const s=(0,a.createContext)({setItemState:o.Z,getItemState:()=>{},setGroupState:o.Z,getGroupState:()=>({})}),i=e=>{const{children:t}=e,n=(0,a.useRef)({}),o=(0,a.useMemo)((()=>({setItemState:(e,t,a)=>{n.current[e]||(n.current[e]={}),n.current[e][t]=a},getItemState:(e,t)=>{if(n.current[e])return n.current[e][t]},setGroupState:(e,t)=>{n.current[e]=t},getGroupState:e=>n.current[e]||{}})),[]);return a.createElement(s.Provider,{value:o},t)};i.displayName="SelectionStore";const r=i},770132:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(840506),o=n(268978);const s=function(){const{registerRef:e}=(0,a.useContext)(o.K),t=(0,a.useRef)(null);return(0,a.useEffect)((()=>{null!==t.current&&e(t.current)}),[e]),t}},331714:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(840506);function o(e,t=(()=>e)){const n=void 0!==e,[o,s]=(0,a.useState)(t),i=(0,a.useRef)(n);(0,a.useEffect)((()=>{i.current=n}),[n]);return[n?e:o,(0,a.useCallback)((e=>{i.current||s(e)}),[])]}},327027:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(840506);function o(){const[e,t]=(0,a.useState)(!1),n=(0,a.useRef)({onFocus:()=>t(!0),onBlur:()=>t(!1)});return(0,a.useEffect)((()=>()=>t(!1)),[]),{isFocused:e,bindFocus:n.current}}},505547:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=(a=n(840506))&&a.__esModule?a:{default:a},s=n(340531);const i=e=>o.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11.793 5.793a.999.999 0 000 1.414L15.586 11H6a1 1 0 000 2h9.586l-3.793 3.793a.999.999 0 000 1.414c.39.39 1.024.39 1.415 0l5.499-5.5a.997.997 0 00.293-.679v-.057a.996.996 0 00-.293-.678l-5.499-5.5a1 1 0 00-1.415 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="ArrowRightIcon";var r=i;t.default=r},872779:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=(a=n(840506))&&a.__esModule?a:{default:a},s=n(340531);const i=e=>o.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10.294 9.698a.988.988 0 010-1.407 1.01 1.01 0 011.419 0l2.965 2.94a1.09 1.09 0 010 1.548l-2.955 2.93a1.01 1.01 0 01-1.42 0 .988.988 0 010-1.407l2.318-2.297-2.327-2.307z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="ChevronRightIcon";var r=i;t.default=r},977724:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=(a=n(840506))&&a.__esModule?a:{default:a},s=n(340531);const i=e=>o.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M14.823 15.883a5.5 5.5 0 111.06-1.06l2.647 2.647c.293.293.53.59 0 1.06-.53.47-.767.293-1.06 0l-2.647-2.647zM11.5 15.5a4 4 0 100-8 4 4 0 000 8z" fill="currentColor"/></svg>'},e));i.displayName="EditorSearchIcon";var r=i;t.default=r},113930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=(a=n(840506))&&a.__esModule?a:{default:a},s=n(340531);const i=e=>o.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13.31 5.343l7.359 13.17A1 1 0 0119.796 20H4.204a1 1 0 01-.873-1.488l7.36-13.169a1.5 1.5 0 012.618 0zM12 8.5a1.091 1.091 0 00-1.081 1.239l.513 3.766a.573.573 0 001.136 0l.513-3.766A1.091 1.091 0 0012 8.5zm0 8.63a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="EditorWarningIcon";var r=i;t.default=r},400626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=(a=n(840506))&&a.__esModule?a:{default:a},s=n(340531);const i=e=>o.default.createElement(s.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="9"/><path d="M16.155 14.493a1.174 1.174 0 11-1.662 1.663L12 13.662l-2.494 2.494a1.172 1.172 0 01-1.662 0 1.176 1.176 0 010-1.663L10.337 12 7.844 9.507a1.176 1.176 0 011.662-1.662L12 10.338l2.493-2.493a1.174 1.174 0 111.662 1.662L13.662 12l2.493 2.493z" fill="inherit"/></g></svg>'},e));i.displayName="SelectClearIcon";var r=i;t.default=r},497507:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(615919),o=n(872342),s=n(840506),i=n(39030),r=n(483039),l=n(319754),c=n(24359),d=n(370679);const u=["component","cssFn","isDisabled","isSelected","onClick","testId","children","description","iconAfter","iconBefore","overrides","onMouseDown","shouldTitleWrap","shouldDescriptionWrap","className"],p=e=>{e.preventDefault()},m=(0,s.memo)((0,s.forwardRef)(((e,t)=>{let{component:n,cssFn:s=l.Z,isDisabled:m=!1,isSelected:h=!1,onClick:g,testId:f,children:E,description:y,iconAfter:b,iconBefore:v,overrides:_,onMouseDown:Z,shouldTitleWrap:C,shouldDescriptionWrap:I,className:S}=e,k=(0,o.Z)(e,u);const T=Z;return n?((0,r.o)("platform-pkg","cssFn",s!==l.Z,""),(0,i.tZ)(d.Z,(0,a.Z)((0,a.Z)({className:(0,c.e)("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:S},k),{},{overrides:_,description:y,iconAfter:b,title:E,iconBefore:v,isSelected:h,isDisabled:m,shouldTitleWrap:C,shouldDescriptionWrap:I,css:(0,i.iv)(s({isDisabled:m,isSelected:h})),testId:f&&`${f}--primitive`}),(({children:e,className:o})=>(0,i.tZ)(n,(0,a.Z)((0,a.Z)({"data-testid":f},k),{},{className:o,ref:t,draggable:!1,onDragStart:p,onMouseDown:m?p:T,onClick:m?p:g,tabIndex:m?-1:void 0,"aria-disabled":m}),e)))):null})))},830575:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(615919),o=n(872342),s=n(39030),i=n(116510);const r=["maxWidth","minWidth"],l=e=>{let{maxWidth:t=800,minWidth:n=320}=e,l=(0,o.Z)(e,r);return(0,s.tZ)(i.Z,(0,a.Z)({maxWidth:t,minWidth:n},l))};l.displayName="PopupMenuGroup";const c=l},195482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,f:()=>c});var a=n(242074),o=n(123672),s=n(862545),i=n(430564);const r="platform-pkg",l="0.0.0-use.local",c=(0,n(202516).Z)(a.ZP),d=(0,o.Z)("atlaskit"),u=(0,s.Z)({componentName:"select",packageName:r,packageVersion:l})((0,i.Z)({onChange:d({action:"changed",actionSubject:"option",attributes:{componentName:"select",packageName:r,packageVersion:l}})})(c))},202516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var a=n(872342),o=n(615919),s=n(199009),i=n(840506),r=n(647e3),l=n(365892),c=n(412079),d=n.n(c),u=n(728100);const p=e=>{let t;const n=e.selectProps["aria-describedby"];return t=e["aria-describedby"]&&n?e["aria-describedby"]+" "+n:e["aria-describedby"]||n,i.createElement(u.c.Input,(0,o.Z)((0,o.Z)({},e),{},{"aria-describedby":t}))};p.displayName="Input";var m=n(39030),h=n(618305),g=n(400626),f=n(293724);const E=(0,m.iv)({all:"unset",outline:"revert",display:"flex",alignItems:"center"}),y=e=>(0,m.tZ)(u.c.ClearIndicator,(0,o.Z)({},(0,o.Z)((0,o.Z)({},e),{},{innerProps:(0,o.Z)((0,o.Z)({},e.innerProps),{},{"aria-hidden":"false"})})),(0,m.tZ)("button",{css:E,type:"button",tabIndex:-1},(0,m.tZ)(g.default,{size:"small",label:"clear"})));y.displayName="ClearIndicator";const b=e=>(0,m.tZ)(u.c.DropdownIndicator,(0,o.Z)({},e),(0,m.tZ)(f.default,{label:"open"}));b.displayName="DropdownIndicator";const v=e=>{const t=(0,m.iv)(e.getStyles("loadingIndicator",e));return(0,m.tZ)("div",(0,o.Z)({css:t},e.innerProps),(0,m.tZ)(h.Z,{size:"small"}))};v.displayName="LoadingIndicator";const _=(0,m.iv)({display:"none"}),Z=(0,m.iv)({display:"inherit"}),C=e=>{const{isDisabled:t}=e.selectProps;return(0,m.tZ)(u.c.MultiValueRemove,(0,o.Z)({},e),(0,m.tZ)("div",{css:t?_:Z,"data-testid":t?"hide-clear-icon":"show-clear-icon"},(0,m.tZ)(g.default,{label:"Clear",size:"small",primaryColor:"transparent",secondaryColor:"inherit"})))};C.displayName="MultiValueRemove";const I=null;var S=n(932041),k=n(536731);const T=["styles","validationState","isInvalid","spacing","isMulti","appearance","ariaLiveMessages"];function w(e){var t;return t=class extends i.Component{constructor(e){super(e),(0,s.Z)(this,"components",{}),(0,s.Z)(this,"select",null),(0,s.Z)(this,"cacheComponents",(e=>{this.components=(0,o.Z)({ClearIndicator:y||void 0,DropdownIndicator:b,LoadingIndicator:v,MultiValueRemove:C,IndicatorSeparator:I},e)})),(0,s.Z)(this,"onSelectRef",(e=>{this.select=e})),this.cacheComponents=(0,l.Z)(this.cacheComponents,d()).bind(this),this.cacheComponents(e.components||{})}UNSAFE_componentWillReceiveProps(e){this.cacheComponents(e.components)}focus(){this.select&&this.select.focus()}blur(){this.select&&this.select.blur()}componentDidMount(){const e=this.props["aria-describedby"];if(!this.props.isSearchable&&e){var t;const n=null===(t=this.select)||void 0===t?void 0:t.inputRef,a=null==n?void 0:n.getAttribute("aria-describedby");null!=a&&a.includes(e)||null==n||n.setAttribute("aria-describedby",`${a} ${e}`)}}render(){const t=this.props,{styles:n,validationState:s,isInvalid:l,spacing:c,isMulti:d,appearance:u,ariaLiveMessages:p}=t,m=(0,a.Z)(t,T),h="compact"===c;return i.createElement(e,(0,o.Z)((0,o.Z)({ref:this.onSelectRef,isMulti:d,"aria-live":"assertive",ariaLiveMessages:(0,k.P)(this.props.options)?(0,o.Z)({onFocus:k.Z},p):(0,o.Z)({},p)},m),{},{components:this.components,styles:(0,r.m)((0,S.Z)(void 0!==l?l?"error":"default":s,h,this.props.appearance||"default"),n)}))}},(0,s.Z)(t,"defaultProps",{validationState:"default",spacing:"default",onClickPreventDefault:!0,tabSelectsValue:!1,components:{Input:p},styles:{}}),t}},536731:(e,t,n)=>{"use strict";function a(e){var t;const{focused:n,options:a}=e,o=e=>e===n,s=null==a?void 0:a.find((e=>{var t;return null===(t=e.options)||void 0===t?void 0:t.some(o)})),i=null!==(t=null==s?void 0:s.options.findIndex(o))&&void 0!==t?t:0;return`Option ${n.label}, ${null==s?void 0:s.label} group, item ${i+1} out of ${null==s?void 0:s.options.length}. All in all `}n.d(t,{P:()=>o,Z:()=>a});const o=e=>null==e?void 0:e.every((e=>e.hasOwnProperty("options")))},71825:(e,t,n)=>{"use strict";n.d(t,{LC:()=>l,pj:()=>r,Qj:()=>i,z0:()=>o,nz:()=>a,c:()=>s});const a=["Em","Link","Strike","String","Strong","User"],o=[...a,"Badge","Code","DateLozenge","StatusLozenge","Tag","UserGroup"];let s=function(e){return e.DEVELOPMENT="DEVELOPMENT",e.STAGING="STAGING",e.PRODUCTION="PRODUCTION",e}({}),i=function(e){return e.DEVELOPMENT="dev",e.STAGING="stg",e.PRODUCTION="prod",e.FEDRAMP_SANDBOX="fex",e}({}),r=function(e){return e.DEVELOPMENT="DEVELOPMENT",e.STAGING="STAGING",e.PRODUCTION="PRODUCTION",e}({});const l={BYLINE:"confluence:contentBylineItem",CONTEXT_MENU:"confluence:contextMenu",CONTENT_ACTION:"confluence:contentAction",GLOBAL_PAGE:"confluence:globalPage",GLOBAL_SETTINGS:"confluence:globalSettings",HOMEPAGE_FEED:"confluence:homepageFeed",SPACE_PAGE:"confluence:spacePage",SPACE_SETTINGS:"confluence:spaceSettings",CUSTOM_CONTENT:"confluence:customContent",TEST_MODULE:"test:module"}},56136:(e,t,n)=>{"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,{Z:()=>a})},744825:(e,t,n)=>{"use strict";function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>a})},985759:(e,t,n)=>{"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>a})},603159:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(358383);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(0,a.Z)(o.key),o)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},830385:(e,t,n)=>{"use strict";function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}n.d(t,{Z:()=>i});var o=n(460002),s=n(744825);function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===(0,o.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,s.Z)(e)}(this,n)}}},726255:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(56136);function o(e,t){if(e){if("string"==typeof e)return(0,a.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,a.Z)(e,t):void 0}}}}]);
//# sourceMappingURL=6482.JwjdZaD6Du.js.map