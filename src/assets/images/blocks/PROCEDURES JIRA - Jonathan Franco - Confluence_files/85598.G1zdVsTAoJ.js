"use strict";(self._cf=self._cf||[]).push([[85598],{394189:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#22A06B" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1.376 6.013A.437.437 0 004 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 00.497-.434V4.868a.437.437 0 00-.499-.434L4.376 6.014zM17 7v10h2.5a.5.5 0 00.5-.5v-9a.5.5 0 00-.5-.5H17zM6.93 15.5l2.25-3.55-2.236-3.496h1.734l1.47 2.466h.087l1.485-2.466h1.65l-2.32 3.52 2.286 3.526h-1.68l-1.513-2.388h-.088L8.52 15.5H6.93z"/></svg>'},e,{size:"medium"}));s.displayName="ExcelSpreadsheet24Icon";var i=s;t.Z=i},686608:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#758195" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm2 13v5a1 1 0 001 1h12a1 1 0 001-1v-5H5zm1.883-8a1 1 0 00-.992.876L5 13h14l-.89-7.124A1 1 0 0017.116 5H6.883zM8 15h8a1 1 0 010 2H8a1 1 0 010-2z"/></svg>'},e,{size:"medium"}));s.displayName="Executable24Icon";var i=s;t.Z=i},213133:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill-rule="evenodd" clip-rule="evenodd" d="M3.248 0A3.248 3.248 0 000 3.248v17.504A3.248 3.248 0 003.248 24h17.504A3.248 3.248 0 0024 20.752V3.248A3.248 3.248 0 0020.752 0H3.248zm8.755 17.012a2.506 2.506 0 01-2.505 2.507 2.506 2.506 0 010-5.013 2.506 2.506 0 010-5.012 2.506 2.506 0 010-5.013h5.009a2.506 2.506 0 010 5.013h-2.505v2.5a2.506 2.506 0 012.505-2.5 2.506 2.506 0 010 5.012 2.506 2.506 0 01-2.505-2.5v5.006z" fill="#8270DB"/></svg>'},e,{size:"medium"}));s.displayName="Figma24Icon";var i=s;t.Z=i},46983:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FFAB00" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm10.564 16.636h-1.93a.243.243 0 01-.244-.243V8.384c0-.135.108-.243.243-.243h1.93c.135 0 .244.108.244.243v8.009a.243.243 0 01-.243.243m3.79 0h-1.931a.243.243 0 01-.243-.243V8.384c0-.135.109-.243.243-.243h5.334c.133 0 .243.108.243.243v1.573c0 .134-.11.243-.243.243h-3.16v1.42h2.848c.135 0 .244.11.244.244v1.518a.243.243 0 01-.244.244h-2.847v2.767c0 .134-.11.243-.244.243m-10.567.146C4.416 16.782 3 15.31 3 12.843v-.962C3 9.487 4.453 8 6.793 8c2.314 0 3.436 1.467 3.522 2.922a.241.241 0 01-.242.258H8.195a.243.243 0 01-.24-.2c-.1-.55-.552-.892-1.18-.892-1.108 0-1.34.985-1.34 1.81v.94c0 1.231.467 1.856 1.393 1.856.885 0 1.2-.538 1.2-1v-.092H6.874a.243.243 0 01-.243-.243v-1.373c0-.134.11-.243.243-.243h3.216c.134 0 .243.109.243.243v1.555c0 1.496-.929 3.241-3.546 3.241"/></svg>'},e,{size:"medium"}));s.displayName="Gif24Icon";var i=s;t.Z=i},495171:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#2196F3" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}));s.displayName="GoogleDoc24Icon";var i=s;t.Z=i},566928:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#8270DB" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}));s.displayName="GoogleForm24Icon";var i=s;t.Z=i},336501:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#0A9D58" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}));s.displayName="GoogleSheet24Icon";var i=s;t.Z=i},175207:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FFC107" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm12.049 5l-5.422.055 4.677 8.15 5.422-.055L15.049 5zM4 14.108l2.757 4.697 4.677-8.15-2.757-4.697L4 14.108zm6.646.141L7.982 19h9.354L20 14.249h-9.354z"/></svg>'},e,{size:"medium"}));s.displayName="GoogleSlide24Icon";var i=s;t.Z=i},971619:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1.846 12.17h.483c1.116 0 1.203-.322 1.203-.776 0-.518-.268-.771-.817-.771h-.869v1.546zm6.29 2.183h.664c.742 0 1.501-.22 1.501-1.855 0-1.65-.802-1.86-1.501-1.86h-.665v3.715zM4.462 15.99h-1.08A.384.384 0 013 15.606V9.383c0-.21.171-.383.383-.383h2.494c1.483 0 2.52.984 2.52 2.394 0 1.43-1.015 2.39-2.525 2.39H4.846v1.822a.384.384 0 01-.383.384zm7.45 0h-2.24a.384.384 0 01-.384-.384V9.383c0-.21.172-.383.383-.383h2.242c2.107 0 3.268 1.237 3.268 3.484 0 2.26-1.16 3.506-3.268 3.506zm5.776 0h-1.08a.384.384 0 01-.384-.384V9.383c0-.21.172-.383.383-.383h4.009c.21 0 .383.172.383.383v.88a.383.383 0 01-.383.383h-2.545v1.14h2.292c.212 0 .383.172.383.383v.867c0 .21-.171.383-.383.383h-2.292v2.187a.384.384 0 01-.383.384z"/></svg>'},e,{size:"medium"}));s.displayName="PdfDocument24Icon";var i=s;t.Z=i},98520:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#CA5010" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1.376 6.013A.437.437 0 004 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 00.497-.434V4.868a.437.437 0 00-.499-.434L4.376 6.014zM17 7v10h2.5a.5.5 0 00.5-.5v-9a.5.5 0 00-.5-.5H17zM7.854 8.454h2.94c1.45 0 2.441.972 2.441 2.437 0 1.45-1.03 2.421-2.514 2.421H9.329V15.5H7.854V8.454zM9.33 9.665v2.451h1.07c.844 0 1.337-.43 1.337-1.22 0-.801-.483-1.231-1.333-1.231H9.33z"/></svg>'},e,{size:"medium"}));s.displayName="PowerpointPresentation24Icon";var i=s;t.Z=i},463089:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#8270DB" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm3 14a1 1 0 00-1 1v3a1 1 0 002 0v-3a1 1 0 00-1-1zm8-6a1 1 0 00-1 1v9a1 1 0 002 0V9a1 1 0 00-1-1zm-4 4a1 1 0 00-1 1v5a1 1 0 002 0v-5a1 1 0 00-1-1zm8-7a1 1 0 00-1 1v12a1 1 0 002 0V6a1 1 0 00-1-1z"/></svg>'},e,{size:"medium"}));s.displayName="Presentation24Icon";var i=s;t.Z=i},300468:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#FF8B00" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm9.03 20h.001c.29-.001.562-.126.752-.343l6.971-8a1 1 0 00.095-1.185l-2.485-4a1.003 1.003 0 00-.85-.472h-8.84c-.334 0-.646.167-.832.444l-2.674 4a1 1 0 00.081 1.216l7.03 8c.188.216.462.34.75.34z"/></svg>'},e,{size:"medium"}));s.displayName="Sketch24Icon";var i=s;t.Z=i},301743:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#00B8D9" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm5.017 12.265l-2.58-2.501L8.236 7.05a.999.999 0 10-1.392-1.436l-3.54 3.432a1 1 0 000 1.436l3.32 3.219a1 1 0 101.393-1.436zm6.638-8.21a1 1 0 00-1.271.62l-4.83 14.046a1 1 0 001.892.65l4.829-14.045a1 1 0 00-.62-1.271zm6.081 9.776l-3.32-3.219a.999.999 0 10-1.393 1.436l2.58 2.501-2.799 2.714a.999.999 0 101.392 1.436l3.54-3.432a1 1 0 000-1.436z"/></svg>'},e,{size:"medium"}));s.displayName="SourceCode24Icon";var i=s;t.Z=i},487018:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#36B37E" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm2 5a1 1 0 100 2h3a1 1 0 100-2H5zm0 4a1 1 0 100 2h3a1 1 0 000-2H5zm0 4a1 1 0 000 2h3a1 1 0 000-2H5zm0 4a1 1 0 000 2h3a1 1 0 000-2H5zm7-12a1 1 0 000 2h7a1 1 0 000-2h-7zm0 4a1 1 0 000 2h7a1 1 0 000-2h-7zm0 4a1 1 0 000 2h7a1 1 0 000-2h-7zm0 4a1 1 0 000 2h7a1 1 0 000-2h-7z"/></svg>'},e,{size:"medium"}));s.displayName="Spreadsheet24Icon";var i=s;t.Z=i},509836:(e,t,a)=>{t.Z=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#1D7AFC" fill-rule="evenodd" d="M3 0h18a3 3 0 013 3v18a3 3 0 01-3 3H3a3 3 0 01-3-3V3a3 3 0 013-3zm1.376 6.013A.437.437 0 004 6.446v11.15c0 .219.161.404.378.434l11.125 1.538a.437.437 0 00.497-.434V4.868a.437.437 0 00-.499-.434L4.376 6.014zm5.629 5.324L8.687 16H7.295L5.43 8.954h1.533l1.099 4.966h.078l1.284-4.966h1.245l1.309 4.966h.078l1.089-4.966h1.523L12.798 16h-1.382l-1.333-4.663h-.078zM17 7v10h2.5a.5.5 0 00.5-.5v-9a.5.5 0 00-.5-.5H17z"/></svg>'},e,{size:"medium"}));s.displayName="WordDocument24Icon";var i=s;t.Z=i},905889:(e,t,a)=>{a.d(t,{F:()=>r});class r extends Error{constructor(e,t,a="",r){super(t),this.id=e,this.reason=t,this.message=a,this.details=r,Object.setPrototypeOf(this,new.target.prototype),"captureStackTrace"in Error&&Error.captureStackTrace(this,new.target)}}},413034:(e,t,a)=>{a.d(t,{m:()=>s});var r=a(840506),n=a(542434),o=a(970796);function s(e,t={}){const{collectionName:a,occurrenceKey:s,skipRemote:i=!1}=t,c=(0,n.tI)(),l=(0,o.Z)((t=>t.files[e]));return(0,r.useEffect)((()=>{l||i||c.file.getFileState(e,{collectionName:a,occurrenceKey:s})}),[e,c,a,s,i,l]),{fileState:l}}},970796:(e,t,a)=>{a.d(t,{Z:()=>d});var r=a(840506),n=a(76739);const{useSyncExternalStoreWithSelector:o}=n;let s=!1;function i(e,t=e.getState,a){a&&!s&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),s=!0);const n=o(e.subscribe,e.getState,e.getServerState||e.getState,t,a);return(0,r.useDebugValue)(n),n}var c=a(542434);const l=e=>(t,a)=>i(e,t,a);function d(e,t){const a=(0,c.tI)().__DO_NOT_USE__getMediaStore();return l(a)(e,t)}},798113:(e,t,a)=>{function r(e){return e instanceof Object&&"attributes"in e&&e.attributes instanceof Object&&"reason"in e.attributes&&e instanceof Error}function n(e){return r(e)?e.attributes.reason:"unknown"}a.d(t,{a:()=>r,r:()=>n})},407853:(e,t,a)=>{a.d(t,{NI:()=>l,Ny:()=>c,WD:()=>o});var r=a(615919);const n="media-blob-url",o=e=>e.indexOf(`${n}=true`)>-1,s=(e,t)=>{const a=e.get(t);return"string"!=typeof a||isNaN(parseInt(a))?void 0:parseInt(a)},i=(e,t)=>{const a=e.get(t);if(a)return decodeURIComponent(a)},c=e=>{const t=new URL(e).hash.replace("#",""),a=new URLSearchParams(t),r=a.get("id"),n=a.get("contextId");if(r&&n)return{id:r,contextId:n,collection:i(a,"collection"),alt:i(a,"alt"),height:s(a,"height"),width:s(a,"width"),size:s(a,"size"),name:i(a,"name"),mimeType:i(a,"mimeType")}},l=(e,t)=>{if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;const a={[n]:"true"},o=(0,r.Z)((0,r.Z)({},a),t);var s;return`${e}#${s=o,Object.keys(s).filter((e=>void 0!==s[e]&&null!==s[e])).map((e=>{const t=s[e];if(null!=t)return`${encodeURIComponent(e)}=${encodeURIComponent(t.toString())}`})).join("&")}`}},985598:(e,t,a)=>{a.d(t,{l:()=>J});var r=a(615919),n=a(840506),o=a(118691),s=a(542434),i=a(413034),c=a(549889),l=a(290514),d=a(798113),u=a(905889);class h extends Error{constructor(e,t){super(e),this.primaryReason=e,this.secondaryError=t,Object.setPrototypeOf(this,new.target.prototype),"captureStackTrace"in Error&&Error.captureStackTrace(this,new.target)}}class m extends h{constructor(e,t){super(e,t),this.primaryReason=e,this.secondaryError=t}}class p extends h{constructor(e,t){super(e,t),this.primaryReason=e,this.secondaryError=t}}class v extends h{constructor(e,t){super(e,t),this.primaryReason=e,this.secondaryError=t}}class f extends h{constructor(e){super((e=>{switch(e){case"cache-remote":return"cache-remote-uri";case"cache-local":return"cache-local-uri";case"external":return"external-uri";case"local":return"local-uri";case"remote":return"remote-uri";case"ssr-client":return"ssr-client-uri";case"ssr-server":case"ssr-data":return"ssr-server-uri";default:return"unknown-uri"}})(e))}}function g(e){return e instanceof h}function y(e){return e instanceof u.F}const w=e=>{if(g(e)&&e.secondaryError){var t,a;if((0,l.N)(e.secondaryError))return null===(t=e.secondaryError.metadata)||void 0===t?void 0:t.traceContext;if(y(e.secondaryError))return null===(a=e.secondaryError.details)||void 0===a||null===(a=a.metadata)||void 0===a?void 0:a.traceContext}},b=e=>g(e)?e.primaryReason:"nativeError",x=e=>{if(g(e)&&e.secondaryError){const n=y(e.secondaryError)?(t=e.secondaryError,null!==(a=null===(r=t.details)||void 0===r?void 0:r.reason)&&void 0!==a?a:"unknown"):(0,d.r)(e.secondaryError);if("unknown"!==n)return n}var t,a,r;return"nativeError"},E=e=>g(e)&&e.secondaryError?e.secondaryError.message:e.message,z=(e,t)=>({failReason:b(e),error:x(e),errorDetail:E(e),metadataTraceContext:null!=t?t:w(e)}),I=(e,t)=>(0,r.Z)({status:"fail"},z(new f(e.source),t));var R=a(199009),Z=a(131382),U=a(334806);class L extends U.LRUMap{constructor(e){super(e),(0,R.Z)(this,"eventEmitter",void 0),this.eventEmitter=new Z.EventEmitter2}shift(){const e=super.shift();return this.eventEmitter.emit("shift",e),e}on(e,t){this.eventEmitter.on(e,t)}}class M{constructor(e){(0,R.Z)(this,"cache",void 0),this.cache=new L(e),this.cache.on("shift",(e=>{e&&e[1].dataURI&&URL.revokeObjectURL(e[1].dataURI)}))}has(e){return!!this.cache.find(e)}get(e){return this.cache.get(e)}set(e,t){this.cache.set(e,t)}remove(e){const t=this.cache.delete(e);t&&URL.revokeObjectURL(t.dataURI)}clear(){this.cache.clear()}}const S=(e,t)=>[e,t||"crop"].join("-");const j=new class{constructor(e){this.previewCache=e,(0,R.Z)(this,"get",((e,t)=>{const a=S(e,t);return this.previewCache.get(a)})),(0,R.Z)(this,"set",((e,t,a)=>{const r=S(e,t);this.previewCache.set(r,a)})),(0,R.Z)(this,"remove",((e,t)=>{const a=S(e,t);this.previewCache.remove(a)})),(0,R.Z)(this,"clear",(()=>{this.previewCache.clear()}))}}(new M(50));var k=a(407853),_=a(589068),H=a(708486);const O=async e=>{try{const t=await(async e=>new Promise(((t,a)=>{const r=URL.createObjectURL(e),n=document.createElement("video");n.preload="metadata",n.src=r,n.muted=!0,n.play().catch((()=>a(new Error("failed to play video")))),n.addEventListener("timeupdate",(function e(){if(n.removeEventListener("timeupdate",e),n.pause(),URL.revokeObjectURL(r),!n.videoWidth&&!n.videoHeight)return a(new Error("error retrieving video dimensions"));const o=document.createElement("canvas");o.width=n.videoWidth,o.height=n.videoHeight;const s=o.getContext("2d");if(!s)return a(new Error("error creating canvas context"));s.drawImage(n,0,0,o.width,o.height);const i=o.toDataURL("image/jpeg",.85);t(i)})),n.addEventListener("error",(()=>{a(new Error("failed to load video")),URL.revokeObjectURL(r)}))})))(e);return{dataURI:t,orientation:1,source:"local"}}catch(t){throw new m("local-preview-video",t instanceof Error?t:void 0)}},N=async e=>{let t;try{t=(await e).value}catch(a){throw new m("local-preview-rejected",a instanceof Error?a:void 0)}if("string"==typeof t)return{dataURI:t,orientation:1,source:"local"};if(t instanceof Blob){const{type:e}=t;switch((0,_.L4)(e)){case"image":return(async e=>{try{const t=await(0,H.T8)(e);return{dataURI:URL.createObjectURL(e),orientation:t,source:"local"}}catch(a){throw new m("local-preview-image",a instanceof Error?a:void 0)}})(t);case"video":return O(t);default:throw new m("local-preview-unsupported")}}throw new m("local-preview-unsupported")},T=(e,t,a,n)=>{let o;switch(a.source){case"local":o="cache-local";break;case"remote":o="cache-remote";break;default:o=a.source}const s=n?(0,k.NI)(a.dataURI,n):a.dataURI;return j.set(e,t,(0,r.Z)((0,r.Z)({},a),{},{source:o,dataURI:s})),(0,r.Z)((0,r.Z)({},a),{},{dataURI:s})},P=e=>"ssr-client"===e.source,C=e=>"ssr-data"===e.source,A=async(e,t,a,n,o,s)=>{const i=await(async(e,t,a,r)=>{try{const n=await e.getImage(t,a,void 0,void 0,r);return{dataURI:URL.createObjectURL(n),orientation:1,source:"remote"}}catch(n){throw new p("remote-preview-fetch",n instanceof Error?n:void 0)}})(e,t,n,s);return T(t,n.mode,(0,r.Z)((0,r.Z)({},i),{},{dimensions:a}),o)},V=e=>e.map((e=>{return"string"==typeof(t=e)?`'${t}'`:"object"==typeof t?JSON.stringify(t):void 0===t?"undefined":t;var t})).join(",");function B(e=window){const t="__MEDIA_INTERNAL";return e[t]||(e[t]={}),e[t]}function D(e=window){const t=B(e),a="mediaCardSsr";return t[a]||(t[a]={}),t[a]}const F=e=>e?`-${e}`:"",G=({id:e,collectionName:t,occurrenceKey:a})=>`${e}${F(t)}${F(a)}`,$=(e,t,a,r,n=window)=>{D(n)[e]={dataURI:t,dimensions:a,error:r}},X=(e,t,a,r)=>{const n=((e,...t)=>`(${e.toString()})(${V(t)});`)($,G(e),t,a,r);return`(function(){\n  ${[D.toString(),B.toString(),n].join(";")}\n})();\n`},Y=(e,t)=>{const{width:a,height:r}=e||{},{width:n,height:o}=t||{};if(a&&r&&n&&o){return r<o||a<n}return!1};const q=e=>{if(!e)return;const t=window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches?2:1,{width:a,height:r}=e,n={};return a&&(n.width=a*t),r&&(n.height=r*t),n};function W(e){const t=(0,n.useRef)(e);return t.current=e,t}const J=({resizeMode:e="crop",identifier:t,ssr:a,dimensions:l,traceContext:d,skipRemote:u,mediaBlobUrlAttrs:m,allowAnimated:p=!0,upscale:y,maxAge:w})=>{const b=(0,s.tI)(),[x,E]=(0,n.useState)("loading"),[R,Z]=(0,n.useState)(),[U,L]=(0,n.useState)(),[M,S]=(0,n.useState)(!1),_=(0,n.useRef)(!1),H=(0,n.useRef)({server:{status:"unknown"},client:{status:"unknown"}}),O=(0,n.useMemo)((()=>l?q(l):void 0),[l]),V=W(O),B=(0,r.Z)((0,r.Z)({collection:t.collectionName,mode:e},O),{},{allowAnimated:p,upscale:y,"max-age":w}),[F,$]=(0,n.useState)((()=>{const n=j.get(t.id,e);if(n)return n;if(a){const e=(e=>{const t=D();if(t)return t[G(e)]})(t);if(null!=e&&e.error&&(H.current.server=(0,r.Z)({status:"fail"},e.error)),null!=e&&e.dataURI){const{dimensions:t,dataURI:a}=e;return{dataURI:a,dimensions:t,source:"ssr-data"}}try{return((e,t,a,r,n)=>{let o;try{const s=t.getImageUrlSync(a,r);return o=n?(0,k.NI)(s,n):s,{dataURI:o,source:"client"===e?"ssr-client":"ssr-server",orientation:1}}catch(s){throw new v("server"===e?"ssr-server-uri":"ssr-client-uri",s instanceof Error?s:void 0)}})(a,b,t.id,B,m)}catch(o){H.current[a]=(0,r.Z)({status:"fail"},z(o))}}})),{fileState:J}=(0,i.m)(t.id,{skipRemote:u,collectionName:t.collectionName,occurrenceKey:t.occurrenceKey});(0,n.useEffect)((()=>{E("loading")}),[t]),(0,n.useEffect)((()=>{"error"!==x&&(F||J&&"processed"===J.status&&!(0,o.mo)(J)?E("complete"):F||!J||"failed-processing"!==J.status||(0,o.mo)(J)?E("loading"):(E("error"),Z(new h("failed-processing"))))}),[F,x,J]);const K=W((()=>A(b,t.id,O||{},B,m,d)));(0,n.useEffect)((()=>{if(F)_.current=!0;else if(!F&&!_.current&&!u){_.current=!0;const e=(0,r.Z)({},O);K.current().then((t=>{Y(e,V.current)||$(t)})).catch((()=>{}))}}),[K,F,O,V,u]),(0,n.useEffect)((()=>{const a=j.get(t.id,e);var n;F||!a||Y(null==a?void 0:a.dimensions,O)?!F&&!M&&J&&"preview"in J&&J.preview&&("image"===(n=J.mediaType)||"video"===n)&&(0,c.PU)(J.mimeType)?(async(e,t,a,n,o)=>{const s=await N(t);return T(e,n,(0,r.Z)((0,r.Z)({},s),{},{dimensions:a}),o)})(t.id,J.preview,O||{},e,m).then($).catch((e=>{S(!0),L(e)})):R||U||F&&!Y(F.dimensions,O)&&!(e=>["ssr-client","ssr-server","ssr-data"].includes(e.source))(F)||u||!_.current||!J||!(0,o.mo)(J)||K.current().then($).catch((e=>{const t=((e,t,a)=>g(t)?a&&t.primaryReason!==e?new h(e,t.secondaryError):t:new h(e,t))("preview-fetch",e);F?L(t):(E("error"),Z(t))})):$(a)}),[R,U,J,K,t.id,e,M,m,F,O,u]);const Q=(0,n.useCallback)((a=>{if(!a)return;if(P(a)&&(H.current.client=I(a,d)),C(a)&&(H.current.server=I(a,d),H.current.client=I(a,d)),a.dataURI!==(null==F?void 0:F.dataURI))return;const r=(e=>["local","cache-local"].includes(e.source))(a),n=(e=>["remote","cache-remote"].includes(e.source))(a);if(r||n){const o=new f(null==a?void 0:a.source);j.remove(t.id,e),r&&S(!0),n&&(E("error"),Z(o)),$(void 0)}}),[t.id,null==F?void 0:F.dataURI,e,d]),ee=(0,n.useCallback)((e=>{e&&(P(e)&&"unknown"===H.current.client.status&&(H.current.client={status:"success"}),C(e)&&"unknown"===H.current.server.status&&(H.current.server={status:"success"},H.current.client={status:"success"})),null==e||e.dataURI,null==F||F.dataURI}),[null==F?void 0:F.dataURI]),te="server"===a?()=>{var e;return((e,t,a,r)=>({dangerouslySetInnerHTML:{__html:X(e,t,a,r)}}))(t,null==F?void 0:F.dataURI,O,"fail"===(null===(e=H.current.server)||void 0===e?void 0:e.status)?H.current.server:void 0)}:void 0;return{preview:F,status:x,error:R,nonCriticalError:U,ssrReliability:H.current,onImageError:Q,onImageLoad:ee,getSsrScriptProps:te}}},721753:(e,t,a)=>{function r(e){return e.indexOf(".")>-1?e.split(".").pop():""}a.d(t,{M1:()=>s,RT:()=>r,wz:()=>o});const n=[{mimetype:"application/json",language:"json"},{mimetype:"text/html",language:"html"}];function o(e,t="unknown"){return null!==s(e,t)}function s(e,t){if(t){const e=n.find((e=>e.mimetype===t));if(e)return e.language}const a=r(e);switch(a){case"abap":case"ada":case"c":case"css":case"d":case"dart":case"go":case"graphql":case"groovy":case"html":case"java":case"json":case"matlab":case"xml":case"lua":case"puppet":case"qml":case"sass":case"sql":case"php":case"r":case"swift":case"tcl":case"vala":case"vhdl":case"xquery":return a;case"as":case"asc":return"actionscript";case"ino":return"arduino";case"au3":return"autoit";case"cpp":case"h":case"c++":return"c++";case"coffee":return"coffeescript";case"cs":return"csharp";case"cu":return"cuda";case"pas":case"dpr":case"dproj":case"dpk":return"delphi";case"ex":case"exs":return"elixir";case"erl":case"hrl":return"erlang";case"f90":case"for":case"f":case"fpp":case"i":case"i90":case"ftn":return"fortran";case"dbc":return"foxpro";case"hs":case"has":return"haskell";case"hx":return"haxe";case"js":case"jsx":return"javascript";case"jl":return"julia";case"kt":return"kotlin";case"m":case"mm":return"objective-c";case"j":return"objective-j";case"tex":return"latex";case"nb":case"cdf":return"mathematica";case"cma":return"ocaml";case"pl":return"perl";case"py":return"python";case"ps1":case"psd1":case"psm1":return"powershell";case"rb":return"ruby";case"rst":return"restructuredtext";case"rs":return"rust";case"rkt":return"racket";case"sh":return"shell";case"sc":case"sch":return"scheme";case"txt":case"msg":case"log":case"csv":case"md":return"text";case"ts":case"tsx":return"typescript";case"v":return"verilog";case"xq":case"xql":case"xqm":case"xqy":return"xquery";case"lock":case"yaml":case"yml":return"yaml";default:return null}}},111201:(e,t,a)=>{a.d(t,{n:()=>n,x:()=>o});const r={1:"none",2:"rotateY(180deg)",3:"rotate(180deg)",4:"rotate(180deg) rotateY(180deg)",5:"rotate(270deg) rotateY(180deg)",6:"rotate(90deg)",7:"rotate(90deg) rotateY(180deg)",8:"rotate(270deg)"},n=e=>e>=5,o=e=>r[e]},708486:(e,t,a)=>{a.d(t,{FI:()=>y,T8:()=>b});let r=function(e){return e.JPEG="image/jpeg",e.PNG="image/png",e}({}),n=function(e){return e.XResolution="XResolution",e.YResolution="YResolution",e.Orientation="Orientation",e}({});const o={"top-left":1,"top-right":2,"bottom-right":3,"bottom-left":4,"left-top":5,"right-top":6,"right-bottom":7,"left-bottom":8};var s=a(615919);const{XResolution:i,YResolution:c}=n;let l;var d=a(253722);let u;async function h(e){if(!u){const e=await a.e(71293).then(a.t.bind(a,971293,23));u=e.default||e}const t=await(0,d.TI)(e),r=u(t);return await async function(e){let t="",a={};for(let r=0;r<e.length;++r){const n=e[r];if("IEND"===n.name)break;if("iTXt"===n.name&&(t=String.fromCharCode.apply(null,Array.from(n.data))),"pHYs"===n.name){const e=new DataView(n.data.buffer);if(1===e.getUint8(8)){a={PixelPerUnitX:e.getUint32(0),PixelPerUnitY:e.getUint32(4)}}}}return{iTXt:t,pHYs:a}}(r)}async function m(e){const t=e.type;try{if(t===r.PNG){const{iTXt:t,pHYs:a}=await h(e);return(0,s.Z)((0,s.Z)({},function(e){const t={},a=e.match(/<(tiff|exif):.+>/gi);return a&&a.forEach((e=>{const a=e.match(/<(tiff|exif):([^>]+)>([^<]+)/i);if(a){const e=a[2];t[e]=a[3]}})),t}(t)),a)}if(e.type===r.JPEG)return await function(e){return new Promise((async(t,r)=>{if(!l){const e=await a.e(44519).then(a.t.bind(a,944519,23));l=e.default||e}l.parseMetaData(e,(e=>{try{const a=e&&e.exif?e.exif.getAll():{};Object.keys(a).forEach((e=>{const t=a[e];"object"!=typeof t||e!==i&&e!==c||!("numerator"in t)||(a[e]=t.numerator),"number"==typeof a[e]&&(a[e]=`${a[e]}`)})),t(a)}catch(a){r(a)}}))}))}(e)}catch(n){}return null}var p=a(111201);const{Orientation:v,XResolution:f}=n,g=72;async function y(e){const t=await async function(e){const{file:t,src:a}=e,r=t.type;let n=0,o=0;const s=await m(t);s&&s.PixelXDimension&&(n=x(s,"PixelXDimension",0));s&&s.PixelXDimension&&(o=x(s,"PixelYDimension",0));const i=w(s),c=(0,p.n)(i),l={type:r,width:n,height:o,naturalWidth:n,naturalHeight:o,tags:s};if(c||0===n&&0===o)try{const e=await(0,d.po)(a),{width:t,height:r}=(0,d.IJ)(e);l.width=t,l.height=r,l.naturalWidth=e.naturalWidth,l.naturalHeight=e.naturalHeight}catch(u){return null}return l}(e);if(!t)return null;const{width:a,height:r,tags:n}=t,o=function(e,t){const a=function(e){try{const t=e.name.trim().match(/@([0-9\.]+)x\.[a-z]{3}$/);if(t)return parseFloat(t[1])}catch(t){}return null}(e);return null!==a?a:t?"number"==typeof t.PixelPerUnitX?Math.round(.0254*t.PixelPerUnitX)/g:x(t,f,g)/g:1}(e.file,n);return{scaleFactor:o,width:a,height:r}}const w=e=>{if(e&&e[v]){const t=e[v];if(t){const e=parseInt(t,10);return isNaN(e)?o[t]:e}}return 1};async function b(e){const t=await m(e);return w(t)}function x(e,t,a){try{const a=parseFloat(`${e[t]}`);if(!isNaN(a))return a}catch(r){}return a}},253722:(e,t,a)=>{a.d(t,{IJ:()=>I,M2:()=>U,M4:()=>b,TI:()=>E,UQ:()=>w,V6:()=>R,hr:()=>x,po:()=>z});var r=a(971619),n=a(46983),o=a(98520),s=a(509836),i=a(300468),c=a(213133),l=a(686608),d=a(495171),u=a(566928),h=a(336501),m=a(175207),p=a(394189),v=a(487018),f=a(463089),g=a(301743),y=a(721753);function w(e,t="untitled"){if(0===e.length)throw new Error("dataURI not found");const a=e.split(","),r=a[0].indexOf("base64")>=0?atob(a[1]):decodeURIComponent(a[1]);let n;try{n=e.split(",")[0].split(":")[1].split(";")[0]}catch(i){n="application/octet-stream"}const o=new Uint8Array(r.length);for(let c=0;c<r.length;c++)o[c]=r.charCodeAt(c);const s=new Blob([o],{type:n});try{return new File([s],t,{type:n})}catch(i){const e=s,a=new Date;return e.lastModified=a.getTime(),e.lastModifiedDate=a,e.name=t,e.webkitRelativePath="",e}}function b(e){return new Promise(((t,a)=>{const r=new FileReader;r.addEventListener("load",(()=>{const e=r.result;"string"==typeof e?t(e):null===e&&a()})),r.addEventListener("error",a),r.readAsDataURL(e)}))}async function x(e,t){return{file:e,src:t||await b(e)}}function E(e){return new Promise(((t,a)=>{const r=new FileReader;r.addEventListener("load",(()=>{const e=new Uint8Array(r.result);t(e)})),r.addEventListener("error",a),r.readAsArrayBuffer(e)}))}function z(e){return new Promise(((t,a)=>{const r=new Image;r.src=e,r.onload=()=>{t(r)},r.onerror=a}))}function I(e){e.style.position="absolute",e.style.visibility="hidden",document.body.appendChild(e);const{width:t,height:a}=e.getBoundingClientRect();return document.body.removeChild(e),{width:t,height:a}}const R=(e,t,a=document.body)=>{if(e.classList.contains(t))return e;let r=e;for(;r.parentElement!==a;){if(!r.parentElement)return;if(r=r.parentElement,r.classList.contains(t))return r}},Z=[{label:"pdf",mimeTypes:["application/pdf"],icon:r.Z},{label:"google-form",mimeTypes:["application/vnd.google-apps.form"],icon:u.Z},{label:"google-slides",mimeTypes:["application/vnd.google-apps.presentation"],icon:m.Z},{label:"google-form",mimeTypes:["application/vnd.google-apps.form"],icon:u.Z},{label:"google-sheets",mimeTypes:["application/vnd.google-apps.spreadsheet"],icon:h.Z},{label:"google-docs",mimeTypes:["application/vnd.google-apps.document","application/vnd.google-apps.kix"],icon:d.Z},{label:"microsoft-word",mimeTypes:["application/msword","application/vnd.openxmlformats-officedocument.word"],icon:s.Z},{label:"presentation",mimeTypes:["application/x-iwork-keynote-sffkey","application/vnd.oasis.opendocument.presentation"],icon:f.Z},{label:"powerpoint-presentation",mimeTypes:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint"],icon:o.Z},{label:"giphy",mimeTypes:["image/gif"],icon:n.Z},{label:"spreadsheet",mimeTypes:["text/csv"],icon:v.Z},{label:"excel-spreadsheet",mimeTypes:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","application/x-iwork-keynote-sffnumbers"],icon:p.Z}];function U(e,t){const a=Z.find((t=>t.mimeTypes.indexOf(e)>-1));return a||((0,y.wz)(t,e)?{label:"source-code",icon:g.Z}:t.match(/.*\.sketch$/)?{label:"sketch",icon:i.Z}:t.match(/.*\.fig$/)?{label:"figma",icon:c.Z}:t.match(/.*\.exe$/)||t.match(/.*\.dmg$/)?{label:"executable",icon:l.Z}:void 0)}}}]);
//# sourceMappingURL=85598.G1zdVsTAoJ.js.map