(self._cf=self._cf||[]).push([[52044],{629646:(t,e,r)=>{var n=r(885430);t.exports=function(t,e){return new Promise((function(r,o){var i,s=e||{};function a(t){o(t||new Error("Aborted"))}function c(t,e){t.bail?a(t):i.retry(t)?s.onRetry&&s.onRetry(t,e):o(i.mainError())}"randomize"in s||(s.randomize=!0),(i=n.operation(s)).attempt((function(e){var n;try{n=t(a,e)}catch(o){return void c(o,e)}Promise.resolve(n).then(r).catch((function(t){c(t,e)}))}))}))}},885430:(t,e,r)=>{t.exports=r(600958)},600958:(t,e,r)=>{var n=r(370374);e.operation=function(t){var r=e.timeouts(t);return new n(r,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},e.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in t)e[r]=t[r];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],o=0;o<e.retries;o++)n.push(this.createTimeout(o,e));return t&&t.forever&&!n.length&&n.push(this.createTimeout(o,e)),n.sort((function(t,e){return t-e})),n},e.createTimeout=function(t,e){var r=e.randomize?Math.random()+1:1,n=Math.round(r*Math.max(e.minTimeout,1)*Math.pow(e.factor,t));return n=Math.min(n,e.maxTimeout)},e.wrap=function(t,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var o in n=[],t)"function"==typeof t[o]&&n.push(o);for(var i=0;i<n.length;i++){var s=n[i],a=t[s];t[s]=function(n){var o=e.operation(r),i=Array.prototype.slice.call(arguments,1),s=i.pop();i.push((function(t){o.retry(t)||(t&&(arguments[0]=o.mainError()),s.apply(this,arguments))})),o.attempt((function(){n.apply(t,i)}))}.bind(t,a),t[s].options=r}}},370374:t=>{function e(t,e){"boolean"==typeof e&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=e,e.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},e.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},e.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=(new Date).getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},e.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},e.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},e.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},e.prototype.start=e.prototype.try,e.prototype.errors=function(){return this._errors},e.prototype.attempts=function(){return this._attempts},e.prototype.mainError=function(){if(0===this._errors.length)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var o=this._errors[n],i=o.message,s=(t[i]||0)+1;t[i]=s,s>=r&&(e=o,r=s)}return e}},2963:t=>{"use strict";class e extends Error{constructor(){super("Throttled function aborted"),this.name="AbortError"}}t.exports=({limit:t,interval:r,strict:n})=>{if(!Number.isFinite(t))throw new TypeError("Expected `limit` to be a finite number");if(!Number.isFinite(r))throw new TypeError("Expected `interval` to be a finite number");const o=new Map;let i=0,s=0;const a=[];const c=n?function(){const e=Date.now();if(a.length<t)return a.push(e),0;const n=a.shift()+r;return e>=n?(a.push(e),0):(a.push(n),n-e)}:function(){const e=Date.now();return e-i>r?(s=1,i=e,0):(s<t?s++:(i+=r,s=1),i-e)};return t=>{const r=function(...e){if(!r.isEnabled)return(async()=>t.apply(this,e))();let n;return new Promise(((r,i)=>{n=setTimeout((()=>{r(t.apply(this,e)),o.delete(n)}),c()),o.set(n,i)}))};return r.abort=()=>{for(const t of o.keys())clearTimeout(t),o.get(t)(new e);o.clear(),a.splice(0,a.length)},r.isEnabled=!0,r}},t.exports.AbortError=e},520733:t=>{"use strict";var e,r=function(){function t(t,e){if("function"!=typeof t)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+t+".");this._batchLoadFn=t,this._maxBatchSize=function(t){var e=!t||!1!==t.batch;if(!e)return 1;var r=t&&t.maxBatchSize;if(void 0===r)return 1/0;if("number"!=typeof r||r<1)throw new TypeError("maxBatchSize must be a positive number: "+r);return r}(e),this._batchScheduleFn=function(t){var e=t&&t.batchScheduleFn;if(void 0===e)return n;if("function"!=typeof e)throw new TypeError("batchScheduleFn must be a function: "+e);return e}(e),this._cacheKeyFn=function(t){var e=t&&t.cacheKeyFn;if(void 0===e)return function(t){return t};if("function"!=typeof e)throw new TypeError("cacheKeyFn must be a function: "+e);return e}(e),this._cacheMap=function(t){var e=!t||!1!==t.cache;if(!e)return null;var r=t&&t.cacheMap;if(void 0===r)return new Map;if(null!==r){var n=["get","set","delete","clear"].filter((function(t){return r&&"function"!=typeof r[t]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "))}return r}(e),this._batch=null}var e=t.prototype;return e.load=function(t){if(null==t)throw new TypeError("The loader.load() function must be called with a value,but got: "+String(t)+".");var e=function(t){var e=t._batch;if(null!==e&&!e.hasDispatched&&e.keys.length<t._maxBatchSize&&(!e.cacheHits||e.cacheHits.length<t._maxBatchSize))return e;var r={hasDispatched:!1,keys:[],callbacks:[]};return t._batch=r,t._batchScheduleFn((function(){return function(t,e){if(e.hasDispatched=!0,0===e.keys.length)return void i(e);var r=t._batchLoadFn(e.keys);if(!r||"function"!=typeof r.then)return o(t,e,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(r)+"."));r.then((function(t){if(!s(t))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(t)+".");if(t.length!==e.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(e.keys)+"\n\nValues:\n"+String(t));i(e);for(var r=0;r<e.callbacks.length;r++){var n=t[r];n instanceof Error?e.callbacks[r].reject(n):e.callbacks[r].resolve(n)}})).catch((function(r){return o(t,e,r)}))}(t,r)})),r}(this),r=this._cacheMap,n=this._cacheKeyFn(t);if(r){var a=r.get(n);if(a){var c=e.cacheHits||(e.cacheHits=[]);return new Promise((function(t){c.push((function(){return t(a)}))}))}}e.keys.push(t);var u=new Promise((function(t,r){e.callbacks.push({resolve:t,reject:r})}));return r&&r.set(n,u),u},e.loadMany=function(t){if(!s(t))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+t+".");for(var e=[],r=0;r<t.length;r++)e.push(this.load(t[r]).catch((function(t){return t})));return Promise.all(e)},e.clear=function(t){var e=this._cacheMap;if(e){var r=this._cacheKeyFn(t);e.delete(r)}return this},e.clearAll=function(){var t=this._cacheMap;return t&&t.clear(),this},e.prime=function(t,e){var r=this._cacheMap;if(r){var n,o=this._cacheKeyFn(t);if(void 0===r.get(o))e instanceof Error?(n=Promise.reject(e)).catch((function(){})):n=Promise.resolve(e),r.set(o,n)}return this},t}(),n="object"==typeof process&&"function"==typeof process.nextTick?function(t){e||(e=Promise.resolve()),e.then((function(){return process.nextTick(t)}))}:setImmediate||setTimeout;function o(t,e,r){i(e);for(var n=0;n<e.keys.length;n++)t.clear(e.keys[n]),e.callbacks[n].reject(r)}function i(t){if(t.cacheHits)for(var e=0;e<t.cacheHits.length;e++)t.cacheHits[e]()}function s(t){return"object"==typeof t&&null!==t&&"number"==typeof t.length&&(0===t.length||t.length>0&&Object.prototype.hasOwnProperty.call(t,t.length-1))}t.exports=r},542459:(t,e,r)=>{"use strict";r.d(e,{A:()=>o});var n=r(103843);const o=(t,e,r)=>{const o=null==t?void 0:t.preview,i=((t,e)=>{if(t){if("string"==typeof t)return!0;{const r=t["atlassian:supportedPlatforms"];if(r){const t="web"===e;return t&&r.includes("web")||!t&&r.includes("mobile")}return!0}}return!1})(o,e);if(o&&i){if("string"==typeof o)return{src:o};if("Link"===o["@type"]&&"interactiveHref"===r&&o.interactiveHref)return{src:o.interactiveHref,aspectRatio:o["atlassian:aspectRatio"]};if("Link"===o["@type"])return{src:(0,n.F)(o),aspectRatio:o["atlassian:aspectRatio"]};if(o.url||o.href)return"interactiveHref"===r&&o.interactiveHref?{src:o.interactiveHref,aspectRatio:o["atlassian:aspectRatio"]}:{src:(0,n.F)(o.url||o.href),aspectRatio:o["atlassian:aspectRatio"]};if(o.content)return{content:o.content}}}},103843:(t,e,r)=>{"use strict";r.d(e,{F:()=>n});const n=t=>"string"==typeof t?t:Array.isArray(t)?t.length>0?n(t[0]):void 0:t.href},889569:(t,e,r)=>{"use strict";r.d(e,{Z:()=>_});var n=r(872342),o=r(199009),i=(r(810796),r(520733)),s=r.n(i),a=r(629646),c=r.n(a),u=r(2963),h=r.n(u),l=r(25923),f=r(277158),p=r(956541),d=r(851534);const m=t=>{if(!t)return!1;return 200===t.status&&"body"in t},y=t=>{if(!t)return!1;return"status"in t&&t.status>=200&&"error"in t};var v=r(334806);const w=["error"],b=new v.LRUMap(100);class _{constructor(t,e){(0,o.Z)(this,"resolverUrl",void 0),(0,o.Z)(this,"envKey",void 0),(0,o.Z)(this,"baseUrlOverride",void 0),(0,o.Z)(this,"loadersByDomain",void 0),(0,o.Z)(this,"retryConfig",void 0),(0,o.Z)(this,"resolvedCache",void 0),(0,o.Z)(this,"batchResolve",(async t=>{const e=[...new Set(t)];let r=[];try{r=await(0,l.W)("post",`${this.resolverUrl}/resolve/batch`,e.map((t=>({resourceUrl:t}))))}catch(o){r=t.map((()=>({status:y(o)?o.status:500,error:o})))}const n={};for(let i=0;i<e.length;++i){const t=e[i],o=r[i];n[t]=o}return t.map((t=>n[t]))})),this.resolverUrl=(0,f.rV)(t,e),this.loadersByDomain={},this.retryConfig={retries:2},this.resolvedCache={},this.envKey=t,this.baseUrlOverride=e}createLoader(){const t=h()({limit:1,interval:250})(this.batchResolve);return new(s())((e=>t(e)),{maxBatchSize:50,cache:!1})}getLoader(t){return this.loadersByDomain[t]||(this.loadersByDomain[t]=this.createLoader()),this.loadersByDomain[t]}async resolveUrl(t,e=!1){const r=new URL(t).hostname,n=this.getLoader(r);let o,i;o=b.get(t),o&&!e||(o=n.load(t),b.set(t,o));try{i=await o}catch(s){throw b.delete(t),s}return(!m(i)||"resolved"!==(0,p.l)(i.body))&&b.delete(t),i}async prefetchData(t){const e=await this.resolveUrl(t,!1);if(m(e))return e.body;try{const e=await c()((async()=>{if(this.resolvedCache[t])throw new Error("Retry unneeded - link has been resolved.");{const e=await this.resolveUrl(t,!1);if(m(e))return e;throw new Error("Retry for URL failed")}}),this.retryConfig);return e.body}catch(r){return}}isRateLimitError(t){return y(t)&&429===t.error.status}async fetchData(t,e){let r=await this.resolveUrl(t,e);if(this.isRateLimitError(r)&&(r=await c()((async()=>{const e=await this.resolveUrl(t,!1);if(this.isRateLimitError(e))throw this.mapErrorResponse(e,new URL(t).hostname);return e}),this.retryConfig)),!m(r))throw this.mapErrorResponse(r,new URL(t).hostname);return this.resolvedCache[t]=!0,r.body}async postData(t){const e={key:t.key,action:t.action,context:t.context};return await(0,l.W)("post",`${this.resolverUrl}/invoke`,e)}async search(t){const{key:e,action:r}=t,{query:n,context:o}=r,i={key:e,search:{query:n,context:o}},s=await(0,l.W)("post",`${this.resolverUrl}/invoke/search`,i);if(y(s))throw this.mapErrorResponse(s);return s}async fetchAvailableSearchProviders(){return(await(0,l.W)("post",`${this.resolverUrl}/providers`,{type:"search"})).providers}mapErrorResponse(t,e=""){if(null!=t&&t.error){const r=t.error.type,n=t.error.message;if(t.error instanceof l.F)return new d.H("fallback",e,n,r);switch(r){case"ResolveBadRequestError":case"SearchBadRequestError":return new d.H("fallback",e,n,r);case"ResolveAuthError":case"SearchAuthError":return new d.H("auth",e,n,r);case"ResolveUnsupportedError":case"SearchUnsupportedError":return new d.H("fatal",e,n,r);case"ResolveFailedError":case"SearchFailedError":case"ResolveTimeoutError":case"SearchTimeoutError":case"SearchRateLimitError":case"ResolveRateLimitError":case"InternalServerError":return new d.H("error",e,n,r)}}const r=t||{},{error:o}=r,i=(0,n.Z)(r,w);return new d.H("fatal",e,t?`${this.stringifyError(o)} ${JSON.stringify(i)}`:"Response undefined","UnexpectedError")}stringifyError(t){return JSON.stringify(t,"object"==typeof t?Object.getOwnPropertyNames(t):void 0)}}},452044:(t,e,r)=>{"use strict";r.d(e,{G:()=>w});var n=r(840506),o=r(150514),i=r.n(o),s=r(539908),a={INIT:"@@redux/INIT"};function c(t,e,r){var n;if("function"==typeof e&&void 0===r&&(r=e,e=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(c)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var o=t,u=e,h=[],l=h,f=!1;function p(){l===h&&(l=h.slice())}function d(){return u}function m(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return p(),l.push(t),function(){if(e){e=!1,p();var r=l.indexOf(t);l.splice(r,1)}}}function y(t){if(!i()(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,u=o(u,t)}finally{f=!1}for(var e=h=l,r=0;r<e.length;r++){(0,e[r])()}return t}return y({type:a.INIT}),(n={dispatch:y,subscribe:m,getState:d,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");o=t,y({type:a.INIT})}})[s.default]=function(){var t,e=m;return(t={subscribe:function(t){if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");function r(){t.next&&t.next(d())}return r(),{unsubscribe:e(r)}}})[s.default]=function(){return this},t},n}Object.assign;var u=r(617055),h=r(542459),l=r(615919),f=r(573199),p=r(956541);function d(t,e,r){const n=t,o=(0,l.Z)({},e);return n?(o.status=(0,p.l)(n),o.details=n):o.status=r,o}const m=(t,e)=>{if(!(t=>[f.Ts,f.hO,f.XP,f.HC,f.G_,f.mr,f.Pb].includes(t.type))(e))return t;const r=t[e.url];if(!e.ignoreStatusCheck&&r&&r.status===e.type)return t;{const n=function(t,e){switch(e.type){case f.Ts:return{status:e.type};case f.hO:return(0,l.Z)((0,l.Z)({},t),{},{status:e.type});case f.XP:return d(e.payload,t,e.type);case f.HC:return d(e.payload,t,"resolved");case f.G_:return(0,l.Z)((0,l.Z)({},t),{},{status:e.type,error:e.error});case f.mr:return(0,l.Z)((0,l.Z)({},t),{},{status:e.type,error:e.error,details:e.payload});case f.Pb:return(0,l.Z)((0,l.Z)({},t),{},{metadataStatus:e.metadataStatus})}}(r,e);return(0,l.Z)((0,l.Z)({},t),{},{[e.url]:n})}};var y=r(269947),v=r(889569);function w({storeOptions:t,client:e,authFlow:r,children:o,renderers:i,featureFlags:s,isAdminHubAIEnabled:a}){const l=(0,n.useContext)(y.wy),f=(0,n.useMemo)((()=>({})),[]),{initialState:p}=t||{initialState:f},d=(0,n.useMemo)((()=>c(m,p)),[p]),w=(0,n.useMemo)((()=>{const t=e||new v.Z;return{renderers:i,store:d,prefetchStore:{},connections:{client:t},config:{authFlow:r||"oauth2"},extractors:{getPreview:(t,e)=>{const r=(0,u.G)(d,t);return r.details?(0,h.A)(r.details.data,e):void 0}},featureFlags:s,isAdminHubAIEnabled:a}}),[e,r,a,i,s,d]);return n.createElement(y.wy.Provider,{value:l||w},o)}w.displayName="SmartCardProvider"},269947:(t,e,r)=>{"use strict";r.d(e,{ap:()=>i,wy:()=>o});var n=r(840506);const o=(0,n.createContext)(void 0);function i(){const t=(0,n.useContext)(o);if(!t)throw Error("useSmartCard() must be wrapped in <SmartCardProvider>");return t}},573199:(t,e,r)=>{"use strict";r.d(e,{G_:()=>a,HC:()=>s,Pb:()=>u,RH:()=>h,Ts:()=>n,XP:()=>i,hO:()=>o,mr:()=>c});const n="pending",o="resolving",i="resolved",s="reloading",a="errored",c="fallback",u="metadata",h=(t,{url:e},r,n,o,i)=>({type:t,url:e,payload:r,error:n,metadataStatus:o,ignoreStatusCheck:i})},25923:(t,e,r)=>{"use strict";r.d(e,{F:()=>i,W:()=>s});var n=r(615919);const o=[200,401,404];class i extends Error{constructor(t){super(t)}}async function s(t,e,r,s,a=o){const c=(0,n.Z)({method:t,credentials:"include",headers:(0,n.Z)({Accept:"application/json","Cache-Control":"no-cache","Content-Type":"application/json"},s)},r?{body:JSON.stringify(r)}:{});try{const t=await fetch(e,c);if(t.ok||null!=a&&a.includes(t.status)){if(a.includes(204)){const e=await t.text();return e?JSON.parse(e):void 0}return await t.json()}throw t}catch(u){if("string"==typeof u||u instanceof TypeError)throw new i(u);throw u}}},277158:(t,e,r)=>{"use strict";r.d(e,{SV:()=>a,rV:()=>c});const n="https://api-private.dev.atlassian.com",o="https://pug.jira-dev.com/gateway/api",i="https://api-private.atlassian.com",s={dev:n,development:n,stg:o,staging:o,prd:i,prod:i,production:i},a=t=>t?t in s?s[t]:i:void 0!==window.location?window.location.origin:"",c=(t,e)=>{if(t||e){return`${e||a(t)}/object-resolver`}return"/gateway/api/object-resolver"}},851534:(t,e,r)=>{"use strict";r.d(e,{H:()=>n});class n extends Error{constructor(t,e,r,n){super(`${t}: ${r}`),this.kind=t,this.hostname=e,this.message=r,this.type=n,this.name="APIError",this.type=n,this.kind=t,this.message=r,this.hostname=e}}},617055:(t,e,r)=>{"use strict";r.d(e,{G:()=>n});const n=(t,e)=>t.getState()[e]||{status:"pending"}},956541:(t,e,r)=>{"use strict";r.d(e,{l:()=>n});const n=({meta:t})=>{const{access:e,visibility:r}=t;switch(e){case"forbidden":return"not_found"===r?(t=>{var e;const r=null===(e=t.requestAccess)||void 0===e?void 0:e.accessType;return r&&"ACCESS_EXISTS"!==r?"forbidden":"not_found"})(t):"forbidden";case"unauthorized":return"unauthorized";default:return"resolved"}}}}]);
//# sourceMappingURL=52044.Hb1IUEX-hE.js.map