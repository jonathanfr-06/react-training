"use strict";(self._cf=self._cf||[]).push([[79652,71698,50952,17650,34415,43544,52820,65623,69623,77086,27048,18079,905,11915,22158,59054],{154485:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M10 8.732v.28A1.993 1.993 0 018.002 11l-.004 2A3.995 3.995 0 0012 9.007v-.274a2 2 0 10-2 0zm-4-3a2 2 0 10-2 0v4.536a2 2 0 102 0V5.732zM2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2z"/></svg>'},e,{size:"small"}));o.displayName="Branch16Icon";var s=o;t.default=s},652373:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FFAB00" fill-rule="evenodd" d="M10.58 7H5.467l.866-.865A1 1 0 104.92 4.72L2.34 7.3a.998.998 0 000 1.414l2.58 2.578a1 1 0 001.414-1.416L5.456 9h5.134l-.877.876a1 1 0 101.414 1.415l2.58-2.58a1 1 0 000-1.414L11.126 4.72a.996.996 0 00-.706-.292.999.999 0 00-.707 1.707l.866.865zM2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2z"/></svg>'},e,{size:"small"}));o.displayName="Changes16Icon";var s=o;t.default=s},272097:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#6554C0" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm2.92 4.72L2.34 7.3a.998.998 0 000 1.414l2.58 2.578a1 1 0 001.414-1.416L4.46 8.006l1.873-1.871A1 1 0 104.92 4.72zm4.792 0a.999.999 0 000 1.415l1.874 1.87-1.873 1.87a1 1 0 101.414 1.416l2.58-2.58a1 1 0 000-1.414L11.126 4.72a.996.996 0 00-.706-.292.995.995 0 00-.708.293z"/></svg>'},e,{size:"small"}));o.displayName="Code16Icon";var s=o;t.default=s},907468:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FFAB00" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm6 9a1 1 0 100-2 1 1 0 000 2zm-.986 1.834a3.001 3.001 0 010-5.668A1.007 1.007 0 017 5V3a1 1 0 112 0v2c0 .057-.005.112-.014.166a3.001 3.001 0 010 5.668c.01.054.014.11.014.166v2a1 1 0 01-2 0v-2c0-.057.005-.112.014-.166z"/></svg>'},e,{size:"small"}));o.displayName="Commit16Icon";var s=o;t.default=s},754269:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#6554C0" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm9.912 7.767A.486.486 0 0012 7.5a.5.5 0 00-.5-.5H9V3.5a.495.495 0 00-.872-.327l-.002-.001-3.977 4.973-.008.009-.028.036.002.004A.487.487 0 004 8.5a.5.5 0 00.5.5c.028 0 .051-.011.077-.016H7V12.5a.5.5 0 00.5.5c.124 0 .234-.05.321-.124l.004.001.007-.009c.03-.027.051-.059.074-.092l3.934-4.913c.019-.018.031-.039.047-.06l.027-.033-.002-.003z"/></svg>'},e,{size:"small"}));o.displayName="Epic16Icon";var s=o;t.default=s},290543:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M4.785 10h6.43L10.5 8H5.499l-.714 2zM4 11a1 1 0 00-1 1v1h10v-1a1 1 0 00-1-1H4zm1.856-4h4.288L8.942 3.632a1 1 0 00-1.884 0L5.856 7zM2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2z"/></svg>'},e,{size:"small"}));o.displayName="Incident16Icon";var s=o;t.default=s},113225:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M5.968 11.446l5.478-5.478a4 4 0 01-5.478 5.478zm-.796-.618zm-.618-.796a4 4 0 015.478-5.478l-5.478 5.478zm6.274-4.86zM2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm6 14A6 6 0 108 2a6 6 0 000 12z"/></svg>'},e,{size:"small"}));o.displayName="Problem16Icon";var s=o;t.default=s},460292:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#36B37E" fill-rule="evenodd" d="M6.417 6H9a1 1 0 011 1v1a1 1 0 002 0V7a3 3 0 00-3-3H6.415l.294-.295a1 1 0 10-1.413-1.414l-2.003 2a1 1 0 00.001 1.415l2.002 2.001a.999.999 0 001.414-.002.999.999 0 00-.001-1.413L6.417 6zM2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm9 14a2 2 0 100-4 2 2 0 000 4z"/></svg>'},e,{size:"small"}));o.displayName="PullRequest16Icon";var s=o;t.default=s},989364:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M9 7V4a1 1 0 00-1-1H4a1 1 0 00-1 1v4a1 1 0 001 1h3v3a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H9zM0 1.994C0 .893.895 0 1.994 0h12.012C15.107 0 16 .895 16 1.994v12.012A1.995 1.995 0 0114.006 16H1.994A1.995 1.995 0 010 14.006V1.994zM9 9h2v2H9V9zM5 5h2v2H5V5z"/></svg>'},e,{size:"small"}));o.displayName="Subtask16Icon";var s=o;t.default=s},131098:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11.643 17.965c-1.53 1.495-4.016 1.496-5.542.004a3.773 3.773 0 01.002-5.412l7.147-6.985a2.316 2.316 0 013.233-.003c.893.873.895 2.282.004 3.153l-6.703 6.55a.653.653 0 01-.914-.008.62.62 0 010-.902l6.229-6.087a.941.941 0 000-1.353.995.995 0 00-1.384 0l-6.23 6.087a2.502 2.502 0 000 3.607 2.643 2.643 0 003.683.009l6.703-6.55a4.074 4.074 0 00-.003-5.859 4.306 4.306 0 00-6.002.003l-7.148 6.985a5.655 5.655 0 00-.001 8.118c2.29 2.239 6.015 2.238 8.31-.005l6.686-6.533a.941.941 0 000-1.353.995.995 0 00-1.384 0l-6.686 6.534z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="AttachmentIcon";var s=o;t.default=s},633957:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M14.155 4.055a1 1 0 00-1.271.62l-4.83 14.046a1 1 0 001.891.65l4.83-14.045a1 1 0 00-.62-1.271m-6.138 8.21l-2.58-2.501L8.236 7.05a.999.999 0 10-1.392-1.436l-3.54 3.432a1 1 0 000 1.436l3.32 3.219a1 1 0 101.393-1.436m12.219 1.568l-3.32-3.22a.999.999 0 10-1.393 1.437l2.58 2.5-2.799 2.715a.999.999 0 101.392 1.436l3.54-3.432a1 1 0 000-1.436" fill="currentColor" fill-rule="evenodd"/></svg>'},e));o.displayName="CodeIcon";var s=o;t.default=s},106506:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M8.126 10H4c-1.113 0-2 .895-2 2v3.73c0 1.31 1.874 2.053 4 2.23v-2.964A3.002 3.002 0 019 12h.354a4 4 0 01-1.228-2zm7.748 0H20c1.105 0 2 .885 2 2v3.73c0 1.31-1.874 2.053-4 2.23v-2.964A3 3 0 0015 12h-.354a4 4 0 001.228-2zM9.967 5.554a3 3 0 10-1.963 3.274 3.999 3.999 0 011.963-3.274zm6.03 3.274a3 3 0 10-1.963-3.276 3.994 3.994 0 011.963 3.276z"/><path d="M7 15c0-1.105.887-2 2-2h6c1.105 0 2 .885 2 2v3.73c0 3.027-10 3.027-10 0V15z"/><circle cx="12" cy="9" r="3"/></g></svg>'},e));o.displayName="PeopleGroupIcon";var s=o;t.default=s},478848:(e,t,a)=>{a.d(t,{fl:()=>W});var r=a(615919),n=a(368117),i=a(103173),o=a(826113),s=a(3208),l=a(840506),c=a(16728),d=a(411947);const u=e=>{const t=e["schema:commentCount"];if(t)return{text:t.toString(),icon:l.createElement(d.default,{label:"comment-count",key:"comments-count-icon",size:"small",primaryColor:`var(--ds-icon-subtle, ${c.mg})`})}};var v=a(633957);const p=e=>{const t=e["schema:programmingLanguage"];if(t)return{text:t,icon:l.createElement(v.default,{size:"small",label:"code",primaryColor:`var(--ds-icon-subtle, ${c.mg})`})}};var m=a(764803);const h=e=>{const t=e["atlassian:subscriberCount"];if(t)return{text:t.toString(),icon:l.createElement(m.default,{size:"small",label:"subscribers",primaryColor:`var(--ds-icon-subtle, ${c.mg})`})}};var f=a(131098);const y=e=>{const t=e["atlassian:attachmentCount"];if(t)return{text:t.toString(),icon:l.createElement(f.default,{size:"small",label:"attachments",primaryColor:`var(--ds-icon-subtle, ${c.mg})`})}};var g=a(647935),b=a(916661),_=a(782337),C=a(706600),w=a(300797),k=a(110996),E=a(742764),Z=a(254102),M=a(304562),S=a(429039),x=a(902785),I=a(137699);const P=e=>{const t=(0,x.n)(e),a=(0,I.y)(e);if(t){const{value:a,unit:r}=(0,S.W)(new Date(t).getTime()),n=(0,C._)(e);return l.createElement("span",null,"Updated ",n&&`by ${n.name}`," ",l.createElement(M.Z,{value:a,unit:r}))}if(a){const{value:t,unit:r}=(0,S.W)(new Date(a).getTime()),n=(0,_.f)(e),i=A(n);return l.createElement("span",null,"Created ",i&&`by ${i.name}`," ",l.createElement(M.Z,{value:t,unit:r}))}},A=e=>{if(e&&e.length>0)return e.shift()};var z=a(588200),j=a(25308),O=a(202435),T=a(515879),B=a(542459),H=a(872342),$=a(142807),R=a(178050),D=a(10404);const L=["details"];var N=a(112663),K=a(219899),F=a(96271);const V=({extensionKey:e="empty-object-provider",viewProps:t,jsonLd:a,handleInvoke:n,testId:i,platform:o,origin:s,source:c="block",analytics:d,meta:u,actionOptions:v})=>{if(!(0,F.J)(O.l.PreviewAction,v))return;const p=((e,t)=>{const a=(0,T.X)(e),r=(0,E.S)(e),n=(0,B.A)(e,t);return{download:a,providerName:r&&r.text,src:n&&n.src}})(a,o),m={link:(h=t).link,title:h.title,details:h.details,icon:h.icon,url:h.link,byline:h.byline,isTrusted:h.isTrusted};var h;const f=(0,r.Z)((0,r.Z)({},p),m);if(p.src){const t=e,a=(e=>{let{details:t}=e,a=(0,H.Z)(e,L);return{id:"preview-content",text:l.createElement($.Z,(0,r.Z)({},R.s.preview_improved)),promise:()=>(0,D.p)((0,r.Z)({providerName:"Preview",showModal:!0,onClose:()=>{}},a))}})((0,r.Z)((0,r.Z)({},f),{},{analytics:d,extensionKey:e,origin:s,testId:i,isSupportTheming:(0,K.n)(u)})),o=((e,t,a)=>({type:"client",key:e,source:a||N.V3.EmbedPreview,action:{type:t,promise:()=>Promise.resolve()}}))(t,"PreviewAction",c);return o.action.promise=a.promise,a.promise=()=>n(o),a}};var G=a(680298);const q=e=>{const t=(0,s.F)(e);return"string"==typeof t?{url:t}:{icon:t}},U=e=>[u(e),p(e),h(e),y(e)].filter((e=>!!e)),X=(e,t,a,n,i)=>{if(a){const{handleInvoke:o,actionOptions:s}=a,l=(0,j.U)(t,o,s),c=V((0,r.Z)((0,r.Z)({},a),{},{viewProps:e,jsonLd:t,platform:n,meta:i}));return c&&l.push(c),l}return[]},Q=e=>{if("atlassian:Project"===e["@type"])return(0,g.$)(e);if("atlassian:Task"!==e["@type"]){if("atlassian:SourceCodePullRequest"===e["@type"])return(0,_.f)(e);{const t=(0,C._)(e);let a;t&&(a=[t]);const r=(0,_.f)(e);return a||r}}{const t=(0,b.U)(e);if(t)return[t]}},W=(e,t,a,s,l)=>{const c={link:(0,w.r)(e),title:(0,k.O)(e),titleTextColor:(0,n.l)(e),lozenge:(0,o.B)(e),icon:q(e),context:(0,E.S)(e),details:U(e),byline:(0,i.X)(e)||P(e),thumbnail:(0,Z.o)(e),users:Q(e),titlePrefix:(0,z.u)(e,s,"block"),isTrusted:(0,G.y)(t)};return(0,r.Z)((0,r.Z)({},c),{},{actions:X(c,e,a,l,t)})}},549024:(e,t,a)=>{a.d(t,{d:()=>c,r:()=>l});var r=a(615919),n=a(178050),i=a(362334),o=a(2552),s=a(525778);const l=({jsonLd:e,url:t,product:a})=>{var s;const l=null!=e&&e.requestAccess?(0,r.Z)((0,r.Z)({},null==e?void 0:e.requestAccess),{},{hostname:(0,o.Z)(t)}):void 0;switch(null==e||null===(s=e.requestAccess)||void 0===s?void 0:s.accessType){case"DIRECT_ACCESS":return(0,r.Z)((0,r.Z)({},l),{},{callToActionMessageKey:"click_to_join",descriptiveMessageKey:"click_to_join_description",action:(0,i.I)((()=>window.open(t)),"click_to_join",n.s.click_to_join,{context:a})});case"REQUEST_ACCESS":return(0,r.Z)((0,r.Z)({},l),{},{callToActionMessageKey:"request_access",descriptiveMessageKey:"request_access_description",action:(0,i.I)((()=>window.open(t)),"request_access",n.s.request_access,{product:a})});case"PENDING_REQUEST_EXISTS":return(0,r.Z)((0,r.Z)({},l),{},{descriptiveMessageKey:"request_access_pending_description"});case"FORBIDDEN":return(0,r.Z)((0,r.Z)({},l),{},{descriptiveMessageKey:"forbidden_description"});case"DENIED_REQUEST_EXISTS":return(0,r.Z)((0,r.Z)({},l),{},{descriptiveMessageKey:"request_denied_description"});default:return l}},c=({jsonLd:e,url:t,product:a,createAnalyticsEvent:l})=>{var c;const d=null!=e&&e.requestAccess?(0,r.Z)((0,r.Z)({},null==e?void 0:e.requestAccess),{},{hostname:(0,o.Z)(t)}):void 0;switch(null==e||null===(c=e.requestAccess)||void 0===c?void 0:c.accessType){case"DIRECT_ACCESS":return(0,r.Z)((0,r.Z)({},d),{},{titleMessageKey:"direct_access_title",descriptiveMessageKey:"direct_access_description",callToActionMessageKey:"direct_access",action:(0,i.I)((()=>{l({action:"clicked",actionSubject:"button",actionSubjectId:"crossJoin",eventType:"ui"}).fire(s.D_),window.open(t)}),"direct_access",n.s.direct_access,{product:a})});case"REQUEST_ACCESS":return(0,r.Z)((0,r.Z)({},d),{},{titleMessageKey:"default_no_access_title",descriptiveMessageKey:"request_access_description",callToActionMessageKey:"request_access",action:(0,i.I)((()=>{l({action:"clicked",actionSubject:"button",actionSubjectId:"requestAccess",eventType:"ui"}).fire(s.D_),window.open(t)}),"request_access",n.s.request_access)});case"PENDING_REQUEST_EXISTS":return(0,r.Z)((0,r.Z)({},d),{},{titleMessageKey:"request_access_pending_title",descriptiveMessageKey:"request_access_pending_description",callToActionMessageKey:"request_access_pending",action:(0,i.I)((()=>window.open(t)),"request_access_pending",n.s.request_access_pending),buttonDisabled:!0});case"DENIED_REQUEST_EXISTS":return(0,r.Z)((0,r.Z)({},d),{},{titleMessageKey:"forbidden_title",descriptiveMessageKey:"request_denied_description"});case"ACCESS_EXISTS":return"not_found"===(null==e?void 0:e.visibility)?(0,r.Z)((0,r.Z)({},d),{},{titleMessageKey:"not_found_title",descriptiveMessageKey:"not_found_description"}):(0,r.Z)((0,r.Z)({},d),{},{titleMessageKey:"forbidden_title",descriptiveMessageKey:"access_exists_description",callToActionMessageKey:"request_access",action:(0,i.I)((()=>{l({action:"clicked",actionSubject:"button",actionSubjectId:"requestAccess",eventType:"ui"}).fire(s.D_),window.open(t)}),"access_exists",n.s.request_access)});case"FORBIDDEN":return(0,r.Z)((0,r.Z)({},d),{},{titleMessageKey:"forbidden_title",descriptiveMessageKey:"forbidden_description"});default:return d}}},2552:(e,t,a)=>{a.d(t,{Z:()=>r});const r=e=>{try{return new URL(e).hostname}catch(t){return e}}},3208:(e,t,a)=>{a.d(t,{F:()=>O});var r=a(840506),n=a(106506),i=a(907468),o=a(460292),s=a(154485),l=a(272097),c=a(320250),d=a(675174),u=a(110996),v=a(742764),p=a(789003);const m=e=>e["schema:fileFormat"];var h=a(392785),f=a(61969),y=a(535890),g=a(924867),b=a(532983),_=a(701837),C=a(380184);const w=e=>{if(e.fileFormat)return(0,C.A5)(e.fileFormat)},k=(e,t)=>{switch(e){case"schema:BlogPosting":return r.createElement(h.Z,{label:t.title||"blog",testId:"blog-icon"});case"schema:DigitalDocument":return r.createElement(f.default,{label:t.title||"file",testId:"file-icon"});case"schema:TextDigitalDocument":return r.createElement(b.default,{label:t.title||"document",testId:"document-icon"});case"schema:PresentationDigitalDocument":return r.createElement(y.default,{label:t.title||"presentation",testId:"presentation-icon"});case"schema:SpreadsheetDigitalDocument":return r.createElement(g.default,{label:t.title||"spreadsheet",testId:"spreadsheet-icon"});case"atlassian:Template":return r.createElement(_.default,{label:t.title||"template",testId:"document-filled-icon"});case"atlassian:UndefinedLink":return r.createElement(b.default,{label:t.title||"undefinedLink",testId:"document-icon"})}};var E=a(989364),Z=a(582751),M=a(560170),S=a(754269),x=a(290543),I=a(555427),P=a(652373),A=a(113225),z=a(662099);var j=a(436069);const O=(e,t="type")=>{const a=e["@type"],r={title:(0,u.O)(e),provider:(0,v.S)(e),fileFormat:m(e),taskType:(0,j.D)(e),icon:e.icon&&(0,p._)(e.icon),priority:t};if(Array.isArray(a)){const e=a.sort(((e,t)=>d.x[t]-d.x[e]))[0];return T(e,r)}return T(a,r)},T=(e,t)=>{switch(e){case"Document":case"schema:BlogPosting":case"schema:DigitalDocument":case"schema:TextDigitalDocument":case"schema:PresentationDigitalDocument":case"schema:SpreadsheetDigitalDocument":case"atlassian:Template":case"atlassian:UndefinedLink":return((e,t)=>{const a=k(e,t),r=w(t),n=t.provider&&t.provider.icon;return"provider"===t.priority?n||r||a:r||a||t.icon||n})(e,t);case"atlassian:Goal":return t.icon||r.createElement(c.default,{label:t.title||"goal",testId:"task-icon"});case"atlassian:Project":return t.icon||r.createElement(n.default,{label:t.title||"project",size:"small",testId:"project-icon"});case"atlassian:SourceCodeCommit":return r.createElement(i.default,{label:t.title||"commit",testId:"commit-icon"});case"atlassian:SourceCodePullRequest":return r.createElement(o.default,{label:t.title||"pullRequest",testId:"pull-request-icon"});case"atlassian:SourceCodeReference":return r.createElement(s.default,{label:t.title||"reference",testId:"branch-icon"});case"atlassian:SourceCodeRepository":return r.createElement(l.default,{label:t.title||"repository",testId:"repo-icon"});case"atlassian:Task":return(e=>{const{taskType:t,provider:a}=e,n=e.title||"task",i=r.createElement(c.default,{label:n,testId:"default-task-icon"});if(a&&a.id===z.WL&&t&&t.id)switch(t.id.split("#").pop()){case z.V:return r.createElement(c.default,{label:n,testId:"jira-task-icon"});case z.Ju:return r.createElement(E.default,{label:n,testId:"jira-subtask-icon"});case z.zd:return r.createElement(Z.default,{label:n,testId:"jira-story-icon"});case z.Mc:return r.createElement(M.default,{label:n,testId:"jira-bug-icon"});case z.rF:return r.createElement(S.default,{label:n,testId:"jira-epic-icon"});case z.bi:return r.createElement(x.default,{label:n,testId:"jira-incident-icon"});case z.Tw:return r.createElement(I.default,{label:n,testId:"jira-service-request-icon"});case z.u9:return r.createElement(P.default,{label:n,testId:"jira-change-icon"});case z.yM:return r.createElement(A.default,{label:n,testId:"jira-problem-icon"});case z.Lk:return t.icon||e.icon||a.icon||i}return i})(t);default:return t.provider&&t.provider.icon}}},680298:(e,t,a)=>{a.d(t,{y:()=>n});var r=a(24359);const n=e=>(0,r.e)("platform.linking-platform.smart-card.fix-is-trusted-pop")?!(null==e||!e.key)&&!["iframely-object-provider","public-object-provider"].includes(e.key):Boolean((null==e?void 0:e.key)&&"iframely-object-provider"!==e.key)},368117:(e,t,a)=>{a.d(t,{l:()=>i});var r=a(675174),n=a(16728);const i=e=>{const t=e["@type"];if(Array.isArray(t)){return"atlassian:UndefinedLink"===t.sort(((e,t)=>r.x[t]-r.x[e]))[0]?`var(--ds-text-danger, ${n.gR})`:void 0}}},588200:(e,t,a)=>{a.d(t,{u:()=>r});const r=(e,t,a)=>{const r=e["atlassian:titlePrefix"];if(r&&"atlassian:Emoji"===r["@type"]){const e=(n=r.text)&&n.replace(/['"]+/g,"").replace(/null/,"")||"",i=0!==e.length,o=null==t?void 0:t.emoji;if(i&&o)return o(e,a)}var n}},89114:(e,t,a)=>{a.d(t,{C:()=>u});var r=a(840506),n=a(744621),i=a(269947),o=a(573199),s=a(443317),l=a(112663),c=a(108718),d=a(720467);const u=(e,t,a)=>{const u=(0,c.Z)(),v=(0,d.Z)({analytics:a}),{store:p}=(0,i.ap)(),{getState:m,dispatch:h}=p,f=(0,r.useCallback)((()=>{var e;const{details:a,status:r,metadataStatus:n}=null!==(e=m()[t])&&void 0!==e?e:{status:l._P.Pending};return{details:a,status:r,metadataStatus:n}}),[m,t]),y=(0,r.useCallback)((e=>{h((0,o.RH)(o.Pb,{url:t},void 0,void 0,e))}),[h,t]),g=(0,r.useCallback)((async(a=t,r=!1,n=!1)=>u(a,r,n,e)),[e,u,t]),b=(0,r.useCallback)((()=>{const{details:e}=f();return e||(h((0,o.RH)(o.hO,{url:t})),y("pending")),g()}),[f,g,h,t,y]),_=(0,r.useCallback)((()=>{const{details:e}=f(),a=(0,s.hZ)(e);a?(0,s.Eb)(a,m()).map((e=>g(e,!0))):g(t,!0)}),[f,t,m,g]),C=(0,r.useCallback)((()=>{const{metadataStatus:e}=f();if(void 0===e)return y("pending"),g(t,!1,!0)}),[f,g,y,t]),w=(0,r.useCallback)((t=>{const{details:r,status:i}=f(),o=(0,s.hZ)(r),l=(0,s.U)(r),c=(0,s.U2)(r);"unauthorized"===i&&a.ui.authEvent({display:t,definitionId:o,extensionKey:l}),"forbidden"===i&&a.ui.authAlternateAccountEvent({display:t,definitionId:o,extensionKey:l}),c.length>0&&(a.screen.authPopupEvent({definitionId:o,extensionKey:l}),(0,n.I)(c[0].url).then((()=>{a.track.appAccountConnected({definitionId:o,extensionKey:l}),a.operational.connectSucceededEvent({id:e,definitionId:o,extensionKey:l}),_()}),(r=>{a.operational.connectFailedEvent({id:e,definitionId:o,extensionKey:l,reason:r.type}),"auth_window_closed"===r.type&&a.ui.closedAuthEvent({display:t,definitionId:o,extensionKey:l}),_()})))}),[f,a.ui,a.screen,a.track,a.operational,e,_]),k=(0,r.useCallback)((async(e,t)=>{const{key:a,action:r}=e,n=e.source||t;if("client"===e.type)return await v({actionFn:e.action.promise,actionType:r.type,display:n,extensionKey:a})}),[v]);return(0,r.useMemo)((()=>({register:b,reload:_,authorize:w,invoke:k,loadMetadata:C})),[b,_,w,k,C])}},885347:(e,t,a)=>{a.d(t,{h:()=>i});var r=a(840506),n=a(269947);const i=()=>{const e=(0,n.ap)();let t=null==e?void 0:e.renderers;return t=(0,r.useMemo)((()=>t),[t]),t}},921914:(e,t,a)=>{a.d(t,{K:()=>o});var r=a(76739),n=a(269947);const i={status:"pending"};function o(e){const{store:t}=(0,n.ap)(),a=(0,r.useSyncExternalStoreWithSelector)(t.subscribe,t.getState,t.getState,(t=>t[e]));return null!=a?a:i}},742154:(e,t,a)=>{a.d(t,{z:()=>n});var r=a(202435);const n=(e,t,a,n)=>{if(void 0!==e)return e;if("mobile"===n||!1===t&&!1===a)return{hide:!0};if(t&&a)return{hide:!1};let i=[];return!1===t&&(i=[...i,r.l.FollowAction,r.l.ChangeStatusAction]),!1===a&&(i=[...i,r.l.DownloadAction,r.l.PreviewAction,r.l.ViewAction]),{hide:!1,exclude:i}}},714591:(e,t,a)=>{a.d(t,{W:()=>c});var r=a(615919),n=a(840506),i=a(32807),o=a(426641),s=a(921914),l=a(846858);const c=e=>{const{children:t,url:a,display:c}=e,{details:d,status:u}=(0,s.K)(a),v=(0,o.R)({url:a},d,u);return n.createElement(l.R,(0,r.Z)((0,r.Z)({},e),{},{display:c}),n.createElement(i.Z,{data:{attributes:v}},t))};c.displayName="SmartLinkAnalyticsContext"},362334:(e,t,a)=>{a.d(t,{I:()=>s});var r=a(615919),n=a(840506),i=a(142807),o=a(178050);const s=(e,t="connect-other-account",a=o.s.try_another_account,s={})=>({id:t,text:n.createElement(i.Z,(0,r.Z)((0,r.Z)({},a),{},{values:s})),promise:()=>new Promise((t=>t(e()))),buttonAppearance:"default"})},233664:(e,t,a)=>{a.d(t,{Z:()=>B});var r=a(615919),n=a(840506),i=a(112663),o=a(39030),s=a(926745),l=a(499857),c=a(757884),d=a(513657);const u=o.iv`
  // Stretch the invisible link over the whole of the post.
  // Hide the link’s text.
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  overflow: hidden;
  text-indent: 100%;
  white-space: nowrap;

  // Needs a heightened specificity to trump other anchor.
  // Stack it under all other links in the post text.
  a&.layered-link {
    position: absolute;
    z-index: 0;
  }

  // When hovering over the layered link, any hidden action buttons inside
  // the Container should become visible.
  // As actions resides inside blocks and layered link is expected to be
  // on the same level of blocks. That makes the blocks, e.g. TitleBlock,
  // its sibling. Using general sibling combinator here to apply styling to
  // all the siblings of layered link.
  // The general sibling combinator (~) separates two selectors and matches all
  // iterations of the second element, that are following the first element
  // (though not necessarily immediately), and are children of the same parent
  // element.
  &:hover ~ * {
    .actions-button-group {
      opacity: 1;
    }
  }
`,v=({onClick:e,target:t,testId:a,text:r,url:n})=>{const i=(0,d.jB)();return(0,o.tZ)("a",{className:"layered-link",css:u,"data-testid":`${a}-layered-link`,href:n,onClick:e,onMouseDown:i,target:t,tabIndex:-1},r)};v.displayName="LayeredLink";const p=v;var m=a(278773);const h=({children:e,hideHoverCardPreviewButton:t,isHoverPreview:a,isAuthTooltip:r,actionOptions:o,testId:s,url:l,delay:c=100})=>{const[d,u]=(0,n.useState)(!0),v=(0,n.useRef)();(0,n.useEffect)((()=>()=>{v.current&&clearTimeout(v.current)}),[]);const p=(0,n.useCallback)((()=>{v.current&&clearTimeout(v.current)}),[]),h=(0,n.useCallback)((e=>{var t;v.current&&clearTimeout(v.current);const n=e.target.closest(".actions-button-group")||(null===(t=e.target.closest("[data-smart-link-container]"))||void 0===t?void 0:t.querySelector('[data-action-open="true"]')),o=r&&!n||a&&!n&&!e.target.closest(`[data-smart-element]:not([data-smart-element="${i.u5.Title}"])`);v.current=setTimeout((()=>{d!==o&&u(Boolean(o))}),c)}),[r,a,d,c]);return n.createElement(m.z,{allowEventPropagation:!0,canOpen:d,closeOnChildClick:!0,hidePreviewButton:t,actionOptions:o,url:l},n.createElement("span",{onMouseLeave:p,onMouseMove:h,"data-testid":`${s}-hover-card-wrapper`},e))};h.displayName="HoverCardControl";const f=h;var y=a(16728);const g=o.iv`
  border: 1px solid ${`var(--ds-border, ${y.YS})`};
  border-radius: ${"var(--ds-border-radius-200, 8px)"};
  margin: ${"var(--ds-space-025, 2px)"};
`,b=e=>{switch(e){case i.wo.XLarge:return"1.25rem";case i.wo.Large:return"1rem";case i.wo.Medium:return".5rem";case i.wo.Small:default:return".25rem"}},_=o.iv`
  // Position any interactive elements at the top of the z-index stack.
  a,
  button,
  .has-action {
    position: relative;
    z-index: 1;
  }
`,C=(e,t,a)=>{const r=t?"0rem":(e=>{switch(e){case i.wo.XLarge:return"1.5rem";case i.wo.Large:return"1.25rem";case i.wo.Medium:return"1rem";case i.wo.Small:default:return".5rem"}})(e),n=b(e),{previewOnLeft:s,previewOnRight:l}=a;return o.iv`
    // Set variables for PreviewBlock to use.
    --container-padding: ${r};
    --container-gap-left: ${s?n:r};
    --container-gap-right: ${l?n:r};
    --preview-block-width: 30%;

    padding: ${r};
    ${s?`padding-left: calc(var(--preview-block-width) + ${n});`:""}
    ${l?`padding-right: calc(var(--preview-block-width) + ${n});`:""}
  `},w=(e,t)=>{let a={};return(e=>Boolean(e&&e.preview))(t)&&n.Children.map(e,(e=>{if(n.isValidElement(e)&&(0,s.PS)(e)){const{placement:t}=e.props;t===i.jS.Left&&(a.previewOnLeft=!0),t===i.jS.Right&&(a.previewOnRight=!0)}})),a},k=(e,t,a,r,n,i)=>{const s=C(e,r,i);return o.iv`
    display: flex;
    gap: ${b(e)} 0;
    flex-direction: column;
    min-width: 0;
    overflow-x: hidden;
    position: relative;
    ${t?"":`background-color: ${l.T.background};`}
    ${s}
    ${a?"":g}
    ${n?_:""}
    &:hover ~ .actions-button-group {
      opacity: 1;
    }
    a:focus,
    .has-action:focus {
      outline-offset: -2px;
    }
  `},E=(e,t,a,r)=>{const{title:i,url:l=""}=t||{},{anchorTarget:c,text:d}=(e=>{const t=n.Children.toArray(e).find((e=>(0,s.Ge)(e)));if(n.isValidElement(t))return t.props})(a)||{};return(0,o.tZ)(p,{onClick:r,target:c,testId:e,text:d||i,url:l})};E.displayName="getLayeredLink";const Z=({children:e,clickableContainer:t=!1,hideBackground:a=!1,hideElevation:r=!1,hideHoverCardPreviewButton:l=!1,hidePadding:d=!1,onClick:u,retry:v,showAuthTooltip:p=!1,showHoverPreview:m=!1,actionOptions:h,size:y=i.wo.Medium,status:g,testId:b="smart-links-container",theme:_=i.WP.Link})=>{const C=(0,n.useContext)(c.NQ),Z=w(e,C),M=m&&"resolved"===g,S=p&&"unauthorized"===g&&void 0!==v,x=(0,o.tZ)("div",{css:k(y,a,r,d,t,Z),"data-smart-link-container":!0,"data-testid":b},t?E(b,C,e,u):null,((e,t,a,r,i,o)=>n.Children.map(e,(e=>{if(n.isValidElement(e)&&(0,s.p1)(e)){const{size:l}=e.props,c=l||t;return(0,s.Ge)(e)?n.cloneElement(e,{onClick:o,retry:i,size:c,status:r,theme:a}):n.cloneElement(e,{size:c,status:r})}})))(e,y,_,g,v,u));return null!=C&&C.url&&(M||S)?(0,o.tZ)(f,{hideHoverCardPreviewButton:l,isHoverPreview:M,isAuthTooltip:S,actionOptions:h,testId:b,url:C.url},x):x};var M=a(436884),S=a(549024),x=a(178050),I=a(505516),P=a(188227),A=a(380184),z=a(742764),j=a(584280),O=a(382121);const T=({analytics:e,appearance:t="flexible",cardState:a,children:o,id:s,onAuthorize:l,onClick:d,onError:u,onResolve:v,renderers:p,showAuthTooltip:m,showHoverPreview:h,actionOptions:f,testId:y,ui:g,url:b})=>{var _;const{status:C,details:w}=a,k=C,E=(0,n.useMemo)((()=>(e=>{const{response:t,status:a,url:r}=null!=e?e:{};switch(a){case i._P.Pending:case i._P.Resolving:return{title:r,url:r};case i._P.Resolved:return(0,I.Z)(e);case i._P.Unauthorized:case i._P.Forbidden:case i._P.NotFound:case i._P.Errored:case i._P.Fallback:default:const n=(0,O.Z)(null==t?void 0:t.data);return{linkIcon:(0,P.u)(t,a),title:r,url:r,provider:(0,j.Z)(null==t?void 0:t.data),preview:n}}})({response:w,id:s,renderers:p,actionOptions:f,status:k,url:b})),[w,s,p,f,k,b]),T=((e,t,a,r)=>{var n,o;const s=a&&a.data||(0,M.ri)(),l=(0,z.S)(s),c=null==l?void 0:l.text,d=c?{context:c}:void 0;switch(t){case i._P.Forbidden:const t=null!==(n=null==a?void 0:a.meta)&&void 0!==n?n:(0,M.h0)().meta,s=(0,S.r)({jsonLd:t,url:e,product:c}),l=(e=>{var t;switch(null==e||null===(t=e.requestAccess)||void 0===t?void 0:t.accessType){case"DIRECT_ACCESS":return"join_to_view";case"REQUEST_ACCESS":return"request_access_to_view";case"PENDING_REQUEST_EXISTS":return"pending_request";case"FORBIDDEN":return"forbidden_access";case"DENIED_REQUEST_EXISTS":return"request_denied";default:return"restricted_link"}})(t),u=x.s[l],v=r||(null==s||null===(o=s.action)||void 0===o?void 0:o.promise);return{descriptor:u,onClick:v?(0,A.dg)(v):void 0,values:d};case i._P.Unauthorized:return r?{descriptor:x.s.connect_link_account_card_name,onClick:(0,A.dg)(r),values:d}:void 0;case i._P.NotFound:return{descriptor:x.s.cannot_find_link}}})(b,k,w,l),{title:B}=E||{},H=(0,n.useMemo)((()=>{var a;return e?(0,r.Z)((0,r.Z)({},e),{},{display:t,extensionKey:null==w||null===(a=w.meta)||void 0===a?void 0:a.key}):void 0}),[e,t,null==w||null===(_=w.meta)||void 0===_?void 0:_.key]);return(0,n.useEffect)((()=>{switch(k){case i._P.Resolved:v&&v({title:B,url:b});break;case i._P.Errored:case i._P.Fallback:case i._P.Forbidden:case i._P.NotFound:case i._P.Unauthorized:u&&u({status:k,url:b})}}),[u,v,k,B,b]),n.createElement(c.T.Provider,{value:H},n.createElement(c._9.Provider,{value:g},n.createElement(c.NQ.Provider,{value:E},n.createElement(Z,(0,r.Z)((0,r.Z)({testId:y},g),{},{onClick:d,retry:T,showHoverPreview:h,actionOptions:f,showAuthTooltip:m,status:k}),o))))};T.displayName="FlexibleCard";const B=T},278773:(e,t,a)=>{a.d(t,{z:()=>Re,H:()=>De});var r=a(615919),n=a(430564),i=a(39030),o=a(840506),s=a(191195),l=a(299149),c=a(724093),d=a(278811),u=a.n(d),v=a(478848),p=a(89114),m=a(921914),h=a(443317);var f=a(885347),y=a(486889),g=a(858917),b=a(112663);const _=[b.u5.AssignedToGroup,b.u5.OwnedByGroup,b.u5.AuthorGroup],C=e=>e.filter((e=>e in b.u5)).map((e=>(0,r.Z)({name:e,testId:`${e.toLowerCase()}-metadata-element`},_.includes(e)&&{showNamePrefix:!0})));var w=a(380184),k=a(498369);const E=a(2142).ug.modal(),Z={hideBackground:!0,hideElevation:!0,size:b.wo.Medium,hideHoverCardPreviewButton:!1,zIndex:E+1},M="0.5rem",S="0.5rem",x=i.iv`
  [data-separator] + [data-separator]:before {
    margin-right: ${S};
  }
`,I=i.iv`
  background: none;
  border-width: 0;
  box-sizing: border-box;
  width: ${24}rem;

  .${k.U} {
    display: none;
  }
`,P=i.iv`
  gap: ${M};

  ${x}

  // title and subtitle element group
  [data-smart-element-group] {
    // gap between title and subtitle
    gap: 0.06rem;
    display: flex;
    /* subtitle element group */
    > [data-smart-element-group] {
      > span {
        margin-right: ${S};
      }
    }
  }

  [data-smart-element='Title'] {
    font-weight: 600;
  }
`,A=i.iv`
  border-radius: ${"var(--ds-border-radius-200, 8px)"};
  background-color: ${"var(--ds-surface-raised, white)"};
  box-shadow: ${"var(--ds-shadow-overlay, 0px 8px 12px rgba(9, 30, 66, 0.15),0px 0px 1px rgba(9, 30, 66, 0.31))"};
`,z=e=>i.iv`
  ${e?`height: ${e}px;`:""}
  border-top-left-radius: ${"var(--ds-border-radius-200, 8px)"};
  border-top-right-radius: ${"var(--ds-border-radius-200, 8px)"};
  margin-bottom: ${M};
`;var j=a(562678),O=a(380879),T=a(24359);var B=a(16957);const H=i.iv`
  display: flex;
  flex-direction: column;
  padding: 1rem;
`,$=i.iv`
  display: flex;
  flex-direction: column;
  gap: 0.625rem;
  align-items: center;
`,R=i.iv`
  width: 100%;
  gap: 0.5rem;
`;var D=a(490649),L=a(743185),N=a(977228);const K=({titleBlockProps:e})=>{const t="hover-card-loading-view",a=1.25,{size:n,actions:o}=e,s=(null==o?void 0:o.length)&&(null==o?void 0:o.length)>0&&(0,i.tZ)(D.Z,{items:o,visibleButtonsNum:2});return(0,i.tZ)("div",{css:H,"data-testid":t},(0,i.tZ)("div",{css:$},(0,i.tZ)(L.Z,(0,r.Z)((0,r.Z)({},e),{},{overrideCss:R,testId:`${t}-title-block`}),(0,i.tZ)(N.Z,{render:()=>(0,i.tZ)(B.Z,null),size:n}),(0,i.tZ)("span",{css:(l=a,i.iv`
    flex: 1 0 auto;
    height: ${l}rem;

    span {
      width: 100%;
    }
  `),"data-testid":`${t}-title`},(0,i.tZ)(B.Z,{height:a})),s),(0,i.tZ)(B.Z,{width:22,height:a}),(0,i.tZ)(B.Z,{width:22,height:3.75}),(0,i.tZ)(B.Z,{width:22,height:a})));var l};K.displayName="HoverCardLoadingView";const F=K;var V=a(142807),G=a(233664),q=a(178050),U=a(742764);const X="0.5rem",Q=i.iv`
  justify-content: flex-end;
  margin-top: ${X};
`,W=i.iv`
  gap: ${X} ${"0.5rem"};
  a {
    font-weight: ${"500"};
  }
`,J=i.iv`
  margin-top: ${X};
  font-size: 0.75rem;
`;var Y=a(99965),ee=a(616897);const te=({analytics:e,extensionKey:t,id:a="",flexibleCardProps:n,testId:i="hover-card-unauthorised-view",url:s})=>{var l,c;const{cardState:d}=n,u=null===(l=d.details)||void 0===l?void 0:l.data,v=null===(c=(0,U.S)(u))||void 0===c?void 0:c.text,m=(0,h.x5)(d.details),{authorize:f}=(0,p.C)(a,s,e),y=(0,o.useCallback)((()=>{f&&(e.track.appAccountAuthStarted({extensionKey:t}),f(b.V3.HoverCardPreview))}),[f,t,e.track]),g=(0,o.useMemo)((()=>[{name:b.OF.CustomAction,content:o.createElement(V.Z,(0,r.Z)((0,r.Z)({},q.s.connect_unauthorised_account_action),{},{values:{context:v}})),onClick:y}]),[y,v]);return o.createElement(G.Z,(0,r.Z)((0,r.Z)({},n),{},{testId:i}),o.createElement(L.Z,{overrideCss:W,testId:`${i}-title`},o.createElement(ee.LinkIcon,null),o.createElement(V.Z,(0,r.Z)((0,r.Z)({},q.s.connect_link_account_card_name),{},{values:{context:v}}))),o.createElement(L.Z,{overrideCss:J,testId:`${i}-content`},o.createElement("div",null,o.createElement(Y.Z,{providerName:v,isProductIntegrationSupported:m,analytics:e}))),o.createElement(L.Z,{overrideCss:Q,testId:`${i}-button`},o.createElement(D.Z,{items:g,appearance:"primary"})))};te.displayName="HoverCardUnauthorisedView";const ae=te;var re=a(402219),ne=a(737385),ie=a(563155),oe=a(533917),se=a(604895),le=a(426232);const ce="0.5rem",de=i.iv`
  gap: 0px;
  /* primary element group */
  [data-smart-element-group]:nth-of-type(1) {
    flex-grow: 7;

    // a separator between text-based element
    ${x}

    /* horizontal spacing between elements in group */
    > span {
      margin-right: ${ce};
    }
  }
  /* secondary element group */
  [data-smart-element-group]:nth-of-type(2) {
    flex-grow: 3;
    /* horizontal spacing between elements in group */
    > span {
      margin-left: ${ce};
    }
  }

  [data-smart-element-group] {
    line-height: 1rem;
  }
`,ue=i.iv`
  height: 1.5rem;
`,ve=i.iv`
  visibility: hidden;
  position: absolute;
`;var pe=a(382121),me=a(237488);const he=({data:e,fallbackElementHeight:t})=>{const a=(0,o.useRef)(!1),r=(0,o.useRef)(null),[n,s]=(0,o.useState)(!0),[l,c]=(0,o.useState)(),d=(0,o.useCallback)((()=>{var e;r.current&&c(z(null===(e=r.current)||void 0===e?void 0:e.getBoundingClientRect().height))}),[]),u=(0,o.useCallback)((()=>{var e;!1===a.current&&(c((e=t,i.iv`
  transition: height 300ms ease-in-out;
  height: ${e}px;
`)),a.current=!0)}),[t]),v=(0,o.useCallback)((()=>{s(!1)}),[]);return n&&e&&(0,pe.Z)(e)?o.createElement(me.Z,{onError:u,ignoreContainerPadding:!0,overrideCss:l,onTransitionEnd:v,blockRef:r,onRender:d}):null};var fe=a(269947);const ye=({flexibleCardProps:e,titleBlockProps:t,analytics:a,cardState:n,cardActions:i=[],onActionClick:s,extensionKey:l,url:c})=>{var d,u;const v=(0,h.j7)(n.details);(0,o.useEffect)((()=>{a.ui.renderSuccessEvent({display:b.V3.HoverCardPreview,status:n.status,canBeDatasource:v})}),[a.ui,n.status,v]);const p=(0,o.useMemo)((()=>((e,t)=>[{hideIcon:!0,name:b.OF.FollowAction},...e.map((e=>"preview-content"===e.id?{content:o.createElement(V.Z,(0,r.Z)({},q.s.preview_improved)),name:b.OF.CustomAction,onClick:()=>(t&&t(e.id),e.invoke()),testId:e.id,appearance:"primary"}:{content:e.text,name:b.OF.CustomAction,onClick:()=>(t&&t(e.id),e.invoke()),testId:e.id}))])(i,s)),[i,s]),m=null===(d=n.details)||void 0===d?void 0:d.data,{topPrimary:f,topSecondary:y,bottomPrimary:g}=(0,o.useMemo)((()=>{const e=((e="",t)=>{var a,n;const i=t?(0,j.Y)(t):void 0,o={topMetadataBlock:{primary:[b.u5.AuthorGroup,b.u5.ModifiedOn],secondary:[],subtitle:[]},bottomMetadataBlock:{primary:[],secondary:[],subtitle:[]}};switch(e){case"bitbucket-object-provider":case"native-bitbucket-object-provider":return null!=i&&i.includes("atlassian:SourceCodePullRequest")?(0,r.Z)((0,r.Z)({},o),{},{topMetadataBlock:{primary:[b.u5.AuthorGroup,b.u5.ModifiedOn,b.u5.SubscriberCount,b.u5.State],secondary:[],subtitle:[b.u5.SourceBranch,b.u5.TargetBranch]}}):(0,T.e)("platform.linking-platform.extractor.improve-bitbucket-file-links")&&null!=i&&i.includes("schema:DigitalDocument")?(0,r.Z)((0,r.Z)({},o),{},{topMetadataBlock:{primary:[b.u5.LatestCommit,b.u5.CollaboratorGroup,b.u5.ModifiedOn],secondary:[],subtitle:[]}}):(0,r.Z)((0,r.Z)({},o),{},{topMetadataBlock:{primary:[b.u5.AuthorGroup,b.u5.ModifiedOn],secondary:[],subtitle:[]}});case"confluence-object-provider":return{topMetadataBlock:{primary:[t&&(0,O.Fr)(t)?b.u5.OwnedByGroup:b.u5.AuthorGroup,b.u5.ModifiedOn],secondary:[],subtitle:[]},bottomMetadataBlock:{primary:[b.u5.ReactCount,b.u5.CommentCount,b.u5.ViewCount],secondary:[],subtitle:[]}};case"jira-object-provider":const e=null!==(a=null===(n=t["@type"])||void 0===n?void 0:n.includes("atlassian:Task"))&&void 0!==a&&a;return(0,r.Z)((0,r.Z)({},o),e&&{topMetadataBlock:{primary:[b.u5.AssignedToGroup,b.u5.State,b.u5.StoryPoints,b.u5.Priority],secondary:[],subtitle:[]}});case"trello-object-provider":return(0,r.Z)((0,r.Z)({},o),{},{topMetadataBlock:{primary:[b.u5.AuthorGroup,b.u5.State,b.u5.DueOn],secondary:[b.u5.ReactCount,b.u5.CommentCount,b.u5.AttachmentCount,b.u5.ChecklistProgress],subtitle:[b.u5.Location]}});case"watermelon-object-provider":return null!=i&&i.includes("atlassian:Project")?(0,r.Z)((0,r.Z)({},o),{},{topMetadataBlock:{primary:[b.u5.AuthorGroup,b.u5.ModifiedOn,b.u5.State,b.u5.DueOn],secondary:[],subtitle:[]}}):(0,r.Z)((0,r.Z)({},o),{},{topMetadataBlock:{primary:[b.u5.AuthorGroup,b.u5.State,b.u5.DueOn],secondary:[],subtitle:[]}});case"slack-object-provider":return{topMetadataBlock:{primary:[b.u5.AuthorGroup,b.u5.SentOn],secondary:[],subtitle:[]},bottomMetadataBlock:{primary:[b.u5.ReactCount,b.u5.CommentCount],secondary:[],subtitle:[]}};case"google-object-provider":case"figma-object-provider":return(0,r.Z)((0,r.Z)({},o),{},{topMetadataBlock:{primary:[b.u5.AuthorGroup,b.u5.ModifiedOn],secondary:[],subtitle:[]}});default:return o}})(l,m);return{topPrimary:C(e.topMetadataBlock.primary),topSecondary:C(e.topMetadataBlock.secondary),bottomPrimary:C(e.bottomMetadataBlock.primary)}}),[m,l]),_=o.useRef(0),w=(0,o.useRef)(null),k=(0,o.useCallback)((()=>{var e,t;_.current=null!==(e=null===(t=w.current)||void 0===t?void 0:t.getBoundingClientRect().height)&&void 0!==e?e:0}),[]),E=he({data:m,fallbackElementHeight:_.current}),{isAdminHubAIEnabled:Z}=(0,fe.ap)(),M=(0,T.e)("platform.linking-platform.smart-card.hover-card-ai-summaries")&&Z&&(null===(u=n.details)||void 0===u||null===(u=u.meta)||void 0===u||null===(u=u.supportedFeatures)||void 0===u?void 0:u.includes("AISummary"));return o.createElement(G.Z,(0,r.Z)({},e),E,o.createElement(re.Z,(0,r.Z)((0,r.Z)({},t),{},{metadataPosition:b.P0.Top})),o.createElement(ne.Z,{primary:f,secondary:y,overrideCss:de,maxLines:1,size:b.wo.Medium}),!E&&o.createElement(ie.Z,null),o.createElement(ie.Z,{testId:"hidden-snippet",onRender:k,blockRef:w,overrideCss:ve}),o.createElement(ne.Z,{primary:g,size:b.wo.Large,overrideCss:de,maxLines:1}),(0,T.e)("platform.linking-platform.smart-card.enable-hover-card-related-urls")&&o.createElement(oe.Z,{url:c,size:b.wo.Small}),M?o.createElement(se.Z,{metadata:[{name:b.u5.Provider}],actions:p}):o.createElement(le.Z,{actions:p,size:b.wo.Large,overrideCss:ue}))};ye.displayName="HoverCardResolvedView";const ge=ye;var be=a(874135),_e=a(555687);const Ce=i.iv`
  justify-content: center;
  font-weight: ${"600"};
  margin-top: ${"var(--ds-space-100, 8px)"};
`,we=i.iv`
  display: inline;
  justify-content: center;
  margin-top: ${"var(--ds-space-0, 0px)"};
  font-size: 0.75rem;
  text-align: center;
`,ke=i.iv`
  justify-content: center;
  margin-top: ${"var(--ds-space-100, 8px)"};
`;var Ee=a(549024),Ze=a(2552);const Me=({flexibleCardProps:e,testId:t="hover-card-forbidden-view"})=>{var a,n,i,s,l;const{createAnalyticsEvent:c}=(0,y._)(),{cardState:d,url:u}=e,v=null===(a=d.details)||void 0===a?void 0:a.data,p=null===(n=d.details)||void 0===n?void 0:n.meta,m=null!==(i=null===(s=(0,U.S)(v))||void 0===s?void 0:s.text)&&void 0!==i?i:"",h=o.createElement("b",null,(0,Ze.Z)(u)),{action:f,descriptiveMessageKey:g,titleMessageKey:b,buttonDisabled:_}=null!==(l=(0,Ee.d)({jsonLd:p,url:u,product:m,createAnalyticsEvent:c}))&&void 0!==l?l:{};return b&&g?o.createElement(G.Z,(0,r.Z)((0,r.Z)({},e),{},{testId:t}),o.createElement(me.Z,{ignoreContainerPadding:!0,overrideCss:z(),testId:t}),o.createElement(L.Z,{overrideCss:Ce,testId:`${t}-title`},o.createElement(V.Z,(0,r.Z)((0,r.Z)({},q.s[b]),{},{values:{product:m}}))),o.createElement(L.Z,{overrideCss:we,testId:`${t}-content`},o.createElement(V.Z,(0,r.Z)((0,r.Z)({},q.s[g]),{},{values:{product:m,hostname:h}}))),f&&o.createElement(L.Z,{overrideCss:ke},o.createElement(_e.Z,{testId:`${t}-button`,onClick:null==f?void 0:f.promise,appearance:"primary",isDisabled:_},null==f?void 0:f.text))):null};Me.displayName="HoverCardForbiddenView";const Se=Me,xe=e=>({name:b.OF.CustomAction,icon:(0,i.tZ)(g.default,{label:"copy url",size:"medium"}),iconPosition:"before",onClick:async()=>await navigator.clipboard.writeText(e),tooltipMessage:(0,i.tZ)(V.Z,(0,r.Z)({},q.s.copy_url_to_clipboard)),testId:"hover-card-copy-button"}),Ie=({id:e="",analytics:t,cardActions:a=[],cardState:r,onActionClick:n,onResolve:s,renderers:c,url:d,onMouseEnter:u,onMouseLeave:v,actionOptions:p})=>{var f,g;const{createAnalyticsEvent:_}=(0,y._)(),k=(0,l.L)(d,void 0,e),E=null!=t?t:k,M=(0,o.useMemo)((()=>(0,h.U)(r.details)),[r.details]),S=(0,m.K)(d),x=null!==(f=S.status)&&void 0!==f?f:"pending",A=(0,h.U2)(S.details),z=(0,o.useRef)(x),T=(0,o.useRef)(E);(0,o.useEffect)((()=>{T.current!==E&&(T.current=E),z.current!==x&&(z.current=x)}),[E,x]),(0,o.useEffect)((()=>{const e="card",t="mouse_hover",a=Date.now();return T.current.ui.hoverCardViewedEvent({previewDisplay:e,previewInvokeMethod:t,status:z.current}),()=>{const r=Date.now()-a;T.current.ui.hoverCardDismissedEvent({previewDisplay:e,previewInvokeMethod:t,hoverTime:r,status:z.current})}}),[]);const B=(0,o.useCallback)((t=>{const a=(0,w.Hk)(t);E.ui.cardClickedEvent({id:e,display:b.V3.HoverCardPreview,status:r.status,isModifierKeyPressed:a,actionSubjectId:"titleGoToLink"}),(0,be.PJ)(_)(t)}),[_,r.status,E.ui,e]),H=(0,o.useMemo)((()=>[xe(d)]),[d]),$=null===(g=r.details)||void 0===g?void 0:g.data,{subtitle:R}=(e=>{var t,a,r,n;const i=null!==(t=e.metadata)&&void 0!==t?t:[];return{primary:C(null!==(a=i.primary)&&void 0!==a?a:[]),secondary:C(null!==(r=i.secondary)&&void 0!==r?r:[]),subtitle:C(null!==(n=i.subtitle)&&void 0!==n?n:[])}})(((e="",t)=>{const a=t?(0,j.Y)(t):void 0;switch(e){case"bitbucket-object-provider":case"native-bitbucket-object-provider":return null!=a&&a.includes("atlassian:SourceCodePullRequest")?{metadata:{primary:[b.u5.AuthorGroup,b.u5.ModifiedOn,b.u5.SubscriberCount,b.u5.State],secondary:[],subtitle:[b.u5.SourceBranch,b.u5.TargetBranch]}}:{metadata:{primary:[b.u5.ModifiedOn,b.u5.CreatedBy],secondary:[],subtitle:[]}};case"confluence-object-provider":const e=t&&(0,O.Fr)(t)?b.u5.OwnedBy:b.u5.CreatedBy;return{metadata:{primary:[b.u5.AuthorGroup,e],secondary:[b.u5.ReactCount,b.u5.CommentCount,b.u5.ViewCount],subtitle:[]}};case"jira-object-provider":return{metadata:{primary:[b.u5.AuthorGroup,b.u5.State,b.u5.Priority],secondary:[],subtitle:[]}};case"trello-object-provider":return{metadata:{primary:[b.u5.AuthorGroup,b.u5.State,b.u5.DueOn],secondary:[b.u5.ReactCount,b.u5.CommentCount,b.u5.AttachmentCount,b.u5.ChecklistProgress],subtitle:[b.u5.Location]}};case"watermelon-object-provider":return null!=a&&a.includes("atlassian:Project")?{metadata:{primary:[b.u5.AuthorGroup,b.u5.ModifiedOn,b.u5.State,b.u5.DueOn],secondary:[],subtitle:[]}}:{metadata:{primary:[b.u5.AuthorGroup,b.u5.State,b.u5.DueOn],secondary:[],subtitle:[]}};default:return{metadata:{primary:[b.u5.ModifiedOn,b.u5.CreatedBy],secondary:[],subtitle:[]}}}})(M,$)),D={actions:H,maxLines:R&&R.length>0?1:2,overrideCss:P,size:b.wo.Large,position:b.P0.Center,subtitle:R},L={appearance:b.V3.HoverCardPreview,cardState:r,onClick:B,onResolve:s,renderers:c,actionOptions:p,ui:Z,url:d,children:{},analytics:E},N=(0,o.useCallback)((e=>e.stopPropagation()),[]),K=(t=>"pending"===t.metadataStatus?(0,i.tZ)(F,{flexibleCardProps:L,titleBlockProps:D}):"unauthorized"===t.status&&null!=A&&A.length?(0,i.tZ)(ae,{analytics:E,extensionKey:M,id:e,flexibleCardProps:L,url:d}):"forbidden"===t.status||"not_found"===t.status?(0,i.tZ)(Se,{flexibleCardProps:L}):"resolved"===t.status?(0,i.tZ)(ge,{id:e,url:d,extensionKey:M,analytics:E,cardActions:a,cardState:t,flexibleCardProps:L,onActionClick:n,titleBlockProps:D}):null)(r);return K?(0,i.tZ)("div",{onMouseEnter:u,onMouseLeave:v,onClick:N,className:"smart-links-hover-preview",css:I},K):null};var Pe=a(872342);const Ae=["children"],ze=o.forwardRef(((e,t)=>{let{children:a}=e,n=(0,Pe.Z)(e,Ae);return(0,i.tZ)("div",(0,r.Z)((0,r.Z)({css:A},n),{},{ref:t}),a)}));var je=a(714591),Oe=a(742154);const Te="smartLinkPreviewHoverCard",Be=({children:e,url:t,id:a="",analyticsHandler:n,canOpen:s=!0,closeOnChildClick:d=!1,hidePreviewButton:y=!1,showServerActions:g,actionOptions:_,allowEventPropagation:C=!1,zIndex:w=E,noFadeDelay:k=!1})=>{const[Z,M]=o.useState(!1),S=(0,o.useRef)(),x=(0,o.useRef)(),I=(0,o.useRef)(),P=(0,o.useRef)(),A=(0,o.useRef)(),z=(0,o.useRef)(null),j=(0,f.h)(),O=(0,m.K)(t),T=(0,l.L)(t,void 0,a),{loadMetadata:B}=(0,p.C)(a,t,T),H=(0,Oe.z)(_,g),$=(0,o.useCallback)((e=>{if((!Z||!s)&&(P.current={x:e.clientX,y:e.clientY},(!Z||!s)&&z.current&&P.current)){const{bottom:e,left:t}=z.current.getBoundingClientRect();A.current=[P.current.x-t+10,P.current.y-e+10]}}),[s,Z]),R=(0,o.useCallback)((()=>{M(!1)}),[]),D=(0,o.useCallback)((()=>{x.current&&(clearTimeout(x.current),x.current=void 0),I.current&&(clearTimeout(I.current),I.current=void 0),k?R():S.current=setTimeout((()=>R()),300)}),[R,k]);(0,o.useEffect)((()=>()=>{S.current&&clearTimeout(S.current),x.current&&(clearTimeout(x.current),x.current=void 0),I.current&&(clearTimeout(I.current),I.current=void 0)}),[]);const L=(0,o.useCallback)((()=>{const e="pending"===O.status||!O.metadataStatus;!I.current&&e&&(I.current=setTimeout((()=>{B()}),100))}),[O.metadataStatus,O.status,B]),N=(0,o.useCallback)((e=>{S.current&&clearTimeout(S.current),L(),$(e),Z||x.current||(k?M(!0):x.current=setTimeout((()=>{M(!0)}),500))}),[L,Z,$,k]),K=function({url:e,appearance:t,analyticsHandler:a,platform:r="web",origin:n,actionOptions:i}){const s=(0,o.useMemo)((()=>u()()),[]),c=(0,m.K)(e),d=(0,l.L)(e,a,s),f=(0,p.C)(s,e,d);if(c.details&&(null==i||!i.hide)){const e=(0,v.fl)(c.details.data,c.details.meta,{handleInvoke:e=>f.invoke(e,t),analytics:d,origin:n,extensionKey:(0,h.U)(c.details),source:t,actionOptions:i},void 0,r);if(e.actions&&e.actions.length>0)return e.actions.map((e=>({id:e.id,text:e.text,invoke:e.promise})))}return[]}({url:t,appearance:b.V3.HoverCardPreview,analyticsHandler:n,origin:Te,actionOptions:H}),F=(0,o.useMemo)((()=>y?K.filter((e=>"preview-content"!==e.id)):K),[y,K]),V=(0,o.useCallback)((e=>{"preview-content"===e&&R()}),[R]),G=(0,o.useCallback)(((e,t)=>{C||e.stopPropagation(),t&&R()}),[C,R]),q=(0,o.useCallback)((e=>G(e,!0)),[G]),U=(0,o.useCallback)((e=>G(e,d)),[d,G]),X=(0,o.useCallback)((({update:e})=>{const n={onMouseEnter:N,onMouseLeave:D,cardActions:F,cardState:O,onActionClick:V,onResolve:e,renderers:j,actionOptions:H,url:t,id:a};return(0,i.tZ)(je.W,{url:t,display:b.V3.HoverCardPreview,id:a,source:Te},(0,i.tZ)(Ie,(0,r.Z)({},n)))}),[N,D,F,O,V,j,H,t,a]),Q=(0,o.useCallback)((t=>(0,i.tZ)("span",{ref:z},(0,i.tZ)("span",(0,r.Z)((0,r.Z)({},t),{},{onMouseOver:N,onMouseLeave:D,onMouseMove:$,onClick:U,onContextMenu:q,"data-testid":"hover-card-trigger-wrapper"}),e))),[e,D,N,U,q,$]);return(0,i.tZ)(c.Z,{testId:"hover-card",isOpen:Z&&s,onClose:R,placement:"bottom-start",offset:A.current,autoFocus:!1,content:X,trigger:Q,zIndex:w,popupComponent:ze})};Be.displayName="HoverCardComponent";const He=e=>{const{url:t,id:a,children:n}=e,c=(0,l.L)(t,void 0,a),d=(0,o.useCallback)(((e,t)=>{c.ui.renderFailedEvent({display:b.V3.HoverCardPreview,id:a,error:e,errorInfo:t})}),[c.ui,a]);return(0,i.tZ)(s.SV,{fallback:n,onError:d},(0,i.tZ)(Be,(0,r.Z)({},e),n))};He.displayName="HoverCardWithErrorBoundary";const $e=(0,n.Z)()(He),Re=e=>(0,i.tZ)($e,(0,r.Z)({},e));Re.displayName="HoverCard";const De=e=>(0,i.tZ)(Re,(0,r.Z)({},e));De.displayName="StandaloneHoverCard"},99965:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(615919),n=a(840506),i=a(142807),o=a(178050),s=a(112663);const l=({providerName:e,isProductIntegrationSupported:t,testId:a="unauthorised-view-content",analytics:l})=>{const c=(0,n.useCallback)((()=>{null==l||l.ui.learnMoreClickedEvent()}),[null==l?void 0:l.ui]),d=t?o.s.learn_more_about_connecting_account:o.s.learn_more_about_smart_links;return n.createElement(n.Fragment,null,e?n.createElement(i.Z,(0,r.Z)((0,r.Z)({},o.s.connect_unauthorised_account_description),{},{values:{context:e}})):n.createElement(i.Z,(0,r.Z)({},o.s.connect_unauthorised_account_description_no_provider))," ",n.createElement("a",{href:t?s.wM:s.sb,target:"_blank","data-testid":`${a}-learn-more`,onClick:c},n.createElement(i.Z,(0,r.Z)({},d))))}},61969:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#758195" fill-rule="evenodd" d="M8 3H5.333C4.597 3 4 3.617 4 4.378v7.244C4 12.382 4.597 13 5.333 13h5.334c.736 0 1.333-.617 1.333-1.378V8h-1.333v3.622H5.333V4.378H8v1.414c0 .736.597 1.333 1.333 1.333h2.334c.184 0 .333-.15.333-.333v-.903a.333.333 0 00-.093-.231l-2.164-2.25A1.333 1.333 0 008.782 3H8zM0 1.994C0 .893.895 0 1.994 0h12.012C15.107 0 16 .895 16 1.994v12.012A1.995 1.995 0 0114.006 16H1.994A1.995 1.995 0 010 14.006V1.994z"/></svg>'},e,{size:"small"}));o.displayName="Generic16Icon";var s=o;t.default=s},535890:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#8270DB" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm10 3a1 1 0 00-1 1v8a1 1 0 002 0V4a1 1 0 00-1-1zM8 6a1 1 0 00-1 1v5a1 1 0 002 0V7a1 1 0 00-1-1zM4 9a1 1 0 00-1 1v2a1 1 0 002 0v-2a1 1 0 00-1-1z"/></svg>'},e,{size:"small"}));o.displayName="Presentation16Icon";var s=o;t.default=s},924867:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},i=a(340531);const o=e=>n.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#36B37E" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm2 3a1 1 0 100 2h1a1 1 0 100-2H4zm0 4a1 1 0 100 2h1a1 1 0 100-2H4zm0 4a1 1 0 000 2h1a1 1 0 000-2H4zm5-8a1 1 0 100 2h3a1 1 0 000-2H9zm0 4a1 1 0 100 2h3a1 1 0 000-2H9zm0 4a1 1 0 000 2h3a1 1 0 000-2H9z"/></svg>'},e,{size:"small"}));o.displayName="Spreadsheet16Icon";var s=o;t.default=s}}]);
//# sourceMappingURL=79652.JWfTP21C6e.js.map