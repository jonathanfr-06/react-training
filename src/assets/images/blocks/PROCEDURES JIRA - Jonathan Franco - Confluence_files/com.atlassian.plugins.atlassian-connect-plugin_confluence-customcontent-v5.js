WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:confluence-customcontent-v5', location = 'v5/js/confluence/customcontent/custom-content-api.js' */
define("ac/confluence/custom-content-api",[],(function(){var e="confluence.customcontent.submit",t={},n={};function o(e){return function(o,c){if(t[e]&&n[e]){var r,u=n[e];clearTimeout(u.timeout);delete n[e];try{!1===o?u.reject((r=c,"[object String]"===Object.prototype.toString.call(r)?c:"")):u.proceed(o)}finally{u.done&&u.done()}}else AJS.error("Event callback for "+e+" has been invoked before a event happens.")}}function c(){}c.prototype.intercept=function(e){t[e]=!0};c.prototype.submitCallback=o(e);c.prototype.submitErrorCallback=o("confluence.customcontent.submitError");c.prototype.submitSuccessCallback=o("confluence.customcontent.submitSuccess");c.prototype.cancelCallback=o("confluence.customcontent.cancel");return{trigger:function(o,c,r,u,i){if(!t[o]){if(o===e)throw new Error("Add-on must intercept confluence.customcontent.submit event");return r()}n[o]&&clearTimeout(n[o].timeout);n[o]={proceed:r,reject:u,done:i,timeout:setTimeout((function(){delete n[o];AJS.error("Event handler for "+o+" did not call callback function in 10000ms.");u("Timed out when waiting for callback of "+o+" event.")}),1e4)};connectHost.broadcastEvent(o,{},c)},EditComponent:c}}));
}catch(e){WRMCB(e)};