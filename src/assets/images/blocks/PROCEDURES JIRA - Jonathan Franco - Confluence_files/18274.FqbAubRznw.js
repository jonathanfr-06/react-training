"use strict";(self._cf=self._cf||[]).push([[18274],{701298:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(460002),o=a(448614),s=a(974700),r=a(244906),i=a(996841),l=a(737984);function u(e,t){if((0,i.Z)(2,arguments),!t||"object"!==(0,n.Z)(t))return new Date(NaN);var a=t.years?(0,l.Z)(t.years):0,u=t.months?(0,l.Z)(t.months):0,d=t.weeks?(0,l.Z)(t.weeks):0,c=t.days?(0,l.Z)(t.days):0,g=t.hours?(0,l.Z)(t.hours):0,f=t.minutes?(0,l.Z)(t.minutes):0,m=t.seconds?(0,l.Z)(t.seconds):0,h=(0,r.Z)(e),y=u||a?(0,s.Z)(h,u+12*a):h,p=c||d?(0,o.Z)(y,c+7*d):y,w=1e3*(m+60*(f+60*g));return new Date(p.getTime()+w)}},884863:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(244906),o=a(996841);function s(e,t){(0,o.Z)(2,arguments);var a=(0,n.Z)(e),s=(0,n.Z)(t);return a.getTime()>s.getTime()}},131259:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(244906),o=a(996841);function s(e,t){(0,o.Z)(2,arguments);var a=(0,n.Z)(e),s=(0,n.Z)(t);return a.getFullYear()===s.getFullYear()}},614250:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(737984),o=a(974700),s=a(996841);function r(e,t){(0,s.Z)(2,arguments);var a=(0,n.Z)(t);return(0,o.Z)(e,-a)}},483073:(e,t,a)=>{a.d(t,{n:()=>Z,w:()=>w});var n=a(872342),o=a(615919),s=a(199009),r=a(840506),i=a(142807),l=a(328167),u=a(315884),d=a(317979),c=a(451426),g=a(883458),f=a(806940),m=a(804358);function h({canShowUpgradeButton:e,children:t,isSiteAdmin:a,secondaryLink:n}){let o=!1,s=!0,r=!0;return e&&(a&&(o=!0),o&&(s=!n,r=!1)),t({showUpgradeTryNowButton:o,showLearnMore:s,learnMoreIsPrimaryCTA:r})}var y=a(630327);const p=["isSiteAdmin","targetEdition"];let w=function(e){return e.DEFAULT="default",e.UPGRADE_ONLY="upgradeOnly",e.NONE="none",e}({});class v extends r.Component{constructor(...e){super(...e),(0,s.Z)(this,"generateCTAAnalyticsProps",(e=>{const{grandfathered:t,isSiteAdmin:a,source:n,pageRestrictionsExperimentCohort:s}=this.props;return{actionSubjectId:e,source:n,attributes:(0,o.Z)({isGrandfathered:Boolean(t),isSiteAdmin:a},s&&"none"!==s&&{ccPageRestrictionsCohort:s})}})),(0,s.Z)(this,"triggerLinkClickAnalytics",((e,t)=>{const{createAnalyticsEvent:a}=this.props;if(a){const{actionSubjectId:n,attributes:s,source:r}=this.generateCTAAnalyticsProps(e);a({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:n,source:r,attributes:(0,o.Z)((0,o.Z)({},s),{},{linkMessage:t})}}).fire()}})),(0,s.Z)(this,"handleSecondaryLinkClick",(()=>{const e=this.props.secondaryLink;e&&(this.triggerLinkClickAnalytics(e.actionSubjectId,e.messageDescriptor.defaultMessage),"function"==typeof e.onClick&&e.onClick())}))}componentDidMount(){const{createAnalyticsEvent:e}=this.props;if(e){const{attributes:t,source:a}=this.generateCTAAnalyticsProps("");e({type:"sendScreenEvent",data:{name:"changeEditionGatewayScreen",attributes:(0,o.Z)((0,o.Z)({},t),{},{source:a})}}).fire()}}renderButtons(){const{isSiteAdmin:e,canShowUpgradeButton:t,buttonConfig:a,upgradeEditionActionSubjectId:n,secondaryLink:s,onUpFlowOpen:u,targetEdition:d,learnMoreLink:f}=this.props,y=(e,t)=>{const a=Boolean(null==f?void 0:f.icon)||t?(null==f?void 0:f.appearance)||"default":"link",n=e?r.createElement(c.v,{key:"learnMore",analyticsProps:this.generateCTAAnalyticsProps((null==f?void 0:f.actionSubjectId)||"freeLearnMore"),appearance:a,onUpFlowOpen:u,targetEdition:d,inProductHelpId:null==f?void 0:f.inProductHelpId,inProductHelpTopic:null==f?void 0:f.inProductHelpTopic,href:null==f?void 0:f.href,icon:null==f?void 0:f.icon,onClick:null==f?void 0:f.onClick,ariaLabel:null==f?void 0:f.ariaLabel},null!=f&&f.messageDescriptor?r.createElement(i.Z,(0,o.Z)({},f.messageDescriptor)):null):null,g=s?r.createElement(l.Z,{key:"secondLink",appearance:s.appearance||"default",href:s.href?s.href:void 0,id:"secondaryLink",spacing:"default",target:s.target||"_blank",onClick:this.handleSecondaryLinkClick,testId:(0,m.J)({source:this.props.source,actionSubjectId:s.actionSubjectId})},r.createElement(i.Z,(0,o.Z)({},s.messageDescriptor))):null;return"primary"===(null==s?void 0:s.appearance)&&"primary"!==a?[g,n]:[n,g]};return r.createElement(h,{isSiteAdmin:e,canShowUpgradeButton:t,secondaryLink:s},(({showUpgradeTryNowButton:t,showLearnMore:s,learnMoreIsPrimaryCTA:i})=>r.createElement(r.Fragment,null,t?r.createElement(g.j,(0,o.Z)({analyticsProps:this.generateCTAAnalyticsProps(n),onUpFlowOpen:u,targetEdition:d},this.props)):null,a===w.UPGRADE_ONLY&&e?null:y(s,i))))}renderFooter(){const{footer:e}=this.props;return e?r.createElement(r.Fragment,null,e):null}render(){const e=this.props,{isSiteAdmin:t,targetEdition:a}=e,s=(0,n.Z)(e,p);return r.createElement(y.m,(0,o.Z)({actions:this.props.buttonConfig!==w.NONE?r.createElement(u.Z,null,this.renderButtons()):void 0,edition:a,footer:t?this.renderFooter():null},s))}}v.displayName="ChangeEditionSectionMessageComponent",(0,s.Z)(v,"defaultProps",{canShowUpgradeButton:!0,buttonConfig:w.DEFAULT,upgradeEditionActionSubjectId:"freeTryNow"});const Z=(0,d.y)((0,f.Fz)(v))},806940:(e,t,a)=>{a.d(t,{Fz:()=>d,ng:()=>u});var n=a(615919),o=a(840506),s=a(486889);const r=(0,o.createContext)(void 0),i=()=>{const e=(0,o.useContext)(r),{createAnalyticsEvent:t}=(0,s._)();return{createAnalyticsEvent:(0,o.useCallback)((a=>{return t((o=a,s=e,(0,n.Z)((0,n.Z)({},o),{},{data:(0,n.Z)((0,n.Z)({},o.data),{},{attributes:(0,n.Z)((0,n.Z)({},o.data.attributes),null==s?void 0:s.customAttributes)})})));var o,s}),[t,e])}},l={},u=({children:e,customAttributes:t=l})=>{const a=(0,o.useMemo)((()=>({customAttributes:t})),[t]);return o.createElement(r.Provider,{value:a},e)};u.displayName="AnalyticsProvider";const d=e=>t=>{const a=i();return o.createElement(e,(0,n.Z)((0,n.Z)({},t),{},{createAnalyticsEvent:a.createAnalyticsEvent}))}},130282:(e,t,a)=>{a.d(t,{ag:()=>s,eL:()=>l,iX:()=>r,sN:()=>i,u0:()=>o});var n=a(93972);let o=function(e){return e.DIALOG="analytics-dialog",e.DIALOG_SKELETON="analytics-dialog-skeleton",e.LINK="analytics-link",e.LINK_SKELETON="analytics-link-skeleton",e.CLOSE_BUTTON="dialog-close-button",e.PILLS="analytics-pills",e.INFO_PANEL_1="analytics-info-panel-1",e.INFO_PANEL_2="analytics-info-panel-2",e.CHART="analytics-chart",e.USER_LIST="analytics-user-list",e}({});const s=(0,n.defineMessages)({dialogContainerAriaLabel:{id:"confluence-analytics.dialog.container-aria-label",defaultMessage:"Confluence Analytics nonmodal dialog"},dialogLoadingText:{id:"confluence-analytics.dialog.loading",defaultMessage:"Loading data..."},dialogLoadingTextMentioned:{id:"confluence-analytics.dialog.loading.mentioned",defaultMessage:"Loading mentions data..."},dialogMentionedUsersViewed:{id:"confluence-analytics.dialog.mentioned-users-viewed",defaultMessage:"mentioned {seenMentionedUsersCount, plural, one {user} other {users}} viewed this page"},dialogMentionedUsersAllSeen:{id:"confluence-analytics.dialog.mentioned-users-all-seen",defaultMessage:"Everyone mentioned has viewed"},dialogProgressbarCountAriaLabel:{id:"confluence-analytics.dialog.progress-bar.count-aria-label",defaultMessage:"{seenMentionedUsersCount} of {totalMentionedUsersCount} mentioned {seenMentionedUsersCount, plural, one {user} other {users}} viewed this page"},dialogProgressbarAriaLabel:{id:"confluence-analytics.dialog.progress-bar-aria-label",defaultMessage:"Mentioned users progress bar"},graphGranularityWeek:{id:"confluence-analytics.graph.granularity.week",defaultMessage:"Week of {date}"},graphCreatedAtDateTimeLabel:{id:"confluence-analytics.graph.label.created-at",defaultMessage:"Created {date} at {time}"},graphDateToDateTimeLabel:{id:"confluence-analytics.graph.label.date-to-datetime",defaultMessage:"{fromDate} to {toDate} ({toTime})"},lastViewedJustNow:{id:"confluence-analytics.dialog.viewers-list.viewed-just-now",defaultMessage:"Just now"},lastViewedMinutesAgo:{id:"confluence-analytics.dialog.viewers-list.viewed-minutes-ago",defaultMessage:"{minuteCount} {minuteCount, plural, one {minute} other {minutes}} ago"},lastViewedHoursAgo:{id:"confluence-analytics.dialog.viewers-list.viewed-hours-ago",defaultMessage:"{hourCount} {hourCount, plural, one {hour} other {hours}} ago"},lastViewedDaysAgo:{id:"confluence-analytics.dialog.viewers-list.viewed-days-ago",defaultMessage:"{dayCount} {dayCount, plural, one {day} other {days}} ago"},lastViewedWeeksAgo:{id:"confluence-analytics.dialog.viewers-list.viewed-weeks-ago",defaultMessage:"{weekCount} {weekCount, plural, one {week} other {weeks}} ago"},lastViewedMonthsAgo:{id:"confluence-analytics.dialog.viewers-list.viewed-months-ago",defaultMessage:"{monthCount} {monthCount, plural, one {month} other {months}} ago"},lastViewedYearsAgo:{id:"confluence-analytics.dialog.viewers-list.viewed-years-ago",defaultMessage:"{yearCount} {yearCount, plural, one {year} other {years}} ago"},errorMessage:{id:"confluence-analytics.dialog.loading.error-message",defaultMessage:"We're having trouble loading analytics."},errorSuggestion:{id:"confluence-analytics.dialog.loading.error-suggestion",defaultMessage:"Refresh to try again."},viewedMentionsLabel:{id:"confluence-analytics.dialog.mentions-list.viewed.label",defaultMessage:"Viewed"},notViewedMentionsLabel:{id:"confluence-analytics.dialog.mentions-list.not-viewed.label",defaultMessage:"Not viewed"}});let r=function(e){return e.VIEWS="views",e.MENTIONS="mentions",e}({});const i={[r.VIEWS]:s.dialogLoadingText,[r.MENTIONS]:s.dialogLoadingTextMentioned},l={[r.VIEWS]:"views",[r.MENTIONS]:"mentions"}},473647:(e,t,a)=>{a.d(t,{_Q:()=>Y,FP:()=>j,CV:()=>x,iX:()=>V,Je:()=>W,GJ:()=>E,MR:()=>P,Yf:()=>I,X0:()=>D,nS:()=>O,YR:()=>C,hk:()=>U});var n=a(615919),o=a(865331),s=a(884863),r=a(701298),i=a(460002),l=a(481622),u=a(614250),d=a(996841),c=a(737984);var g=a(983747),f=a(641171),m=a(131259),h=a(101420),y=a(719219),p=a(856802),w=a(78052),v=a(321831);let Z=function(e){return e.DAY="DAY",e.HOUR="HOUR",e.MONTH="MONTH",e.WEEK="WEEK",e}({}),M=function(e){return e.ANONYMOUS="ANONYMOUS",e.APP="APP",e.EXTERNAL="EXTERNAL",e.INTERNAL="INTERNAL",e.JSD="JSD",e}({});var A=a(130282);const E=e=>{var t;return(null==e||null===(t=e.contentAnalyticsViewers)||void 0===t?void 0:t.count)||0},D=e=>{var t;return(null==e||null===(t=e.user)||void 0===t||null===(t=t.confluence)||void 0===t?void 0:t.permissionType)===M.INTERNAL},C=(e,t)=>!t&&null===(null==e?void 0:e.contentAnalyticsViewers),T=[400,401,403],L=[404],b={dayDiff:2,hourDiff:48},k={dayDiff:28},N={dayDiff:48},S=(e,t)=>{return(0,o.MS)(e)?e.graphQLErrors.some((e=>{var a;return t.includes(null==e||null===(a=e.extensions)||void 0===a?void 0:a.statusCode)})):t.includes(null==e||null===(a=e.extensions)||void 0===a?void 0:a.statusCode);var a},I=e=>S(e,T)||S(e,L),O=e=>e&&S(e,T),P=e=>"FREE"!==e,U=(e,t,a=new Date)=>{const n=_(a,e);return(0,s.Z)(n,t)?n:t},_=(e,t)=>(0,r.Z)(function(e,t){if((0,d.Z)(2,arguments),!t||"object"!==(0,i.Z)(t))return new Date(NaN);var a=t.years?(0,c.Z)(t.years):0,n=t.months?(0,c.Z)(t.months):0,o=t.weeks?(0,c.Z)(t.weeks):0,s=t.days?(0,c.Z)(t.days):0,r=t.hours?(0,c.Z)(t.hours):0,g=t.minutes?(0,c.Z)(t.minutes):0,f=t.seconds?(0,c.Z)(t.seconds):0,m=(0,u.Z)(e,n+12*a),h=(0,l.Z)(m,s+7*o),y=1e3*(f+60*(g+60*r));return new Date(h.getTime()-y)}(e,t),{days:1}),V=e=>{const t=(0,g.Z)(new Date,e);return t<=b.dayDiff?Z.HOUR:t<=k.dayDiff?Z.DAY:t<=N.dayDiff?Z.WEEK:Z.MONTH},H=(e,t=new Date,a)=>new Intl.RelativeTimeFormat(a,{numeric:"auto"}).format(-(0,g.Z)(t,e),"days"),R=(e,t)=>Intl.DateTimeFormat(void 0,(0,n.Z)((0,n.Z)((0,n.Z)((0,n.Z)((0,n.Z)((0,n.Z)({},t.showMinutes?{minute:"numeric"}:{}),t.showHours?{hour:"numeric"}:{}),t.showDays?{day:"numeric"}:{}),t.showMonths?{month:"long"}:{}),t.showYears?{year:"numeric"}:{}),{},{hourCycle:"h12"})).format(e),F=({date:e,granularity:t,now:a=new Date,intl:n})=>{switch(t){case Z.HOUR:return(0,g.Z)(a,e)<2?`${o=H(e,a,n.locale),`${o[0].toLocaleUpperCase()}${o.slice(1)}`}, ${R(e,{showHours:!0})}`:R(e,{showMonths:!0,showHours:!0,showDays:!0});case Z.DAY:return R(e,{showMonths:!0,showDays:!0});case Z.WEEK:const t=R(e,{showMonths:!0,showDays:!0});return n.formatMessage(A.ag.graphGranularityWeek,{date:t});default:return R(e,{showYears:!0,showMonths:!0})}var o},Y=({fromDate:e,toDate:t,now:a=new Date,intl:n})=>{const o=(0,f.Z)(a,e),s=a=>R(a,{showMonths:!0,showDays:!0,showYears:!(0,m.Z)(e,t)}),r=R(e,{showHours:!0,showMinutes:!0});if(o<=24){const t=H(e,a,n.locale);return n.formatMessage(A.ag.graphCreatedAtDateTimeLabel,{date:t,time:r})}if(o<48){const t=s(e);return n.formatMessage(A.ag.graphCreatedAtDateTimeLabel,{date:t,time:r})}{const o=s(e),r=s(t),i=H(t,a,n.locale);return n.formatMessage(A.ag.graphDateToDateTimeLabel,{fromDate:o,toDate:r,toTime:i})}},x=(e,t)=>(0,v.format)(t,"yyyy-MM-dd'T'HH:mm:ssxxx",{timeZone:e}),j=({graphData:e,granularity:t,now:a=new Date,intl:n})=>e.map((e=>({date:F({date:new Date(e.date),granularity:t,now:a,intl:n}),value:e.count}))),W=(e,t,a=new Date)=>{const n=(0,h.Z)(a,e),o=(0,f.Z)(a,e),s=(0,y.Z)(a,e),r=(0,p.Z)(a,e),i=(0,w.Z)(a,e);return n<1?t.formatMessage(A.ag.lastViewedJustNow):n<60?t.formatMessage(A.ag.lastViewedMinutesAgo,{minuteCount:n}):o<24?t.formatMessage(A.ag.lastViewedHoursAgo,{hourCount:o}):s<31?t.formatMessage(A.ag.lastViewedDaysAgo,{dayCount:s}):r<12?t.formatMessage(A.ag.lastViewedMonthsAgo,{monthCount:r}):t.formatMessage(A.ag.lastViewedYearsAgo,{yearCount:i})}},832179:(e,t,a)=>{a.d(t,{Z:()=>d});var n=a(615919),o=a(872342),s=a(840506),r=a(39030),i=a(621130);const l=["src","srcDark","alt","testId"],u=(0,r.iv)({maxWidth:"100%",height:"auto"});function d(e){let{src:t,srcDark:a,alt:d,testId:c}=e,g=(0,o.Z)(e,l);const f=(0,s.useRef)(null),{colorMode:m}=(0,i.Z)();return(0,s.useEffect)((()=>{null!==f&&null!==f.current&&(a&&"dark"===m?f.current.src=a:t&&(f.current.src=t))}),[t,a,m]),(0,r.tZ)("img",(0,n.Z)({alt:d,css:u,"data-testid":c,src:t,ref:f},g))}d.displayName="Image"},219009:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return-(0,o.default)(e,t)};var n,o=(n=a(92553))&&n.__esModule?n:{default:n};e.exports=t.default},321831:(e,t,a)=>{e.exports={format:a(488632),formatInTimeZone:a(491192),getTimezoneOffset:a(219009),toDate:a(88978),utcToZonedTime:a(586987),zonedTimeToUtc:a(286782)}},286782:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){if("string"==typeof e&&!e.match(s.default)){var i=(0,n.default)(a);return i.timeZone=t,(0,o.default)(e,i)}var l=(0,o.default)(e,a),u=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds(),l.getMilliseconds()),d=(0,r.default)(t,new Date(u));return new Date(u+d)};var n=i(a(12057)),o=i(a(88978)),s=i(a(656194)),r=i(a(92553));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}}]);
//# sourceMappingURL=18274.FqbAubRznw.js.map