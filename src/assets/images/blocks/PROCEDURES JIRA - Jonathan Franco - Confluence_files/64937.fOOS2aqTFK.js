/*! License: 64937.fOOS2aqTFK.js.LICENSE.txt */
(self._cf=self._cf||[]).push([[64937,11997],{777014:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var r=s.apply(null,n);r&&e.push(r)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)a.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},607372:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var a=n(318122),s=n(550315),o=n(904698),r=n(377769);const l=(0,a.default)((e=>e&&"function"==typeof e.push?{link:{onClick(t,n){if(t.target instanceof Element&&t.target.matches('[data-mark-annotation-type="inlineComment"]'))return;const a=(0,o.H)(t,e);(0,r.B)(n)?(t.preventDefault(),window.open(n,"_blank","noopener, noreferrer")):a&&a===n&&(t.preventDefault(),e.push(a,(0,s.q)()))}}}:void 0))},792139:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var a=n(318122),s=n(550315),o=n(904698),r=n(694395),l=n(377769);const i=(0,a.default)((e=>e&&"function"==typeof e.push?{smartCard:{onClick(t,n){const a=(0,o.H)(t,e);(0,l.B)(n)?(t.preventDefault(),window.open(n,"_blank","noopener, noreferrer")):a&&a===n?(t.preventDefault(),e.push(a,(0,s.q)())):c(t,n)}}}:void 0)),c=(e,t)=>{(0,r.L)(e,{shouldCheckIframe:!0})?window.open(t,"_blank"):window.open(t,"_self")}},377769:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});const a=e=>{const t=window.location.hostname;let n;try{n=e&&new URL(e)}catch(o){}const{hostname:a,pathname:s}=n||{};return a&&t&&a!==t||["/browse","/jira"].some((e=>null==s?void 0:s.startsWith(e)))}},32503:(e,t,n)=>{"use strict";n.d(t,{i:()=>s,m:()=>o});var a=n(840506);const s=(0,a.createContext)({hasContentChanged:!1,onChange:()=>{},resetContentChanged:()=>{},isCommentContentReady:!1,onCommentContentReady:()=>{}});s.displayName="CommentContentContext";const o=({children:e})=>{const[t,n]=(0,a.useState)(!1),[o,r]=(0,a.useState)(!1),l=(0,a.useMemo)((()=>({hasContentChanged:t,onChange:e=>n(e),resetContentChanged:()=>n(!1),isCommentContentReady:o,onCommentContentReady:()=>r(!0)})),[t,o]);return a.createElement(s.Provider,{value:l},e)};o.displayName="CommentContentProvider"},684474:(e,t,n)=>{"use strict";n.d(t,{I:()=>c,j:()=>i});var a=n(840506),s=n(167347),o=n(734233),r=n(477958),l=n(827685);const i=(0,a.createContext)({isReactionsEnabled:!1});i.displayName="ReactionsContext";const c=({contentId:e,children:t})=>{const{location:n}=(0,a.useContext)(o.M),c=-1!==(null==n?void 0:n.pathname.indexOf("/wiki/pdf/")),{data:d}=(0,s.aM)(l.f,{variables:{contentId:e,location:r.SB},fetchPolicy:"cache-first",skip:c}),m=(0,a.useMemo)((()=>({isReactionsEnabled:!c&&d&&d.webPanels&&d.webPanels.length>0})),[d,c]);return a.createElement(i.Provider,{value:m},t)};c.displayName="ReactionsProvider"},413864:(e,t,n)=>{"use strict";n.d(t,{z:()=>c,k:()=>d});var a=n(840506),s=n(167347),o=n(654927),r=n.n(o);const l=n(779076).ZP`query UnreadInlineCommentsQuery($pageId:ID!){comments(pageId:$pageId type:UNRESOLVED depth:ALL readStatus:UNREAD){nodes{id location{...on InlineComment{type inlineMarkerRef}}}totalCount}}`;var i=n(179640);const c=(0,a.createContext)({unreadCommentCount:0,setUnreadCommentCount:()=>{},unreadCommentsList:[],setUnreadCommentsList:()=>{},unreadMarkerRefsList:[],setUnreadMarkerRefsList:()=>{}});c.displayName="UnreadCommentsContext";const d=({pageId:e,children:t})=>{const[n,o]=(0,a.useState)(0),[d,m]=(0,a.useState)([]),[u,v]=(0,a.useState)([]),p=(0,i.T)("confluence.frontend.navigate.unread.comments")&&"variation"===r().getExperimentValue("unread_comments_navigation","cohort","control"),{data:_}=(0,s.aM)(l,{variables:{pageId:e},fetchPolicy:"cache-and-network",skip:!p||!e});(0,a.useEffect)((()=>{var e,t;const n=null==_||null===(e=_.comments)||void 0===e?void 0:e.nodes;if(n){m(n);const e=Array.from(new Set(n.map((e=>e.location.inlineMarkerRef))));v(e)}o((null==_||null===(t=_.comments)||void 0===t?void 0:t.totalCount)||0)}),[_]);const f=(0,a.useMemo)((()=>({unreadCommentCount:n,setUnreadCommentCount:o,unreadCommentsList:d,setUnreadCommentsList:m,unreadMarkerRefsList:u,setUnreadMarkerRefsList:v})),[n,d,u]);return a.createElement(c.Provider,{value:f},t)};d.displayName="UnreadCommentsProvider"},554187:(e,t,n)=>{"use strict";n.d(t,{q:()=>o,v:()=>s});var a=n(940155);const s=(0,a.y$)({__loadable_id__:"1Jncp",name:"CommentWarningDialog",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(84185),n.e(41476)]).then(n.bind(n,922107))).CommentWarningDialog}),o=(0,a.y$)({__loadable_id__:"w0IHL",name:"InlineEditWarningDialog",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(84185),n.e(53298)]).then(n.bind(n,251602))).InlineEditWarningDialog})},899626:(e,t,n)=>{"use strict";n.d(t,{B:()=>C});var a=n(615919),s=n(872342),o=n(840506),r=n(767001),l=n(486889),i=n(263043),c=n(90651),d=n(650473),m=n(792139),u=n(607372),v=n(261198),p=n(813559),_=n(482499),f=n(106791),y=n(734233);const Z=["as","style"],E=["useSmallMargins"];n(831357),n(310218),n(740913),n(907838),n(663196),n(196592);const g=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:l}=e,i=(0,s.Z)(e,Z);const{useSmallMargins:c}=i,d=(0,s.Z)(i,E);return o.createElement(n,(0,a.Z)((0,a.Z)({},d),{},{style:l,ref:t,className:(0,r.Z)(["_1uwq15vq _82e815vq",i.useSmallMargins?"_1dltftgi":"_1dlt19bv",i.useSmallMargins?"_fjwrftgi":"_fjwr19bv",i.className])}))}));const C=(0,o.memo)((({commentId:e,adf:t,onContentFallback:n,isTruncatedContent:s,onRendered:r,useSmallMargins:Z,maxHeight:E,fadeOutHeight:C,onComplete:b})=>{const[w,h]=(0,o.useState)(null),{createAnalyticsEvent:k}=(0,l._)(),I=(0,_.V)((t=>{k({type:"sendTrackEvent",data:{action:"fellback",actionSubject:"comment",actionSubjectId:e,source:"comment",attributes:{editor:"v2",commentType:"page",reason:t?`${p.QM.UNSUPPORTED_EXTENSION} - ${t}`:p.QM.INVALID_ADF}}}).fire(),n&&n(t)}),e),N=(0,o.useContext)(y.M),R=(0,d.t)(),M=(0,o.useMemo)((()=>(0,a.Z)((0,a.Z)((0,a.Z)({},(0,m.k)(N)),(0,u.z)(N)),R)),[N,R]);return o.createElement(i.Z,{onEvent:(T=e,e=>{"renderer"===e.payload.actionSubject&&e.update((e=>(0,a.Z)((0,a.Z)({},e),{},{attributes:(0,a.Z)((0,a.Z)({},e.attributes),{},{appearance:"comment",objectId:T})})))}),channel:"editor"},o.createElement(f.ps,{channelParam:f.W1},o.createElement(g,{ref:h,useSmallMargins:Z},o.createElement(c.DF,null,o.createElement(v.J,{document:t,extensionHandlers:I,portal:null!=w?w:void 0,allowStickyHeaders:!1,isTruncatedContent:s,onRendered:r,onComplete:b,allowSelectAllTrap:!0,maxHeight:E,fadeOutHeight:s&&(null!==(x=null==w||null===(S=w.firstElementChild)||void 0===S?void 0:S.scrollHeight)&&void 0!==x?x:0)>50?C:0,appearance:"comment",eventHandlers:M})))));var x,S,T}));C.displayName="CommentRenderer"},258341:(e,t,n)=>{"use strict";n.d(t,{iB:()=>_,K4:()=>y,oc:()=>f});var a=n(840506),s=n(618305),o=n(940155),r=n(615919),l=n(872342),i=n(920839),c=n(767001),d=n(747472),m=n(16728);const u=["as","style"];n(438908),n(66777),n(520700),n(413076),n(40592),n(234119),n(785924),n(78517),n(275235);const v=(0,a.forwardRef)(((e,t)=>{let{as:n="input",style:s}=e,o=(0,l.Z)(e,u);return a.createElement(n,(0,r.Z)((0,r.Z)({},o),{},{style:(0,r.Z)((0,r.Z)({},s),{},{"--_1nvt7kj":(0,i.Z)("var(--ds-space-050, 4px)"),"--_1khsbgs":(0,i.Z)(`var(--ds-border, ${m.YS})`)}),ref:t,className:(0,c.Z)(["_4t3i1ul9 _1yt416re _19itf0bt _2rko1l7b _vchhusvi _1wybdlk8 _1bsb1osq _k48p1nn1 _vwz4l6go",o.className])}))}));const p=()=>{const e=(0,d.Z)();return a.createElement("div",null,a.createElement(v,{disabled:!0,placeholder:e.formatMessage({id:"comment.reply.placeholder",defaultMessage:"Reply"})}))};p.displayName="LazyCommentEditorPlaceholder";const _=(0,o.ui)({__loadable_id__:"vvXu9",name:"LazyCommentEditor",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(61769),n.e(35824),n.e(45159),n.e(87828),n.e(57941),n.e(30327),n.e(5946),n.e(51238),n.e(99348),n.e(17269),n.e(34664),n.e(13875),n.e(8660),n.e(77249),n.e(99031),n.e(97986),n.e(92680),n.e(93887),n.e(95847),n.e(70054),n.e(10748),n.e(55372),n.e(51519),n.e(61681),n.e(14067),n.e(70983)]).then(n.bind(n,525866))).CommentEditor,loading:()=>a.createElement("div",null,a.createElement(s.Z,{size:"medium"}))}),f=(0,o.ui)({__loadable_id__:"6Un-Y",name:"LazyInlineCommentEditor",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(61769),n.e(35824),n.e(45159),n.e(87828),n.e(57941),n.e(30327),n.e(5946),n.e(51238),n.e(99348),n.e(17269),n.e(34664),n.e(13875),n.e(8660),n.e(77249),n.e(99031),n.e(97986),n.e(92680),n.e(93887),n.e(95847),n.e(70054),n.e(10748),n.e(55372),n.e(51519),n.e(61681),n.e(14067),n.e(70983)]).then(n.bind(n,525866))).CommentEditor,loading:()=>a.createElement(p,null)}),y=(0,o.ui)({__loadable_id__:"RrfOV",name:"LazyCommentEditorWithoutSpinner",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(61769),n.e(35824),n.e(45159),n.e(87828),n.e(57941),n.e(30327),n.e(5946),n.e(51238),n.e(99348),n.e(17269),n.e(34664),n.e(13875),n.e(8660),n.e(77249),n.e(99031),n.e(97986),n.e(92680),n.e(93887),n.e(95847),n.e(70054),n.e(10748),n.e(55372),n.e(51519),n.e(61681),n.e(14067),n.e(70983)]).then(n.bind(n,525866))).CommentEditor})},136879:(e,t,n)=>{"use strict";n.d(t,{HI:()=>u,I8:()=>m,UU:()=>d,i8:()=>c,t9:()=>r});var a=n(107663),s=n(637418),o=n(614889);const r="outOfDate",l=(0,o.j)("comment-draft-utils"),i=(e,t)=>{switch(e){case"edit-inline":return"create"===t?a.keys.COMMENT_DRAFTS_EDITOR_INLINE_CREATE:"edit"===t?a.keys.COMMENT_DRAFTS_EDITOR_INLINE_EDIT:a.keys.COMMENT_DRAFTS_EDITOR_INLINE_REPLY;case"inline":return"create"===t?a.keys.COMMENT_DRAFTS_INLINE_CREATE:"edit"===t?a.keys.COMMENT_DRAFTS_INLINE_EDIT:a.keys.COMMENT_DRAFTS_INLINE_REPLY;default:return"create"===t?a.keys.COMMENT_DRAFTS_PAGE_CREATE:"edit"===t?a.keys.COMMENT_DRAFTS_PAGE_EDIT:a.keys.COMMENT_DRAFTS_PAGE_REPLY}},c=(e,t,n,a)=>{let o=null;const r=i(n,a),c=JSON.stringify({pageId:t,adf:e});try{o=btoa(c)}catch(d){l.error`Unable to save draft object for ${t}; ${d}`}return null!==o&&(s.LT.setItem(r,o,259200),!0)},d=(e,t)=>{const n=i(e,t);s.LT.removeItem(n)},m=(e,t,n)=>Boolean(u(e,t,n)),u=(e,t,n)=>{let a=null;const o=i(t,n),r=s.LT.getItem(o);if(null!==r){try{a=JSON.parse(atob(r))}catch(c){l.error`Unable to get draft object for ${e}; ${c}`}if(a){const{pageId:t,adf:n}=a;if(t===e)return n}}return null}},625662:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var a=n(615919),s=n(199009),o=n(840506),r=n(822464),l=n(978421);class i extends r.W2{constructor(e=[]){if(super(),(0,s.Z)(this,"showModal",((e,t,n)=>{this.showDialog(e,t,n)})),(0,s.Z)(this,"showDialog",((e,t,n)=>{const s=l.e.nextKey,r=t||{},i=o.createElement(e,(0,a.Z)((0,a.Z)({},r),{},{onClose:(...e)=>this.onChildClose(s,...e),onCloseComplete:(...e)=>this.onChildCloseComplete(s,...e)}),n);return this.setState((e=>({stack:[...e.stack,{key:s,component:i,alive:!0,originalProps:{onClose:"onClose"in r?r.onClose:void 0,onCloseComplete:"onCloseComplete"in r?r.onCloseComplete:void 0}}]}))),()=>{this.onChildClose(s)}})),this.state={stack:e},e.length){const t=Math.max(...e.map((e=>e.key)));l.e.nextKey=t+1}}onChildClose(e,...t){const n=this.state.stack.find((t=>t.key===e));n&&(n.originalProps.onClose&&n.originalProps.onClose(...t),this.setState((e=>({stack:e.stack.map((e=>e===n?(0,a.Z)((0,a.Z)({},e),{},{alive:!1}):e))}))))}onChildCloseComplete(e,...t){const n=this.state.stack.find((t=>t.key===e));n&&(n.originalProps.onCloseComplete&&n.originalProps.onCloseComplete(...t),this.setState((e=>({stack:e.stack.filter((e=>e!==n))}))))}}},978421:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var a=n(199009);const s=new class{constructor(){(0,a.Z)(this,"_nextKey",0)}get nextKey(){return this._nextKey++}set nextKey(e){e>this._nextKey&&(this._nextKey=e)}}},550315:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});var a=n(284186);const s=()=>!!a.LH.match(window.location.pathname)},75978:(e,t,n)=>{"use strict";n.d(t,{Q:()=>y});var a=n(615919),s=n(872342),o=n(840506),r=n(920839),l=n(767001),i=n(142807),c=n(16728),d=n(547175);const m=["as","style"],u=["as","style"],v=["as","style"];n(975617),n(668995),n(440708),n(128207),n(244998),n(549040),n(367212),n(34401),n(953305),n(558491),n(569514),n(257643),n(663035),n(703395);const p=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,d=(0,s.Z)(e,m);return o.createElement(n,(0,a.Z)((0,a.Z)({},d),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1khsbgs":(0,r.Z)(`var(--ds-border, ${c.YS})`)}),ref:t,className:(0,l.Z)(["_x3dof0bt _y3gn1h6o _4t3i1pa9",d.className])}))}));const _=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,d=(0,s.Z)(e,u);return o.createElement(n,(0,a.Z)((0,a.Z)({},d),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1khsbgs":(0,r.Z)(`var(--ds-border, ${c.YS})`)}),ref:t,className:(0,l.Z)(["_4t3irdoj _n7zlf0bt",d.className])}))}));const f=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,d=(0,s.Z)(e,v);return o.createElement(n,(0,a.Z)((0,a.Z)({},d),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1jdjeo2":(0,r.Z)("var(--ds-space-negative-200, -16px)"),"--_1diaiqk":(0,r.Z)(`var(--ds-surface, ${c.N0})`)}),ref:t,className:(0,l.Z)(["_kqswh2mm _t41q1dju _1r33tlke _16txidpf _12qe14y2 _12y3idpf _1gzj14y2 _1plv1qpv _1c5th2mm",d.className])}))}));const y=({numCollapsedReplies:e,onClick:t})=>{const n=(0,a.Z)((0,a.Z)({},d.a.collapsedRepliesMore),{},{values:{numCollapsedReplies:e}});return o.createElement(p,null,o.createElement(_,null),o.createElement(_,null),o.createElement(f,{"data-testid":"collapsed-inline-replies",onClick:t},o.createElement(i.Z,(0,a.Z)({},n))))};y.displayName="CollapsedReplies"},115808:(e,t,n)=>{"use strict";n.d(t,{N:()=>q});var a=n(615919),s=n(872342),o=n(840506),r=n(920839),l=n(767001),i=n(167347),c=n(16728),d=n(582463),m=n(797508),u=n(321851),v=n(963681),p=n(594877),_=n(826633);const f=n(779076).ZP`query InlineCommentAuthorQuery($commentId:ID!){content(id:$commentId){nodes{id history{createdBy{displayName profilePicture{path}...on KnownUser{accountId}...on User{accountId}}}}}}`;var y=n(112615),Z=n(205559),E=n(142765),g=n(639673);const C=["as","style"],b=["commentMode"],w=["as","style"],h=["as","style"],k=["as","style"],I=["as","style"],N=["as","style"],R=["as","style"];n(592867),n(143861),n(239841),n(351217),n(207695),n(835226),n(861832),n(943455),n(904409),n(452245),n(468091),n(781596),n(454968),n(800648),n(163578),n(279573),n(31155),n(969443),n(813288),n(564433),n(289708),n(708877),n(947585),n(789160),n(787325),n(386853),n(515407),n(473544),n(657231),n(701730),n(890161),n(357290),n(212809),n(467779),n(905610),n(831070),n(958713),n(542779),n(504610),n(159906),n(882030),n(751960),n(172707),n(456928),n(354326);const M=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,d=(0,s.Z)(e,C);const{commentMode:m}=d,u=(0,s.Z)(d,b);return o.createElement(n,(0,a.Z)((0,a.Z)({},u),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1msoq6k":(0,r.Z)(`var(--ds-text, ${c.q2})`)}),ref:t,className:(0,l.Z)(["_1e0c1txw _4cvr1h6o _1msjqbv8 _5xy1qbv8 _1dtcqbv8 _jva41snc _uvzw1snc _wkreagmp _12rjagmp _gcmzvv82 _1vjrvv82 _1reowpa7 _18m9wpa7","reply"===d.commentMode?"_18u012gs":"_18u01kw7","view"!==d.commentMode&&"_n3tdftgi",d.className])}))}));const x=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,c=(0,s.Z)(e,w);return o.createElement(n,(0,a.Z)((0,a.Z)({},c),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_h7os2z":(0,r.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,l.Z)(["_1e0c1txw _u5f31xra",c.className])}))}));const S=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,d=(0,s.Z)(e,h);return o.createElement(n,(0,a.Z)((0,a.Z)({},d),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1msoq6k":(0,r.Z)(`var(--ds-text, ${c.q2})`),"--_thxqkt":(0,r.Z)(`var(--ds-border-focused, ${c.VY})`),"--_1b5y5cj":(0,r.Z)(`var(--ds-text-subtle, ${c.iw})`)}),ref:t,className:(0,l.Z)(["_1e0c1txw _2lx21bp4 _jpg4bfng _1msjqbv8 _w4r47vkz _5xy1qbv8 _1dtcqbv8 _jva41snc _uvzw1snc _wkreagmp _12rjagmp _gcmzvv82 _1vjrvv82 _hwn171mr _uk571skh _zsg47vkz _14l51fw9 _cpznidpf _1s79idpf _amufidpf _x966idpf _1ptk1j28 _387xglyw _19gd1fw9 _1gid1fw9 _1e6p1fw9",d.className])}))}));const T=(0,o.forwardRef)(((e,t)=>{let{as:n=S,style:r}=e,i=(0,s.Z)(e,k);return o.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:r,ref:t,className:(0,l.Z)(["_2lx2vrvc _4cvr1h6o",i.className])}))}));const P=(0,o.forwardRef)(((e,t)=>{let{as:n="span",style:i}=e,c=(0,s.Z)(e,I);return o.createElement(n,(0,a.Z)((0,a.Z)({},c),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_h7os2z":(0,r.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,l.Z)(["_19bv1xra _s7n4jp4b",c.className])}))}));const A=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,d=(0,s.Z)(e,N);return o.createElement(n,(0,a.Z)((0,a.Z)({},d),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1b5y5cj":(0,r.Z)(`var(--ds-text-subtle, ${c.iw})`),"--_thxqkt":(0,r.Z)(`var(--ds-border-focused, ${c.VY})`)}),ref:t,className:(0,l.Z)(["_1e0c1txw _2lx2vrvc _1n261q9c _4cvr1h6o _1fqd1skh _1q887vkz _1t4p1fw9 _1ytiidpf _7yhbidpf _1bdkidpf _24rcidpf _1plv1j28 _7wy0glyw _zmp81fw9 _1blw1fw9 _9b8i1fw9 _1kcs1wtq",d.className])}))}));const O=(0,o.forwardRef)(((e,t)=>{let{as:n="span",style:i}=e,c=(0,s.Z)(e,R);return o.createElement(n,(0,a.Z)((0,a.Z)({},c),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1nvt7kj":(0,r.Z)("var(--ds-space-050, 4px)")}),ref:t,className:(0,l.Z)(["_18u016re",c.className])}))}));const q=({commentMode:e,userId:t,date:n,size:a,displayName:s,avatarUrl:r,commentDateUrl:l,commentId:c,permissionType:C,isInactiveComment:b,showCopyLink:w=!1,isFromMobile:h=!1})=>{var k,I,N,R,q,$;const{data:D}=(0,i.aM)(f,{variables:{commentId:c},fetchPolicy:"cache-and-network",skip:Boolean(t||!c)}),{data:j}=(0,i.aM)(y.f,{variables:{id:t},fetchPolicy:"cache-and-network",skip:Boolean(r&&s||!t||c)}),z=null===(k=((null==D||null===(I=D.content)||void 0===I?void 0:I.nodes)||[])[0])||void 0===k||null===(k=k.history)||void 0===k?void 0:k.createdBy,L=z?null===(N=z.profilePicture)||void 0===N?void 0:N.path:null===(R=((null==j||null===(q=j.user)||void 0===q?void 0:q.photos)||[])[0])||void 0===R?void 0:R.value,U=z?z.displayName:null==j||null===($=j.user)||void 0===$?void 0:$.displayName,F=null==z?void 0:z.accountId,B=`${window.location.origin}/wiki${l}`,{featureFlagClient:G}=(0,d.D)(),H=G.getBooleanValue(E.qJ,{default:!1,shouldTrackExposureEvent:!0}),Y="view"===e&&n,V=s||U||"";return o.createElement(M,{commentMode:e,"data-cy":"comment-author"},o.createElement(x,null,o.createElement(m.S,{userId:t,src:r||L,trigger:"click",size:a,name:V})),o.createElement(S,null,o.createElement(T,null,b?o.createElement("span",{"data-testid":"dummy-profile-link"},s||U):o.createElement(u.x,{fullName:s||U,userId:t||F,canViewProfile:!1,style:{wordBreak:"break-word"}}),C===Z.nM.EXTERNAL?o.createElement(P,null,o.createElement(p.ns,null)):null,H&&h&&o.createElement(O,{"data-testid":"pbc-icon"},o.createElement(_.M,{source:"inPageActivityInlineComments",objectId:c||""}))),Y&&o.createElement(A,null,o.createElement("span",null,o.createElement(v.b,{date:n})),l&&o.createElement(g.uZ,{visible:w,textToCopy:B}))))};q.displayName="CommentAuthor"},702099:(e,t,n)=>{"use strict";n.d(t,{x:()=>ve});var a=n(615919),s=n(872342),o=n(840506),r=n(920839),l=n(767001),i=n(318122),c=n(747472),d=n(775345),m=n(16728),u=n(957262),v=n(400318),p=n(190206),_=n(796259),f=n(899626),y=n(547175),Z=n(150030),E=n(142807),g=n(822464),C=n(167347),b=n(555687),w=n(829323),h=n(497242),k=n(65301),I=n(89436),N=n(736623),R=n(724093);const M=["as","style"],x=["as","style"],S=["isReply","isInOverflowMenu"],T=["as","style"],P=["as","style"];n(328166),n(881526),n(789184),n(523254),n(991532),n(868964),n(370306),n(401933),n(528218),n(435791),n(444857),n(25379),n(184393),n(456960),n(652972),n(792874),n(406634),n(467779),n(964045),n(133642),n(213089),n(229012),n(49423),n(937604),n(492989),n(517725),n(506840),n(561288),n(634935),n(74284);const A=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,c=(0,s.Z)(e,M);return o.createElement(n,(0,a.Z)((0,a.Z)({},c),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1iahi77":(0,r.Z)(`var(--ds-background-neutral-bold, ${m.q2})`),"--_ifaqne":(0,r.Z)(`var(--ds-text-inverse, ${m.N0})`),"--_1vfudzf":(0,r.Z)("var(--ds-space-025, 2px)"),"--_11fpzcn":(0,r.Z)("var(--ds-space-075, 6px)")}),ref:t,className:(0,l.Z)(["_bfhktrp2 _syazkx2c _1yt418q7",c.className])}))}));const O=(0,o.forwardRef)(((e,t)=>{let{as:n="span",style:i}=e,c=(0,s.Z)(e,x);const{isReply:d,isInOverflowMenu:u}=c,v=(0,s.Z)(c,S);return o.createElement(n,(0,a.Z)((0,a.Z)({},v),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1h77mm1":(0,r.Z)(`var(--ds-text-subtle, ${m.Y8})`),"--_1n8wv7f":(0,r.Z)(`var(--ds-text-subtlest, ${m.uv})`)}),ref:t,className:(0,l.Z)(["_80omtlke _uiztglyw _16jlkb7n _1o9zkb7n _i0dl1wug",c.isReply?"_syazubmm":"_syaz19i9",c.isInOverflowMenu?"_ca0qftgi _u5f3gktf _n3tdftgi _19bvgktf":"_ca0q1wug _u5f31wug _n3td1wug _19bv1wug",c.className])}))}));const q=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,i=(0,s.Z)(e,T);return o.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:r,ref:t,className:(0,l.Z)(["_1wyb1crf _1bsbuuw1 _uiztglyw _o5724jg8",i.className])}))}));const $=(0,o.forwardRef)(((e,t)=>{let{as:n="span",style:i}=e,c=(0,s.Z)(e,P);return o.createElement(n,(0,a.Z)((0,a.Z)({},c),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_s2teab":(0,r.Z)(`var(--ds-text-brand, ${m.AX})`)}),ref:t,className:(0,l.Z)(["_syaz1ql2 _1e0c1nu9 _ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf _80omtlke _9oik1r31 _1bnx8stv _jf4cnqa1",c.className])}))}));const D=({action:e,isReply:t,isInOverflowMenu:n})=>{const[s,r]=(0,o.useState)(!1),l=document.querySelector('[data-testid="comment-overflow-menu--content"]');l&&l.style&&(l.style.overflow="visible");const i=(0,o.useCallback)((e=>{e.stopPropagation(),r(!s)}),[s]),c=o.createElement(q,{"data-testid":"disabled-explanation-dialog"},"edit"===e?o.createElement(o.Fragment,null,o.createElement($,{"data-testid":"disabled-edit-action-link",onClick:()=>{const e=document.querySelector('[placeholder="Reply"]');e&&(e.focus(),r(!1))}},o.createElement(E.Z,{id:"comment.no.edit.action.text",defaultMessage:"Add a new comment"}))," ",o.createElement(E.Z,{id:"comment.no.edit.reason.text",defaultMessage:"since this one cannot be edited; it contains content created in a legacy version of Confluence."})):o.createElement(E.Z,{id:"comment.no.delete.reason.text",defaultMessage:"You can't delete this comment because it has replies."}));return o.createElement(R.Z,{content:()=>o.createElement(A,null,c),isOpen:s,placement:t?"bottom":"bottom-end",trigger:s=>o.createElement(O,(0,a.Z)({"data-testid":"disabled-action-container",onClick:i,isReply:t,isInOverflowMenu:n},s),"edit"===e?t?o.createElement(E.Z,{id:"comment.no.edit.inline.label",defaultMessage:"Edit is not available"}):o.createElement(E.Z,{id:"comment.no.edit.overflow.menu.label",defaultMessage:"Edit"}):o.createElement(E.Z,{id:"comment.no.delete.overflow.menu.label",defaultMessage:"Delete"}))})};D.displayName="DisabledCommentAction";var j=n(554187),z=n(625662),L=n(970007),U=n(819959),F=n(110718),B=n(684474),G=n(142765),H=n(40994);const Y=["as","style"],V=["as","style"],W=["showClose","isCommentActive","isActive"],K=["as","style"],X=["as","style"],J=["as","style"],Q=["triggerRef"];n(121660),n(876127),n(586694),n(858671),n(516531),n(921859),n(139566),n(646302),n(697582),n(523254),n(991532),n(868964),n(370306),n(371861),n(472181),n(312379),n(374633),n(819813),n(402209),n(551792),n(32182),n(996417),n(567817),n(129299),n(125986),n(858108),n(602720),n(959018),n(212330),n(377336),n(667683),n(915722),n(167767),n(800648),n(31155),n(930334),n(8826),n(506840),n(650067),n(75245),n(999258),n(472918),n(101033),n(937604),n(634718),n(655228),n(585867),n(512787),n(47076),n(792010),n(542944),n(374697),n(424756),n(330983),n(345590),n(660966),n(633052),n(238026),n(73588),n(202290),n(110780),n(615237),n(628255),n(378461),n(500340),n(988029);const ee=(0,o.forwardRef)(((e,t)=>{let{as:n=h.Z,style:r}=e,i=(0,s.Z)(e,Y);return o.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:r,ref:t,className:(0,l.Z)(["_ca0qgrf3 _u5f3grf3 _n3tdgrf3 _19bvgrf3",i.className])}))}));const te=(0,o.forwardRef)(((e,t)=>{let{as:n="span",style:i}=e,c=(0,s.Z)(e,V);const{showClose:d,isCommentActive:u,isActive:v}=c,p=(0,s.Z)(c,W);return o.createElement(n,(0,a.Z)((0,a.Z)({},p),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_k93ccr":(0,r.Z)(`var(--ds-background-accent-gray-bolder, ${m.TG})`),"--_aaghlk":(0,r.Z)(`var(--ds-background-accent-gray-subtler, ${m.gt})`)}),ref:t,className:(0,l.Z)(["_kqswstnw _14hp1tcg _1kmv1tcg _jq8g1tcg _k6rd1tcg _zs121y44 _l58r1y44 _u5wqgktf _zbjigktf _boltgktf _5fdigktf","view"!==c.mode?c.showClose?"_154ij39m":"_154i1n1a":"_154i1crf","view"!==c.mode?c.showClose?"_1xi2qslr":"_1xi21l7b":"_1xi2pzf8",c.isCommentActive||"view-all"!==c.mode?"_3um0ewfl":"_3um015vq",c.isActive?"_7dirad9v _6pupad9v":"_6pup9hz1 _1oqc9hz1",c.className])}))}));const ne=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,c=(0,s.Z)(e,K);return o.createElement(n,(0,a.Z)((0,a.Z)({},c),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1nvt7kj":(0,r.Z)("var(--ds-space-050, 4px)"),"--_1tpuknk":(0,r.Z)(`var(--ds-text-subtlest, ${m.WA})`)}),ref:t,className:(0,l.Z)(["_4cvresu3 _16jlcs5v _1o9zkb7n _i0dlf1ug _y3gnusic _1wyb1skh _vwz4dlk8 _ca0q16re _80omtlke _syazcsmz",c.className])}))}));const ae=(0,o.forwardRef)(((e,t)=>{let{as:n="li",style:i}=e,c=(0,s.Z)(e,X);return o.createElement(n,(0,a.Z)((0,a.Z)({},c),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1b5y5cj":(0,r.Z)(`var(--ds-text-subtle, ${m.iw})`),"--_s2teab":(0,r.Z)(`var(--ds-text-brand, ${m.AX})`),"--_1nvt7kj":(0,r.Z)("var(--ds-space-050, 4px)"),"--_thxqkt":(0,r.Z)(`var(--ds-border-focused, ${m.VY})`)}),ref:t,className:(0,l.Z)(["_1e0c116y _2lx2vrvc _1n261q9c _syaz1fw9 _6wjiesu3 _43ds1ql2 _xrwlcs5v _144bkb7n _14p1f1ug _1pzmusic _19tb1skh _1la1dlk8 _ep9t16re _5lhmtlke _d32v1fw9 _49cd71mr _8bo21mp2 _nqnu1fw9 _1tzj14we _mn8eglyw",c.className])}))}));const se=(0,o.forwardRef)(((e,t)=>{let{as:n="button",style:i}=e,c=(0,s.Z)(e,J);return o.createElement(n,(0,a.Z)((0,a.Z)({},c),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_thxqkt":(0,r.Z)(`var(--ds-border-focused, ${m.VY})`)}),ref:t,className:(0,l.Z)(["_11q7glyw _syaz1kw7 _19itglyw _ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf _1wyb1kw7 _80omtlke _12ji1r31 _1qu21kw7 _12y31o36 _y2mv71mr _1bg4yh40 _1as91r31 _j4qy8stv _1wwgnqa1",c.className])}))}));const oe=({pageId:e,pageType:t,commentId:n,permissions:r,isReply:l,restrictEdit:i,restrictDelete:c,deleteComment:d,editComment:u,resolveComment:_,numReplies:f,isCommentActive:R,mode:M,onClose:x,overflowMenuPortal:S,supportedActions:T=["edit","delete","resolve"]})=>{const[P,A]=(0,o.useState)(!1),[O,q]=(0,o.useState)(!1),[$,Y]=(0,o.useState)(!1),[V,W]=(0,o.useState)(!1),[K,X]=(0,o.useState)(!1),J=(0,o.useContext)(p.F),{isReactionsEnabled:oe}=(0,o.useContext)(B.j),[re,le]=(0,o.useState)(0),{data:ie,loading:ce}=(0,C.aM)(L.B,{variables:{contentId:n,containerId:e},onError:e=>{J.stopOnError({name:v.UY0,error:e})},fetchPolicy:"cache-and-network"});(0,o.useEffect)((()=>{var e;const t=(null==ie||null===(e=ie.comments)||void 0===e||null===(e=e.nodes)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.reactionsSummary)||void 0===e?void 0:e.reactionsCount)||0;le(t)}),[ie]),(0,o.useEffect)((()=>{const e=Boolean((null==r?void 0:r.isEditable)&&u&&T.includes("edit")),t=Boolean((null==r?void 0:r.isRemovable)&&d&&T.includes("delete")),n=Boolean((null==r?void 0:r.isResolvable)&&_&&T.includes("resolve"));"view"===M?(l?X(!1):(e||t||n)&&(q(!0),X(n)),W(t),Y(e)):("view-all"===M&&(e||t)&&q(!0),W(t),Y(e),X(n&&!l))}),[M,r,l,T,d,u,_]);const de=()=>{switch(M){case"view-all":return G.Rb.VIEW_ALL;case"view":return G.Rb.VIEW;case"edit":return G.Rb.EDIT}},me=e=>{J.start({name:v.Gh,attributes:{mode:de(),framework:G.yP.REACT}}),e.showDialog(j.v,{onConfirm:()=>{d&&d()},isDelete:!0,onCancel:()=>{J.abort({name:v.Gh,reason:"delete dialog closed"})}})},ue=()=>{(0,N.LP)({name:v.Syn,attributes:{mode:de(),framework:G.yP.REACT,type:l?"reply":"topLevel"}},{name:v.lku},{name:v.h7S}),u&&u()},ve=()=>{J.start({name:v.ysG,id:n,attributes:{mode:de(),framework:G.yP.REACT}}),_&&_()},pe=(e,t)=>t?e?o.createElement(ee,null,o.createElement(D,{action:"edit",isReply:l,isInOverflowMenu:!0})):o.createElement(h.Z,{"data-cy":"edit-comment-action",onClick:ue},o.createElement(E.Z,(0,a.Z)({},y.a.edit))):e?o.createElement(D,{action:"edit",isReply:l,isInOverflowMenu:!0}):o.createElement(se,{"data-cy":"edit-comment-action",onClick:ue},o.createElement(E.Z,(0,a.Z)({},y.a.edit))),_e=(e,t,n)=>n?t?o.createElement(ee,null,o.createElement(D,{action:"delete",isReply:l,isInOverflowMenu:!0})):o.createElement(h.Z,{onClick:()=>me(e)},o.createElement(E.Z,(0,a.Z)({},y.a.delete))):t?o.createElement(D,{action:"delete",isReply:l}):o.createElement(se,{onClick:()=>me(e)},o.createElement(E.Z,(0,a.Z)({},y.a.delete)));return o.createElement(g.xs,{to:[z.l]},(r=>o.createElement(o.Fragment,null,o.createElement(H.KN,null,o.createElement(ae,{mode:M,isReply:l},(()=>{if("view-all"===M&&!R)return f&&f>0?o.createElement(ne,{"data-testid":"view-all-inline-replies-link"},f>1?`${f} Replies`:`${f} Reply`):null})()),!l&&K&&"view-all"!==M&&o.createElement(ae,{mode:M,isReply:l},o.createElement(se,{"data-cy":"resolve-comment-action",onClick:ve},o.createElement(E.Z,(0,a.Z)({},y.a.resolve)))),!O&&$&&o.createElement(ae,{mode:M,isReply:l},pe(i,O)),!O&&V&&"edit"!==M&&o.createElement(ae,{mode:M,isReply:l},_e(r,c,O)),0===re&&oe&&!ce&&o.createElement(U.M,{contentId:n,containerId:e,containerType:t,location:"edit"===M?F.S.EDITOR_INLINE_COMMENT:F.S.INLINE_COMMENT,hidePlaceholder:!0})),oe&&!ce&&re>0&&o.createElement(U.M,{contentId:n,containerId:e,containerType:t,location:"edit"===M?F.S.EDITOR_INLINE_COMMENT:F.S.INLINE_COMMENT}),O&&((e,t,n)=>{const r=o.createElement(te,{"data-cy":"comment-overflow-actions-menu",isActive:P,isCommentActive:R,mode:M,showClose:Boolean(x)},o.createElement(k.ZP,{testId:"comment-overflow-menu",isOpen:P,placement:"bottom-end",onOpenChange:({isOpen:e})=>{A(e)},trigger:e=>{let{triggerRef:t}=e,n=(0,s.Z)(e,Q);return o.createElement(b.Z,(0,a.Z)((0,a.Z)({},n),{},{ref:t,appearance:"subtle",iconBefore:o.createElement(w.default,{label:"overflow-menu-icon",primaryColor:P?`var(--ds-icon-inverse, ${m.N0})`:`var(--ds-icon-subtle, ${m.iw})`})}))}},o.createElement(I.Z,null,K&&"view-all"!==M&&o.createElement(h.Z,{onClick:ve},o.createElement(E.Z,(0,a.Z)({},y.a.resolve))),$&&pe(t,O),V&&_e(e,n,O))));return S?(0,Z.createPortal)(r,S):r})(r,i,c))))};oe.displayName="CommentActions";var re=n(115808);const le=["as","style"],ie=["isRemoving","isFocused"],ce=["as","style"];n(776302),n(953305),n(5321),n(56312),n(975398),n(206382),n(79553),n(589519),n(249651),n(112044),n(524220),n(517586),n(412919),n(77125),n(879357),n(921859),n(820337),n(646302),n(184140),n(835624),n(111863),n(918196),n(60260),n(173087),n(357290),n(354326);const de=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,c=(0,s.Z)(e,le);const{isRemoving:d,isFocused:u}=c,v=(0,s.Z)(c,ie);return o.createElement(n,(0,a.Z)((0,a.Z)({},v),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1itntsn":(0,r.Z)(`var(--ds-background-selected, ${m.BA})`),"--_1iudfat":(0,r.Z)("var(--ds-text-subtlest, #707070)")}),ref:t,className:(0,l.Z)(["_1e0c1txw _2lx21bp4 _1kl7idpf _x3doidpf _5sag1bs3 _1o51q7pw _tip812c5 _1pglp3kn _12ji1r31 _1qu2glyw _12y31o36 _ha8h2mma _1ragidpf","view-all"===c.mode?"_ca0q7vkz _u5f37vkz _n3td7vkz _19bv7vkz":"_ca0q1crf _u5f37vkz _n3td1crf _19bv7vkz",Boolean(c.isRemoving)?"_80om13gf":"_80om1kw7",Boolean(c.isFocused)&&"_11q71e62",Boolean(c.isRemoving)&&"",Boolean(c.isRemoving)&&"_y44vy8h8",c.className])}))}));const me=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,i=(0,s.Z)(e,ce);return o.createElement(n,(0,a.Z)((0,a.Z)({},i),{},{style:r,ref:t,className:(0,l.Z)(["_kqswh2mm _4t3it94y",i.className])}))}));const ue=(0,i.default)(((e,t)=>{if(null==e||!e.length)return null;try{return JSON.parse(e)}catch(n){return t.stopOnError({name:v.Itq,error:n}),null}})),ve=({pageId:e,pageType:t,avatarUrl:n,commentId:a,content:s,date:r,displayName:l,permissions:i,dateUrl:m,userId:v,deleteComment:Z,editComment:E,resolveComment:g,isReply:C,isFocused:b,shouldScrollIntoView:w,isRemoving:h,numReplies:k,isFabricPage:I,isCommentActive:N,isCurrentUserAnonymous:R,mode:M,onRendered:x,onClose:S,shouldAutofocus:T,onAutoFocused:P,permissionType:A,maxHeight:O,fadeOutHeight:q,isFromMobile:$,onComplete:D,supportedActions:j=["edit","delete","resolve"],isUnread:z=!1})=>{const{formatMessage:L}=(0,c.Z)(),U=(0,o.useRef)(null),[F,B]=(0,o.useState)(!1),[G,H]=(0,o.useState)(!1),[Y,V]=(0,o.useState)(void 0),W=(0,o.useContext)(p.F);(0,o.useEffect)((()=>{w&&b&&U&&U.current&&(0,_.W9)(U.current,I)}),[U,b,w,I]),(0,o.useEffect)((()=>{T&&(U.current&&U.current.focus(),P&&P())}),[U,T,P]);const K=ue(s,W),X=L(y.a.a11yCommentLabel,{username:l}),J=(0,o.useCallback)((()=>H(!0)),[]),Q=e=>()=>B("enter"===e);return o.createElement(o.Fragment,null,o.createElement(de,{ref:U,"data-comment-id":a,isFocused:b,isRemoving:h,mode:M,"aria-label":X,role:"comment",tabIndex:-1,onMouseEnter:Q("enter"),onMouseLeave:Q("leave")},"view"!==M&&o.createElement(me,null,o.createElement("div",{"data-testid":"overflow-container",ref:e=>{!Y&&e&&V(e)}})),o.createElement(u.Z,{spread:"space-between"},o.createElement(re.N,{commentMode:"view",userId:v,date:r,displayName:l,avatarUrl:n,commentDateUrl:m,commentId:R?a:null,permissionType:A,isInactiveComment:Boolean("view-all"===M&&!N),showCopyLink:F,isFromMobile:$}),z&&o.createElement("div",{"data-testId":"new-comment"},o.createElement(d.default,{size:"xlarge",primaryColor:"var(--ds-background-disabled, #0A0052CC)",secondaryColor:"var(--ds-icon-brand, #0052CC)",label:"new-comment"}))),K&&o.createElement(f.B,{commentId:a,adf:K,onContentFallback:J,isTruncatedContent:"view-all"===M&&!N,onRendered:x,onComplete:D,useSmallMargins:"view-all"===M,maxHeight:O,fadeOutHeight:q}),j.length>0&&o.createElement(oe,{pageId:e,pageType:t,commentId:a,permissions:i,isReply:C,deleteComment:Z,editComment:E,resolveComment:g,restrictEdit:G,restrictDelete:Boolean(k),numReplies:k,isCommentActive:N,mode:M,onClose:S,overflowMenuPortal:Y,supportedActions:j})))};ve.displayName="CommentBody"},970703:(e,t,n)=>{"use strict";n.d(t,{W:()=>g});var a=n(615919),s=n(872342),o=n(840506),r=n(920839),l=n(767001),i=n(142807),c=n(364633),d=n(190206),m=n(400318),u=n(627521),v=n(649233),p=n(614889),_=n(724764),f=n(142765);const y=["as","style"];n(911142);const Z=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,c=(0,s.Z)(e,y);return o.createElement(n,(0,a.Z)((0,a.Z)({},c),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_ytujz3":(0,r.Z)("var(--ds-space-150, 12px)")}),ref:t,className:(0,l.Z)(["_18s8a952",c.className])}))}));const E=(0,p.j)("inline-comments-common:error-message"),g=({error:e,action:t,commentId:n})=>{const[s,r]=(0,o.useState)(""),l=(0,o.useContext)(d.F),p=(0,_.nU)(e),y=404===p.statusCode||"delete"===t&&400===p.statusCode||403===p.statusCode&&p.message===f.HA.NO_ANONYMOUS_ACCESS||"resolve"===t&&500===p.statusCode&&p.message===f.HA.CANNOT_RESOLVE_DELETED_COMMENT.replace("%d",n||"");(0,o.useEffect)((()=>{switch(t){case"resolve":r(m.ysG);break;case"delete":r(m.Gh);break;case"reopen":r("");break;default:E.error`Invalid action: ${t}`,r("")}}),[t]),(0,o.useEffect)((()=>{y?(0,v.Xb)(e):s.length&&l.stopOnError({name:s,error:e})}),[e,y]);const g=o.createElement(Z,null,o.createElement(c.Z,{appearance:"warning",testId:"editor-inline-message"},y?o.createElement(i.Z,(0,a.Z)({},(0,_.aS)(p.message,n))):o.createElement(i.Z,{id:"inline-comments-common.editor.error.message",defaultMessage:"Something went wrong when trying to {action} your comment. Please close the editor and try again.",values:{action:t}})));return y?g:o.createElement(u.X,{error:e},g)}},75872:(e,t,n)=>{"use strict";n.d(t,{S:()=>v});var a=n(615919),s=n(872342),o=n(840506),r=n(920839),l=n(767001),i=n(142807),c=n(16728),d=n(963681);const m=["as","style"];n(25379),n(703395),n(852393);const u=(0,o.forwardRef)(((e,t)=>{let{as:n="div",style:i}=e,d=(0,s.Z)(e,m);return o.createElement(n,(0,a.Z)((0,a.Z)({},d),{},{style:(0,a.Z)((0,a.Z)({},i),{},{"--_1g2og9c":(0,r.Z)("var(--ds-space-200, 16px)"),"--_1khsbgs":(0,r.Z)(`var(--ds-border, ${c.YS})`)}),ref:t,className:(0,l.Z)(["_1yt41f54 _x3dof0bt _1wyb1crf",d.className])}))}));const v=({resolvedUser:e,resolvedTime:t})=>e&&t?o.createElement(u,null,o.createElement(i.Z,{id:"inline-comments-common.reopened.message",defaultMessage:"Reopened by {person}",values:{person:e}})," ",o.createElement(d.b,{date:t})):null},596309:(e,t,n)=>{"use strict";n.d(t,{y:()=>E});var a=n(615919),s=n(840506),o=n(167347),r=n(93972),l=n(142807),i=n(85278),c=n(16728),d=n(190206),m=n(400318),u=n(614889),v=n(725628),p=n(289049),_=n(40994),f=n(970703);const y=(0,r.defineMessages)({resolvedCommentDescription:{id:"inline-comments-common.resolved-comment-description",defaultMessage:"You can view all the comments from the More actions menu."},resolvedCommentTitle:{id:"inline-comments-common.resolved-comment-title",defaultMessage:"Comment Resolved"}}),Z=(0,u.j)("resolved-comment-notification"),E=({commentId:e,reopenComment:t,pageId:n,inlineMarkerRef:r,mode:u})=>{const E="view-all"!==u?[{query:v.v,variables:{pageId:n}}]:[],[g]=(0,o.Db)(p.C,{refetchQueries:E}),[C,b]=(0,s.useState)(null),w=(0,s.useContext)(d.F),h=(0,s.useCallback)((n=>{n.preventDefault();const s={variables:{commentId:e,resolved:!1}};w.start({name:m.lPO,id:e,attributes:{mode:u}}),g((0,a.Z)({},s)).then((()=>{t(r),w.succeed({name:m.lPO})})).catch((e=>{Z.error`An error ocurred when reopening a comment ${e}`,b(e),w.stopOnError({name:m.lPO,error:e})}))}),[e,t,g,u,r,w]);return s.createElement(s.Fragment,null,s.createElement(_.LJ,null,s.createElement(i.default,{size:"xlarge",primaryColor:`var(--ds-icon-success, ${c.ak})`,label:"",testId:"inline-comments.confirm-icon"}),s.createElement(_.s0,null,s.createElement(l.Z,(0,a.Z)({},y.resolvedCommentTitle))),s.createElement(l.Z,(0,a.Z)((0,a.Z)({},y.resolvedCommentDescription),{},{tagName:"p"})),s.createElement("a",{onClick:h},s.createElement(l.Z,{id:"inline-comments-common.undo-resolved-comment",defaultMessage:"Undo resolved comment"}))),C&&s.createElement(f.W,{error:C,action:"reopen"}))};E.displayName="ResolvedCommentNotification"},725628:(e,t,n)=>{"use strict";n.d(t,{v:()=>a});const a=n(779076).ZP`query CommentButtonRefetchQuery($pageId:ID!){comments(pageId:$pageId type:UNRESOLVED depth:ALL){count nodes{id location{type ...on InlineComment{inlineMarkerRef}}}}}`},288004:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var a=n(779076),s=n(562328);const o=a.ZP`mutation CreateInlineReplyMutation($input:ReplyInlineCommentInput!){replyInlineComment(input:$input){...inlineCommentFragment}}${s.n}`},562328:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});const a=n(779076).ZP`fragment inlineCommentFragment on Comment{id body(representation:ATLAS_DOC_FORMAT){value}contentStatus links{webui}location{...on InlineComment{type inlineMarkerRef inlineResolveProperties{resolvedTime resolvedUser}}}parentId permissions{isEditable isRemovable isResolvable}version{when number}author{displayName profilePicture{path}permissionType ...on KnownUser{accountId}...on User{accountId}}}`},289049:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});const a=n(779076).ZP`mutation ResolveInlineCommentMutation($commentId:ID!$resolved:Boolean!){resolveInlineComment(commentId:$commentId resolved:$resolved dangling:false){status resolveProperties{resolved resolvedUser resolvedByDangling resolvedFriendlyDate resolvedTime}}}`},657294:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});const a=n(779076).ZP`mutation UpdateInlineCommentMutation($input:UpdateCommentInput!){updateComment(input:$input){id}}`},112615:(e,t,n)=>{"use strict";n.d(t,{f:()=>a});const a=n(779076).ZP`query UserQuery($id:ID!){user(id:$id){id displayName photos{value}}}`},826633:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});const a=(0,n(940155).ZR)({__loadable_id__:"FUeaj",name:"AfterPaintPoweredByConfluenceMobile",loader:async()=>n.e(73206).then(n.bind(n,61856))})},819959:(e,t,n)=>{"use strict";n.d(t,{M:()=>r,X:()=>l});var a=n(840506),s=n(940155),o=n(492311);const r=(0,s.ZR)({__loadable_id__:"yhHGm",name:"ReactionsLoader",loading:()=>a.createElement(o.n,{useAccuratePills:!0}),loader:async()=>(await Promise.all([n.e(12705),n.e(51238),n.e(53812),n.e(94338)]).then(n.bind(n,557423))).Reactions}),l=(0,s.y$)({__loadable_id__:"Iqu8V",name:"ReactionsLoaderBackground",loading:()=>a.createElement(o.n,null),loader:async()=>(await Promise.all([n.e(12705),n.e(51238),n.e(53812),n.e(94338)]).then(n.bind(n,557423))).Reactions})},970007:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});const a=n(779076).ZP`query ReactionsCommentsQuery($contentId:ID!$containerId:ID!){comments(commentId:$contentId contentStatus:[DRAFT CURRENT]){nodes{id reactionsSummary(pageId:$containerId contentType:"page" childType:"comment"){reactionsCount ari containerAri reactionsSummaryForEmoji{emojiId count reacted id}}}}}`},110718:(e,t,n)=>{"use strict";n.d(t,{S:()=>a,d:()=>s});let a=function(e){return e.PAGE="page",e.BLOGPOST="blogpost",e.PAGE_COMMENT="page-comment",e.INLINE_COMMENT="inline-comment",e.EDITOR_INLINE_COMMENT="editor-inline-comment",e.FEED_PAGE="feed-page",e.FEED_BLOGPOST="feed-blogpost",e.FEED_COMMENT="feed-comment",e}({}),s=function(e){return e.PAGE="page",e.BLOGPOST="blogpost",e.SPACE="space",e}({})},775345:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(840506))&&a.__esModule?a:{default:a},o=n(340531);const r=e=>s.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="6"/><circle fill="inherit" cx="12" cy="12" r="2"/></g></svg>'},e));r.displayName="RadioIcon";var l=r;t.default=l},47433:(e,t,n)=>{"use strict";n.d(t,{J7:()=>s,_C:()=>a});const a={iconColor:"inherit",iconGradientStart:"inherit",iconGradientStop:"inherit",label:"",size:"medium",textColor:"currentColor"},s={xsmall:16,small:24,medium:32,large:40,xlarge:48}},487269:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(16728);const s=e=>{let t,n,s,o,r;switch(e){case"brand":t=a.AX,n=a.VY,s=a.VY,o=`var(--ds-text, ${a.q2})`,r=a.AX;break;case"neutral":t=a.mg,n=a.Y8,s=a.Y8,o=a.zN,r=a.zN;break;case"inverse":t=a.uv,n=a.N0,s=a.N0,o=`var(--ds-text-inverse, ${a.N0})`,r=`var(--ds-text-inverse, ${a.N0})`}return{iconGradientStart:t,iconGradientStop:n,iconColor:s,textColor:o,atlassianLogoTextColor:r}}},383288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(615919),s=n(872342),o=n(39030),r=n(47433);const l=["label","svg","size","appearance","iconGradientStart","iconGradientStop","iconColor","textColor","testId"],i="--logo-color",c="--logo-fill",d=(0,o.iv)({display:"inline-block",position:"relative",color:`var(${i})`,fill:`var(${c})`,lineHeight:1,userSelect:"none",whiteSpace:"normal","> svg":{height:"100%",fill:"inherit"}}),m=(0,o.iv)({stop:{stopColor:"currentColor"}}),u=Object.entries(r.J7).reduce(((e,[t,n])=>(e[t]=(0,o.iv)({height:`${n}px`}),e)),{}),v=e=>{let{label:t,svg:n,size:r,appearance:v,iconGradientStart:p,iconGradientStop:_,iconColor:f,textColor:y,testId:Z}=e,E=(0,s.Z)(e,l);const g="inherit"===p&&"inherit"===_&&void 0===v,C=Z&&`${Z}--wrapper`;return(0,o.tZ)("span",(0,a.Z)({css:[d,g&&m,r&&u[r]],"data-testid":C,style:{[i]:f,[c]:y},"aria-label":t||void 0,role:t?"img":void 0,dangerouslySetInnerHTML:{__html:n}},E))};v.displayName="Wrapper";const p=v}}]);
//# sourceMappingURL=64937.fOOS2aqTFK.js.map