WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'v5/js/iframe/host/_uritemplate.js' */
!function(e){"use strict";var t=function(){function e(e){this.options=e}e.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options};return e}(),n=function(){function e(t){return"function"==typeof Object.freeze?function(t){if("object"!=typeof t||null===t)return t;Object.freeze(t);var n,r;for(r in t)t.hasOwnProperty(r)&&"object"==typeof(n=t[r])&&e(n);return t}(t):t}return{isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.apply(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.apply(e)},isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.apply(e)},join:function(e,t){var n,r="",i=!0;for(n=0;n<e.length;n+=1){i?i=!1:r+=t;r+=e[n]}return r},map:function(e,t){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n},filter:function(e,t){for(var n=[],r=0;r<e.length;r+=1)t(e[r])&&n.push(e[r]);return n},deepFreeze:e}}(),r=function(){function e(e){return e>="0"&&e<="9"}return{isAlpha:function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},isDigit:e,isHexDigit:function(t){return e(t)||t>="a"&&t<="f"||t>="A"&&t<="F"}}}(),i=function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return e<=127?1:194<=e&&e<=223?2:224<=e&&e<=239?3:240<=e&&e<=244?4:0},n=function(e){return 128<=e&&e<=191};function i(e,t){return"%"===e.charAt(t)&&r.isHexDigit(e.charAt(t+1))&&r.isHexDigit(e.charAt(t+2))}function o(e,t){return parseInt(e.substr(t,2),16)}return{encodeCharacter:function(t){var n,r,i="",o=e(t);for(r=0;r<o.length;r+=1)i+="%"+((n=o.charCodeAt(r))<16?"0":"")+n.toString(16).toUpperCase();return i},isPctEncoded:function(e){if(!i(e,0))return!1;var r=o(e,1),s=t(r);if(0===s)return!1;for(var a=1;a<s;a+=1)if(!i(e,3*a)||!n(o(e,3*a+1)))return!1;return!0},pctCharAt:function(e,r){var s=e.charAt(r);if(!i(e,r))return s;var a=o(e,r+1),u=t(a);if(0===u)return s;for(var f=1;f<u;f+=1)if(!i(e,r+3*f)||!n(o(e,r+3*f+1)))return s;return e.substr(r,3*u)}}}(),o={isVarchar:function(e){return r.isAlpha(e)||r.isDigit(e)||"_"===e||i.isPctEncoded(e)},isUnreserved:function(e){return r.isAlpha(e)||r.isDigit(e)||"-"===e||"."===e||"_"===e||"~"===e},isReserved:function(e){return":"===e||"/"===e||"?"===e||"#"===e||"["===e||"]"===e||"@"===e||"!"===e||"$"===e||"&"===e||"("===e||")"===e||"*"===e||"+"===e||","===e||";"===e||"="===e||"'"===e}},s=function(){function e(e,t){var n,r="",s="";"number"!=typeof e&&"boolean"!=typeof e||(e=e.toString());for(n=0;n<e.length;n+=s.length){s=e.charAt(n);r+=o.isUnreserved(s)||t&&o.isReserved(s)?s:i.encodeCharacter(s)}return r}return{encode:e,encodePassReserved:function(t){return e(t,!0)},encodeLiteral:function(e){var t,n="",r="";for(t=0;t<e.length;t+=r.length)(r=i.pctCharAt(e,t)).length>1?n+=r:n+=o.isReserved(r)||o.isUnreserved(r)?r:i.encodeCharacter(r);return n},encodeLiteralCharacter:function(e,t){var n=i.pctCharAt(e,t);return n.length>1||o.isReserved(n)||o.isUnreserved(n)?n:i.encodeCharacter(n)}}}(),a=function(){var e={};function t(t){e[t]={symbol:t,separator:"?"===t?"&":""===t||"+"===t||"#"===t?",":t,named:";"===t||"&"===t||"?"===t,ifEmpty:"&"===t||"?"===t?"=":"",first:"+"===t?"":t,encode:"+"===t||"#"===t?s.encodePassReserved:s.encode,toString:function(){return this.symbol}}}t("");t("+");t("#");t(".");t("/");t(";");t("?");t("&");return{valueOf:function(t){return e[t]?e[t]:"=,!@|".indexOf(t)>=0?null:e[""]}}}();function u(e){var t;if(null==e)return!1;if(n.isArray(e))return e.length>0;if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return!0;for(t in e)if(e.hasOwnProperty(t)&&u(e[t]))return!0;return!1}var f=function(){function e(e){this.literal=s.encodeLiteral(e)}e.prototype.expand=function(){return this.literal};e.prototype.toString=e.prototype.expand;return e}(),p=function(){function e(e){var n,s,u=[],f=null,p=null,l=null,h="";function d(){var n=e.substring(p,s);if(0===n.length)throw new t({expressionText:e,message:"a varname must be specified",position:s});f={varname:n,exploded:!1,maxLength:null};p=null}function g(){if(l===s)throw new t({expressionText:e,message:"after a ':' you have to specify the length",position:s});f.maxLength=parseInt(e.substring(l,s),10);l=null}n=function(n){var r=a.valueOf(n);if(null===r)throw new t({expressionText:e,message:"illegal use of reserved operator",position:s,operator:n});return r}(e.charAt(0));s=n.symbol.length;p=s;for(;s<e.length;s+=h.length){h=i.pctCharAt(e,s);if(null!==p){if("."===h){if(p===s)throw new t({expressionText:e,message:"a varname MUST NOT start with a dot",position:s});continue}if(o.isVarchar(h))continue;d()}if(null!==l){if(s===l&&"0"===h)throw new t({expressionText:e,message:"A :prefix must not start with digit 0",position:s});if(r.isDigit(h)){if(s-l>=4)throw new t({expressionText:e,message:"A :prefix must have max 4 digits",position:s});continue}g()}if(":"!==h)if("*"!==h){if(","!==h)throw new t({expressionText:e,message:"illegal character",character:h,position:s});u.push(f);f=null;p=s+1}else{if(null===f)throw new t({expressionText:e,message:"exploded without varspec",position:s});if(f.exploded)throw new t({expressionText:e,message:"exploded twice",position:s});if(f.maxLength)throw new t({expressionText:e,message:"an explode (*) MUST NOT follow to a prefix",position:s});f.exploded=!0}else{if(null!==f.maxLength)throw new t({expressionText:e,message:"only one :maxLength is allowed per varspec",position:s});if(f.exploded)throw new t({expressionText:e,message:"an exploeded varspec MUST NOT be varspeced",position:s});l=s+1}}null!==p&&d();null!==l&&g();u.push(f);return new c(e,n,u)}return function(n){var r,i,o=[],s=null,a=0;for(r=0;r<n.length;r+=1){i=n.charAt(r);if(null===a){if(null===s)throw new Error("reached unreachable code");if("{"===i)throw new t({templateText:n,message:"brace already opened",position:r});if("}"===i){if(s+1===r)throw new t({templateText:n,message:"empty braces",position:s});try{o.push(e(n.substring(s+1,r)))}catch(e){if(e.prototype===t.prototype)throw new t({templateText:n,message:e.options.message,position:s+e.options.position,details:e.options});throw e}s=null;a=r+1}}else{if("}"===i)throw new t({templateText:n,message:"unopened brace closed",position:r});if("{"===i){a<r&&o.push(new f(n.substring(a,r)));a=null;s=r}}}if(null!==s)throw new t({templateText:n,message:"unclosed brace",position:s});a<n.length&&o.push(new f(n.substr(a)));return new l(n,o)}}(),c=function(){function e(e){return JSON&&JSON.stringify?JSON.stringify(e):e}function t(e){if(!u(e))return!0;if(n.isString(e))return""===e;if(n.isNumber(e)||n.isBoolean(e))return!1;if(n.isArray(e))return 0===e.length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push({name:t,value:e[t]});return n}function i(e,t,n){this.templateText=e;this.operator=t;this.varspecs=n}i.prototype.toString=function(){return this.templateText};function o(e,t,n){var r="";n=n.toString();if(t.named){r+=s.encodeLiteral(e.varname);if(""===n)return r+=t.ifEmpty;r+="="}null!==e.maxLength&&(n=n.substr(0,e.maxLength));return r+=t.encode(n)}function a(e){return u(e.value)}function f(e,i,o){var f=[],p="";if(i.named){p+=s.encodeLiteral(e.varname);if(t(o))return p+=i.ifEmpty;p+="="}if(n.isArray(o)){f=o;f=n.filter(f,u);f=n.map(f,i.encode);p+=n.join(f,",")}else{f=r(o);f=n.filter(f,a);f=n.map(f,(function(e){return i.encode(e.name)+","+i.encode(e.value)}));p+=n.join(f,",")}return p}function p(e,i,o){var f=[];if(n.isArray(o)){f=o;f=n.filter(f,u);f=n.map(f,(function(n){var r=s.encodeLiteral(e.varname);t(n)?r+=i.ifEmpty:r+="="+i.encode(n);return r}))}else{f=r(o);f=n.filter(f,a);f=n.map(f,(function(e){var n=s.encodeLiteral(e.name);t(e.value)?n+=i.ifEmpty:n+="="+i.encode(e.value);return n}))}return n.join(f,i.separator)}function c(e,t){var i=[],o="";if(n.isArray(t)){i=t;i=n.filter(i,u);i=n.map(i,e.encode);o+=n.join(i,e.separator)}else{i=r(t);i=n.filter(i,(function(e){return u(e.value)}));i=n.map(i,(function(t){return e.encode(t.name)+"="+e.encode(t.value)}));o+=n.join(i,e.separator)}return o}i.prototype.expand=function(r){var i,s,a,l=[],h=this.operator;for(i=0;i<this.varspecs.length;i+=1)if(null!=(a=r[(s=this.varspecs[i]).varname])){s.exploded&&!0;n.isArray(a);if("string"==typeof a||"number"==typeof a||"boolean"==typeof a)l.push(o(s,h,a));else{if(s.maxLength&&u(a))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+e(a));s.exploded?u(a)&&(h.named?l.push(p(s,h,a)):l.push(c(h,a))):!h.named&&t(a)||l.push(f(s,h,a))}}return 0===l.length?"":h.first+n.join(l,h.separator)};return i}(),l=function(){function e(e,t){this.templateText=e;this.expressions=t;n.deepFreeze(this)}e.prototype.toString=function(){return this.templateText};e.prototype.expand=function(e){var t,n="";for(t=0;t<this.expressions.length;t+=1)n+=this.expressions[t].expand(e);return n};e.parse=p;e.UriTemplateError=t;return e}();!function(e){"function"==typeof define?define("_uritemplate",[],(function(){return e})):"undefined"!=typeof window?window.UriTemplate=e:global.UriTemplate=e}(l)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'v5/js/navigator/context.js' */
define("ac/navigator/context",(function(){var n;return{setContextFunction:function(t){n=t},getContextFunction:function(){return n}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'v5/js/navigator/module.js' */
define("ac/navigator/module",["ac/navigator/utils","ac/navigator/routes","ac/navigator/context","ac/spa-context"],(function(t,o,e,n){return{getLocation:function(o){var n=e.getContextFunction();if("function"!=typeof n)console.error("no context function defined");else{context=n();if("object"!=typeof context||Array.isArray(context)||null===context)console.error("navigator context callback did not return an object");else{context.href=t.getTopmostSameOriginWindow(window).location.href;o(context)}}},go:function(e,n,a){e=e.toLowerCase();(n=n||{}).addonKey||(n.addonKey=a._context.extension.addon_key);if(t.isApiEnabled()){var r=o.getRoutes();o.hasRoutes()&&e in r?"function"==typeof r[e]?r[e](n,t.goToUrl):t.goToUrl(t.buildUrl(r[e],n)):console.error("The URL target "+e+" is not available. Valid targets are: "+Object.keys(r).toString())}else console.error("connect navigation api not yet implemented for this product")},_shouldThrottle:function(t,o){var e=Number(window.localStorage.getItem("lastReloadTimestamp")),n=Number(window.localStorage.getItem("reloadAttempts")),a=Date.now();a-e>t&&(n=0);if(n>=o){console.error("Reloads must be "+t+"ms apart after "+n+" reload attempts.");return!0}e=a;n+=1;window.localStorage.setItem("lastReloadTimestamp",e);window.localStorage.setItem("reloadAttempts",n);return!1},reload:function(){this._shouldThrottle(12e4,5)||(n.isInIframe()?t.getTopmostSameOriginWindow(window).location.reload():window.location.reload())}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'v5/js/navigator/routes.js' */
define("ac/navigator/routes",(function(){var e={addonmodule:function(e,t){var o=e&&e.addonKey,n=e&&e.moduleKey;if(!o)throw new Error("Missing addonKey parameter in the context.");if(!n)throw new Error("Missing moduleKey parameter in the context.");var r=function(e){const t=e.map(encodeURIComponent).join("/");return new URL(t,window.location.origin).pathname.slice(1)}([o,n]),a=AJS.contextPath()+"/plugins/servlet/ac/"+r;if(null!=e.context){console.warn("DEPRECATED API - The context field has been deprecated in favor of customData.");connectHost.trackDeprecatedMethodUsed("AP.navigate-context",{addon_key:o,moduleKey:n})}var i,l=AJS.$.extend({},e.context||{},e.customData||{}),c=(i=l,Object.keys(i).map((function(e){return["ac."+e,i[e]].map(encodeURIComponent).join("=")})).join("&"));a=""!=c?a+"?"+c:a;t.apply(this,[a])},site:function(e,t){function o(e){if(-1!==new URL(e,document.baseURI).pathname.replace(/\/+/g,"/").toLowerCase().indexOf("plugins/servlet/ac-redirect"))throw new Error("Cannot use legacy redirect filter in Navigator API")}if(e.relativeUrl){if("string"!=typeof e.relativeUrl||"/"!==e.relativeUrl[0])throw new Error("Invalid relativeUrl passed in context");o(e.relativeUrl);var n=0===e.relativeUrl.indexOf(AJS.contextPath())?"":AJS.contextPath(),r=window.location.protocol+"//"+window.location.hostname+n+e.relativeUrl;t.apply(this,[r])}else{if(!e.absoluteUrl)throw new Error("No context supplied to Navigator API");var a=window.location.protocol+"//"+window.location.hostname+"/";if("string"!=typeof e.absoluteUrl||0!==e.absoluteUrl.indexOf(a))throw new Error("Invalid absoluteUrl passed in context");o(e.absoluteUrl);t.apply(this,[e.absoluteUrl])}}};return{hasRoutes:function(){return e&&0!==Object.getOwnPropertyNames(e).length},addRoutes:function(t){e=AJS.$.extend(e,t)},getRoutes:function(){return e}}}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-navigator-v5', location = 'v5/js/navigator/utils.js' */
define("ac/navigator/utils",["_uritemplate","ac/spa-context"],(function(n,t){var r=!1;return{enableApi:function(){r=!0},disableApi:function(){r=!1},isApiEnabled:function(){return r},buildUrl:function(t,r){"/"!==t[0]&&(t="/"+t);return AJS.contextPath()+n.parse(t).expand(r)},goToUrl:function(n){var r=function(){window.location.href=n};t.isInIframe()?t.getContainerApi().navigate(n,r):t.canSpaTransition()?t.getNavigationApi().navigate(n):r()},hasContext:function(n,t){if(!n[t]){AJS.error("Missing "+t+" in navigator context");return!1}return!0},appendQueryParam:function(n,t,r){return n+(n.indexOf("?")>-1?"&":"?")+t+"="+encodeURIComponent(r)},getTopmostSameOriginWindow:function(n){function t(n){try{if(null==n.location.href)return!1}catch(n){return!1}return!0}for(var r,e=n;!(r=e,r===r.parent)&&t(e.parent);)e=e.parent;return e}}}));
}catch(e){WRMCB(e)};