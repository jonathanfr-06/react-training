(self._cf=self._cf||[]).push([[8357,97099,35200,71617,41123,13770],{682564:(t,e,n)=>{var r=n(859126),i=n(576083),o=n(143637),s=n(507514),a=n(342009),c=n(200978);t.exports=function(t,e,n,u){var l=-1,p=i,d=!0,h=t.length,f=[],y=e.length;if(!h)return f;n&&(e=s(e,a(n))),u?(p=o,d=!1):e.length>=200&&(p=c,d=!1,e=new r(e));t:for(;++l<h;){var b=t[l],m=null==n?b:n(b);if(b=u||0!==b?b:0,d&&m==m){for(var v=y;v--;)if(e[v]===m)continue t;f.push(b)}else p(e,m,u)||f.push(b)}return f}},635277:(t,e,n)=>{var r=n(682564),i=n(957271),o=n(580320),s=n(658849),a=o((function(t,e){return s(t)?r(t,i(e,1,s,!0)):[]}));t.exports=a},77266:(t,e,n)=>{var r=n(280815);t.exports=function(t,e,n){return null==t?t:r(t,e,n)}},281185:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(659745),o=n(262545),s=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return r(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.Subject);e.AsyncSubject=s},42341:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(659745),o=n(687922),s=function(t){function e(e){t.call(this),this._value=e}return r(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject);e.BehaviorSubject=s},566189:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(659745),o=n(869886),s=n(364552),a=n(262545),c=n(123730),u=function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return r(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.Subscription).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed?(this._connection=null,t=a.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return c.refCount()(this)},e}(o.Observable);e.ConnectableObservable=u;var l=u.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}};var p=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.SubjectSubscriber),d=(function(){function t(t){this.connectable=t}t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new d(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}(),function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(s.Subscriber))},383928:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(334665),o=n(869886),s=n(804721),a=n(620669),c=n(836939),u=function(t){function e(e,n,r){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,i.isNumeric(n)?this.period=Number(n)<1?1:Number(n):a.isScheduler(n)&&(r=n),a.isScheduler(r)||(r=s.async),this.scheduler=r,this.dueTime=c.isDate(e)?+e-this.scheduler.now():e}return r(e,t),e.create=function(t,n,r){return void 0===t&&(t=0),new e(t,n,r)},e.dispatch=function(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}},e.prototype._subscribe=function(t){var n=this,r=n.period,i=n.dueTime;return n.scheduler.schedule(e.dispatch,i,{index:0,period:r,subscriber:t})},e}(o.Observable);e.TimerObservable=u},91099:(t,e,n)=>{"use strict";var r=n(620669),i=n(501271),o=n(138400),s=n(173307);e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length||2===t.length&&r.isScheduler(t[1])?o.from(t[0]):s.concatAll()(i.of.apply(void 0,t))}},597419:(t,e,n)=>{"use strict";var r=n(869886),i=n(484213),o=n(620669),s=n(330511);e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,c=t[t.length-1];return o.isScheduler(c)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof c&&(n=t.pop()),null===a&&1===t.length&&t[0]instanceof r.Observable?t[0]:s.mergeAll(n)(new i.ArrayObservable(t,a))}},501271:(t,e,n)=>{"use strict";var r=n(484213);e.of=r.ArrayObservable.of},909872:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(618658),o=n(484213),s=n(854463),a=n(53771);e.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(1===t.length){if(!i.isArray(t[0]))return t[0];t=t[0]}return new o.ArrayObservable(t).lift(new c)};var c=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new u(t))},t}();e.RaceOperator=c;var u=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return r(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=a.subscribeToResult(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(s.OuterSubscriber);e.RaceSubscriber=u},539776:(t,e,n)=>{"use strict";var r=n(383928);e.timer=r.TimerObservable.create},807940:(t,e,n)=>{"use strict";n(778242).audit,n(588455).auditTime,n(148970).buffer,n(662342).bufferCount,n(649356).bufferTime,n(493345).bufferToggle,n(913421).bufferWhen,n(808697).catchError,n(629320).combineAll,n(426562).combineLatest,n(852946).concat,n(173307).concatAll,n(152222).concatMap,n(964769).concatMapTo,n(812428).count,n(635417).debounce;var r=n(463582);e.bh=r.debounceTime,n(483366).defaultIfEmpty,n(555397).delay,n(68575).delayWhen,n(480723).dematerialize,n(478697).distinct,n(907311).distinctUntilChanged,n(230687).distinctUntilKeyChanged,n(685882).elementAt,n(369467).every,n(555472).exhaust,n(679108).exhaustMap,n(908643).expand,n(460359).filter,n(119233).finalize,n(983064).find,n(55577).findIndex,n(152259).first,n(896430).groupBy,n(85329).ignoreElements,n(2429).isEmpty,n(231156).last,n(37696).map,n(943978).mapTo,n(691151).materialize,n(641663).max,n(595118).merge,n(330511).mergeAll,n(785043).mergeMap,n(785043).mergeMap,n(69103).mergeMapTo,n(330587).mergeScan,n(147548).min,n(899068).multicast,n(678250).observeOn,n(553361).onErrorResumeNext,n(468919).pairwise,n(290641).partition,n(145817).pluck,n(658140).publish,n(94191).publishBehavior,n(875685).publishLast,n(848832).publishReplay,n(725696).race,n(825717).reduce,n(660051).repeat,n(740322).repeatWhen,n(237683).retry,n(921449).retryWhen,n(123730).refCount,n(871634).sample,n(253198).sampleTime,n(65196).scan,n(163616).sequenceEqual,n(62999).share,n(658224).shareReplay,n(721152).single,n(653889).skip,n(894756).skipLast,n(437193).skipUntil,n(812342).skipWhile,n(247828).startWith,n(371326).switchAll,n(456833).switchMap,n(137435).switchMapTo,n(403854).take,n(165093).takeLast,n(734722).takeUntil,n(7754).takeWhile,n(97787).tap,n(62456).throttle,n(310898).throttleTime,n(981298).timeInterval,n(890822).timeout,n(315735).timeoutWith,n(950951).timestamp,n(393029).toArray,n(528951).window,n(494622).windowCount,n(470659).windowTime,n(526577).windowToggle,n(194072).windowWhen,n(573636).withLatestFrom,n(416126).zip,n(735232).zipAll},778242:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(80066),o=n(738856),s=n(854463),a=n(53771);e.audit=function(t){return function(e){return e.lift(new c(t))}};var c=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1}return r(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=i.tryCatch(this.durationSelector)(t);if(e===o.errorObject)this.destination.error(o.errorObject.e);else{var n=a.subscribeToResult(this,e);n.closed?this.clearThrottle():this.add(this.throttled=n)}}},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,r=t.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(s.OuterSubscriber)},588455:(t,e,n)=>{"use strict";var r=n(804721),i=n(778242),o=n(539776);e.auditTime=function(t,e){return void 0===e&&(e=r.async),i.audit((function(){return o.timer(t,e)}))}},148970:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771);e.buffer=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.closingNotifier))},t}(),a=function(t){function e(e,n){t.call(this,e),this.buffer=[],this.add(o.subscribeToResult(this,n))}return r(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(i.OuterSubscriber)},649356:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(804721),o=n(364552),s=n(620669);e.bufferTime=function(t){var e=arguments.length,n=i.async;s.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return e>=3&&(o=arguments[2]),function(e){return e.lift(new a(t,r,o,n))}};var a=function(){function t(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),c=function(){this.buffer=[]},u=function(t){function e(e,n,r,i,o){t.call(this,e),this.bufferTimeSpan=n,this.bufferCreationInterval=r,this.maxBufferSize=i,this.scheduler=o,this.contexts=[];var s=this.openContext();if(this.timespanOnly=null==r||r<0,this.timespanOnly){var a={subscriber:this,context:s,bufferTimeSpan:n};this.add(s.closeAction=o.schedule(l,n,a))}else{var c={subscriber:this,context:s},u={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:this,scheduler:o};this.add(s.closeAction=o.schedule(d,n,c)),this.add(o.schedule(p,r,u))}}return r(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,n=this.destination;e.length>0;){var r=e.shift();n.next(r.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(l,n,r))}},e.prototype.openContext=function(){var t=new c;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(o.Subscriber);function l(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function p(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(d,n,{subscriber:r,context:o})),this.schedule(t,e))}function d(t){var e=t.subscriber,n=t.context;e.closeContext(n)}},493345:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(262545),o=n(53771),s=n(854463);e.bufferToggle=function(t,e){return function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.openings,this.closingSelector))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(o.subscribeToResult(this,n))}return r(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,r=0;r<n;r++)e[r].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(n){this._error(n)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.buffer,r=t.subscription;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=new i.Subscription,r={buffer:[],subscription:n};e.push(r);var s=o.subscribeToResult(this,t,r);!s||s.closed?this.closeBuffer(r):(s.context=r,this.add(s),n.add(s))},e}(s.OuterSubscriber)},913421:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(262545),o=n(80066),s=n(738856),a=n(854463),c=n(53771);e.bufferWhen=function(t){return function(e){return e.lift(new u(t))}};var u=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.closingSelector))},t}(),l=function(t){function e(e,n){t.call(this,e),this.closingSelector=n,this.subscribing=!1,this.openBuffer()}return r(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,n,r,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var n=o.tryCatch(this.closingSelector)();n===s.errorObject?this.error(s.errorObject.e):(t=new i.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(c.subscribeToResult(this,n)),this.subscribing=!1)},e}(a.OuterSubscriber)},808697:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771);e.catchError=function(t){return function(e){var n=new s(t),r=e.lift(n);return n.caught=r}};var s=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.selector,this.caught))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.selector=n,this.caught=r}return r(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(r){return void t.prototype.error.call(this,r)}this._unsubscribeAndRecycle(),this.add(o.subscribeToResult(this,n))}},e}(i.OuterSubscriber)},629320:(t,e,n)=>{"use strict";var r=n(426562);e.combineAll=function(t){return function(e){return e.lift(new r.CombineLatestOperator(t))}}},426562:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(484213),o=n(618658),s=n(854463),a=n(53771),c={};e.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&o.isArray(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(new i.ArrayObservable([e].concat(t)),new u(n))}};var u=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project))},t}();e.CombineLatestOperator=u;var l=function(t){function e(e,n){t.call(this,e),this.project=n,this.active=0,this.values=[],this.observables=[]}return r(e,t),e.prototype._next=function(t){this.values.push(c),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(a.subscribeToResult(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,s=o[n],a=this.toRespond?s===c?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.project?this._tryProject(o):this.destination.next(o.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(s.OuterSubscriber);e.CombineLatestSubscriber=l},852946:(t,e,n)=>{"use strict";var r=n(91099),i=n(91099);e.concatStatic=i.concat,e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(r.concat.apply(void 0,[e].concat(t)))}}},173307:(t,e,n)=>{"use strict";var r=n(330511);e.concatAll=function(){return r.mergeAll(1)}},964769:(t,e,n)=>{"use strict";var r=n(152222);e.concatMapTo=function(t,e){return r.concatMap((function(){return t}),e)}},812428:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.count=function(t){return function(e){return e.lift(new o(t,e))}};var o=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source))},t}(),s=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.source=r,this.count=0,this.index=0}return r(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(i.Subscriber)},635417:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771);e.debounce=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector))},t}(),a=function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1,this.durationSubscription=null}return r(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=o.subscribeToResult(this,e)).closed||this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.OuterSubscriber)},463582:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(804721);e.debounceTime=function(t,e){return void 0===e&&(e=o.async),function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return r(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(i.Subscriber);function c(t){t.debouncedNext()}},483366:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.defaultIfEmpty=function(t){return void 0===t&&(t=null),function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.defaultValue))},t}(),s=function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}return r(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(i.Subscriber)},555397:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(804721),o=n(836939),s=n(364552),a=n(522281);e.delay=function(t,e){void 0===e&&(e=i.async);var n=o.isDate(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new c(n,e))}};var c=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.delay,this.scheduler))},t}(),u=function(t){function e(e,n,r){t.call(this,e),this.delay=n,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return r(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new l(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(a.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(a.Notification.createComplete())},e}(s.Subscriber),l=function(t,e){this.time=t,this.notification=e}},68575:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(869886),s=n(854463),a=n(53771);e.delayWhen=function(t,e){return e?function(n){return new l(n,e).lift(new c(t))}:function(e){return e.lift(new c(t))}};var c=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.delayDurationSelector))},t}(),u=function(t){function e(e,n){t.call(this,e),this.delayDurationSelector=n,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),n=null;return-1!==e&&(n=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),n},e.prototype.tryDelay=function(t,e){var n=a.subscribeToResult(this,t,e);n&&!n.closed&&(this.add(n),this.delayNotifierSubscriptions.push(n)),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(s.OuterSubscriber),l=function(t){function e(e,n){t.call(this),this.source=e,this.subscriptionDelay=n}return r(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new p(t,this.source))},e}(o.Observable),p=function(t){function e(e,n){t.call(this),this.parent=e,this.source=n,this.sourceSubscribed=!1}return r(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(i.Subscriber)},480723:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.dematerialize=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(i.Subscriber)},478697:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771),s=n(531153);e.distinct=function(t,e){return function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.keySelector,this.flushes))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=n,this.values=new s.Set,r&&this.add(o.subscribeToResult(this,r))}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(r){return void n.error(r)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(i.OuterSubscriber);e.DistinctSubscriber=c},907311:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(80066),s=n(738856);e.distinctUntilChanged=function(t,e){return function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compare,this.keySelector))},t}(),c=function(t){function e(e,n,r){t.call(this,e),this.keySelector=r,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}return r(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=o.tryCatch(this.keySelector)(t))===s.errorObject)return this.destination.error(s.errorObject.e);var n=!1;if(this.hasKey){if((n=o.tryCatch(this.compare)(this.key,e))===s.errorObject)return this.destination.error(s.errorObject.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))},e}(i.Subscriber)},230687:(t,e,n)=>{"use strict";var r=n(907311);e.distinctUntilKeyChanged=function(t,e){return r.distinctUntilChanged((function(n,r){return e?e(n[t],r[t]):n[t]===r[t]}))}},685882:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(71898);e.elementAt=function(t,e){return function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){if(this.index=t,this.defaultValue=e,t<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.index,this.defaultValue))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.index=n,this.defaultValue=r}return r(e,t),e.prototype._next=function(t){0==this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&(void 0!==this.defaultValue?t.next(this.defaultValue):t.error(new o.ArgumentOutOfRangeError)),t.complete()},e}(i.Subscriber)},369467:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.every=function(t,e){return function(n){return n.lift(new o(t,e,n))}};var o=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg,this.source))},t}(),s=function(t){function e(e,n,r,i){t.call(this,e),this.predicate=n,this.thisArg=r,this.source=i,this.index=0,this.thisArg=r||this}return r(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},555472:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771);e.exhaust=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return r(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(o.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)},679108:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771);e.exhaustMap=function(t,e){return function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.resultSelector))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return r(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,n=this.destination;try{var r=this.project(t,e);this.hasSubscription=!0,this.add(o.subscribeToResult(this,r,t,e))}catch(i){n.error(i)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.resultSelector,s=this.destination;o?this.trySelectResult(t,e,n,r):s.next(e)},e.prototype.trySelectResult=function(t,e,n,r){var i=this.resultSelector,o=this.destination;try{var s=i(t,e,n,r);o.next(s)}catch(a){o.error(a)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber)},908643:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(80066),o=n(738856),s=n(854463),a=n(53771);e.expand=function(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new c(t,e,n))}};var c=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.concurrent,this.scheduler))},t}();e.ExpandOperator=c;var u=function(t){function e(e,n,r,i){t.call(this,e),this.project=n,this.concurrent=r,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(this.buffer=[])}return r(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,r=t.value,i=t.index;e.subscribeToProjection(n,r,i)},e.prototype._next=function(t){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(t);var s=i.tryCatch(this.project)(t,r);if(s===o.errorObject)n.error(o.errorObject.e);else if(this.scheduler){var a={subscriber:this,result:s,value:t,index:r};this.add(this.scheduler.schedule(e.dispatch,0,a))}else this.subscribeToProjection(s,t,r)}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.add(a.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(s.OuterSubscriber);e.ExpandSubscriber=u},460359:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.filter=function(t,e){return function(n){return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.thisArg=r,this.count=0}return r(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(i.Subscriber)},119233:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(262545);e.finalize=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.callback))},t}(),a=function(t){function e(e,n){t.call(this,e),this.add(new o.Subscription(n))}return r(e,t),e}(i.Subscriber)},983064:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.find=function(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(n){return n.lift(new o(t,n,!1,e))}};var o=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}();e.FindValueOperator=o;var s=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.source=r,this.yieldIndex=i,this.thisArg=o,this.index=0}return r(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this.predicate,n=this.thisArg,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(i.Subscriber);e.FindValueSubscriber=s},55577:(t,e,n)=>{"use strict";var r=n(983064);e.findIndex=function(t,e){return function(n){return n.lift(new r.FindValueOperator(t,n,!0,e))}}},152259:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(100658);e.first=function(t,e,n){return function(r){return r.lift(new s(t,e,n,r))}};var s=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),a=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.index=0,this.hasCompleted=!1,this._emitted=!1}return r(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(r){return void this.destination.error(r)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(r){return void this.destination.error(r)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new o.EmptyError):(t.next(this.defaultValue),t.complete())},e}(i.Subscriber)},896430:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(262545),s=n(869886),a=n(659745),c=n(434259),u=n(222289);e.groupBy=function(t,e,n,r){return function(i){return i.lift(new l(t,e,n,r))}};var l=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),p=function(t){function e(e,n,r,i,o){t.call(this,e),this.keySelector=n,this.elementSelector=r,this.durationSelector=i,this.subjectSelector=o,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return r(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups="string"==typeof e?new u.FastMap:new c.Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(l){this.error(l)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new a.Subject,n.set(e,i);var o=new h(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new h(e,i))}catch(l){return void this.error(l)}this.add(s.subscribe(new d(e,i,this)))}}i.closed||i.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach((function(e,n){e.error(t)})),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.Subscriber),d=function(t){function e(e,n,r){t.call(this,n),this.key=e,this.group=n,this.parent=r}return r(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(i.Subscriber),h=function(t){function e(e,n,r){t.call(this),this.key=e,this.groupSubject=n,this.refCountSubscription=r}return r(e,t),e.prototype._subscribe=function(t){var e=new o.Subscription,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new f(n)),e.add(r.subscribe(t)),e},e}(s.Observable);e.GroupedObservable=h;var f=function(t){function e(e){t.call(this),this.parent=e,e.count++}return r(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.Subscription)},85329:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(64980);e.ignoreElements=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(){t.apply(this,arguments)}return r(e,t),e.prototype._next=function(t){o.noop()},e}(i.Subscriber)},2429:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.isEmpty=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(i.Subscriber)},231156:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(100658);e.last=function(t,e,n){return function(r){return r.lift(new s(t,e,n,r))}};var s=function(){function t(t,e,n,r){this.predicate=t,this.resultSelector=e,this.defaultValue=n,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.resultSelector,this.defaultValue,this.source))},t}(),a=function(t){function e(e,n,r,i,o){t.call(this,e),this.predicate=n,this.resultSelector=r,this.defaultValue=i,this.source=o,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return r(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(r){return void this.destination.error(r)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(r){return void this.destination.error(r)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new o.EmptyError)},e}(i.Subscriber)},943978:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.mapTo=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.value))},t}(),s=function(t){function e(e,n){t.call(this,e),this.value=n}return r(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(i.Subscriber)},691151:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(522281);e.materialize=function(){return function(t){return t.lift(new s)}};var s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype._next=function(t){this.destination.next(o.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(o.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(o.Notification.createComplete()),t.complete()},e}(i.Subscriber)},641663:(t,e,n)=>{"use strict";var r=n(825717);e.max=function(t){var e="function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e};return r.reduce(e)}},595118:(t,e,n)=>{"use strict";var r=n(597419),i=n(597419);e.mergeStatic=i.merge,e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(r.merge.apply(void 0,[e].concat(t)))}}},330511:(t,e,n)=>{"use strict";var r=n(785043),i=n(421577);e.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),r.mergeMap(i.identity,null,t)}},69103:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771);e.mergeMapTo=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"number"==typeof e&&(n=e,e=null),function(r){return r.lift(new s(t,e,n))}};var s=function(){function t(t,e,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.ish=t,this.resultSelector=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.ish,this.resultSelector,this.concurrent))},t}();e.MergeMapToOperator=s;var a=function(t){function e(e,n,r,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=n,this.resultSelector=r,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,n=this.index++,r=this.ish,i=this.destination;this.active++,this._innerSub(r,i,e,t,n)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n,r,i){this.add(o.subscribeToResult(this,t,r,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.resultSelector,s=this.destination;o?this.trySelectResult(t,e,n,r):s.next(e)},e.prototype.trySelectResult=function(t,e,n,r){var i,o=this.resultSelector,s=this.destination;try{i=o(t,e,n,r)}catch(a){return void s.error(a)}s.next(i)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(i.OuterSubscriber);e.MergeMapToSubscriber=a},330587:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(80066),o=n(738856),s=n(53771),a=n(854463);e.mergeScan=function(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new c(t,e,n))}};var c=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.accumulator,this.seed,this.concurrent))},t}();e.MergeScanOperator=c;var u=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this.acc=r,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=i.tryCatch(this.accumulator)(this.acc,t),r=this.destination;n===o.errorObject?r.error(o.errorObject.e):(this.active++,this._innerSub(n,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n){this.add(s.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(a.OuterSubscriber);e.MergeScanSubscriber=u},147548:(t,e,n)=>{"use strict";var r=n(825717);e.min=function(t){var e="function"==typeof t?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e};return r.reduce(e)}},899068:(t,e,n)=>{"use strict";var r=n(566189);e.multicast=function(t,e){return function(n){var o;if(o="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new i(o,e));var s=Object.create(n,r.connectableObservableDescriptor);return s.source=n,s.subjectFactory=o,s}};var i=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}();e.MulticastOperator=i},553361:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(493178),o=n(618658),s=n(854463),a=n(53771);e.onErrorResumeNext=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 1===t.length&&o.isArray(t[0])&&(t=t[0]),function(e){return e.lift(new c(t))}},e.onErrorResumeNextStatic=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n;return 1===t.length&&o.isArray(t[0])&&(t=t[0]),n=t.shift(),new i.FromObservable(n,null).lift(new c(t))};var c=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.nextSources))},t}(),u=function(t){function e(e,n){t.call(this,e),this.destination=e,this.nextSources=n}return r(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(a.subscribeToResult(this,t)):this.destination.complete()},e}(s.OuterSubscriber)},468919:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.pairwise=function(){return function(t){return t.lift(new o)}};var o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return r(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(i.Subscriber)},290641:(t,e,n)=>{"use strict";var r=n(901335),i=n(460359);e.partition=function(t,e){return function(n){return[i.filter(t,e)(n),i.filter(r.not(t,e))(n)]}}},145817:(t,e,n)=>{"use strict";var r=n(37696);e.pluck=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(e){return r.map(function(t,e){var n=function(n){for(var r=n,i=0;i<e;i++){var o=r[t[i]];if(void 0===o)return;r=o}return r};return n}(t,n))(e)}}},658140:(t,e,n)=>{"use strict";var r=n(659745),i=n(899068);e.publish=function(t){return t?i.multicast((function(){return new r.Subject}),t):i.multicast(new r.Subject)}},94191:(t,e,n)=>{"use strict";var r=n(42341),i=n(899068);e.publishBehavior=function(t){return function(e){return i.multicast(new r.BehaviorSubject(t))(e)}}},875685:(t,e,n)=>{"use strict";var r=n(281185),i=n(899068);e.publishLast=function(){return function(t){return i.multicast(new r.AsyncSubject)(t)}}},848832:(t,e,n)=>{"use strict";var r=n(123948),i=n(899068);e.publishReplay=function(t,e,n,o){n&&"function"!=typeof n&&(o=n);var s="function"==typeof n?n:void 0,a=new r.ReplaySubject(t,e,o);return function(t){return i.multicast((function(){return a}),s)(t)}}},725696:(t,e,n)=>{"use strict";var r=n(618658),i=n(909872);e.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return 1===t.length&&r.isArray(t[0])&&(t=t[0]),e.lift.call(i.race.apply(void 0,[e].concat(t)))}}},825717:(t,e,n)=>{"use strict";var r=n(65196),i=n(165093),o=n(483366),s=n(711546);e.reduce=function(t,e){return arguments.length>=2?function(n){return s.pipe(r.scan(t,e),i.takeLast(1),o.defaultIfEmpty(e))(n)}:function(e){return s.pipe(r.scan((function(e,n,r){return t(e,n,r+1)})),i.takeLast(1))(e)}}},123730:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.refCount=function(){return function(t){return t.lift(new o(t))}};var o=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),s=function(t){function e(e,n){t.call(this,e),this.connectable=n}return r(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(i.Subscriber)},660051:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(941799);e.repeat=function(t){return void 0===t&&(t=-1),function(e){return 0===t?new o.EmptyObservable:t<0?e.lift(new s(-1,e)):e.lift(new s(t-1,e))}};var s=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.count,this.source))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.count=n,this.source=r}return r(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,n=this.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(i.Subscriber)},740322:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(659745),o=n(80066),s=n(738856),a=n(854463),c=n(53771);e.repeatWhen=function(t){return function(e){return e.lift(new u(t))}};var u=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.notifier,e))},t}(),l=function(t){function e(e,n,r){t.call(this,e),this.notifier=n,this.source=r,this.sourceIsBeingSubscribedTo=!0}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this,n=e.notifications,r=e.retries,i=e.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,t.prototype._unsubscribeAndRecycle.call(this),this.notifications=n,this.retries=r,this.retriesSubscription=i,this},e.prototype.subscribeToRetries=function(){this.notifications=new i.Subject;var e=o.tryCatch(this.notifier)(this.notifications);if(e===s.errorObject)return t.prototype.complete.call(this);this.retries=e,this.retriesSubscription=c.subscribeToResult(this,e)},e}(a.OuterSubscriber)},237683:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.retry=function(t){return void 0===t&&(t=-1),function(e){return e.lift(new o(t,e))}};var o=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.count,this.source))},t}(),s=function(t){function e(e,n,r){t.call(this,e),this.count=n,this.source=r}return r(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return t.prototype.error.call(this,e);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(i.Subscriber)},921449:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(659745),o=n(80066),s=n(738856),a=n(854463),c=n(53771);e.retryWhen=function(t){return function(e){return e.lift(new u(t,e))}};var u=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.notifier,this.source))},t}(),l=function(t){function e(e,n,r){t.call(this,e),this.notifier=n,this.source=r}return r(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,a=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{if(n=new i.Subject,(r=o.tryCatch(this.notifier)(n))===s.errorObject)return t.prototype.error.call(this,s.errorObject.e);a=c.subscribeToResult(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=a,n.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,n,r,i){var o=this,s=o.errors,a=o.retries,c=o.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=s,this.retries=a,this.retriesSubscription=c,this.source.subscribe(this)},e}(a.OuterSubscriber)},871634:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771);e.sample=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new a(t),r=e.subscribe(n);return r.add(o.subscribeToResult(n,this.notifier)),r},t}(),a=function(t){function e(){t.apply(this,arguments),this.hasValue=!1}return r(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(i.OuterSubscriber)},253198:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(804721);e.sampleTime=function(t,e){return void 0===e&&(e=o.async),function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.period,this.scheduler))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.period=n,this.scheduler=r,this.hasValue=!1,this.add(r.schedule(c,n,{subscriber:this,period:n}))}return r(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(i.Subscriber);function c(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}},65196:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.scan=function(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}};var o=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}(),s=function(t){function e(e,n,r,i){t.call(this,e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}return r(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(i.Subscriber)},163616:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(80066),s=n(738856);e.sequenceEqual=function(t,e){return function(n){return n.lift(new a(t,e))}};var a=function(){function t(t,e){this.compareTo=t,this.comparor=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.compareTo,this.comparor))},t}();e.SequenceEqualOperator=a;var c=function(t){function e(e,n,r){t.call(this,e),this.compareTo=n,this.comparor=r,this._a=[],this._b=[],this._oneComplete=!1,this.add(n.subscribe(new u(e,this)))}return r(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var t=this,e=t._a,n=t._b,r=t.comparor;e.length>0&&n.length>0;){var i=e.shift(),a=n.shift(),c=!1;r?(c=o.tryCatch(r)(i,a))===s.errorObject&&this.destination.error(s.errorObject.e):c=i===a,c||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e}(i.Subscriber);e.SequenceEqualSubscriber=c;var u=function(t){function e(e,n){t.call(this,e),this.parent=n}return r(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t)},e.prototype._complete=function(){this.parent._complete()},e}(i.Subscriber)},62999:(t,e,n)=>{"use strict";var r=n(899068),i=n(123730),o=n(659745);function s(){return new o.Subject}e.share=function(){return function(t){return i.refCount()(r.multicast(s)(t))}}},658224:(t,e,n)=>{"use strict";var r=n(123948);e.shareReplay=function(t,e,n){return function(i){return i.lift(function(t,e,n){var i,o,s=0,a=!1,c=!1;return function(u){s++,i&&!a||(a=!1,i=new r.ReplaySubject(t,e,n),o=u.subscribe({next:function(t){i.next(t)},error:function(t){a=!0,i.error(t)},complete:function(){c=!0,i.complete()}}));var l=i.subscribe(this);return function(){s--,l.unsubscribe(),o&&0===s&&c&&o.unsubscribe()}}}(t,e,n))}}},721152:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(100658);e.single=function(t){return function(e){return e.lift(new s(t,e))}};var s=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.predicate=n,this.source=r,this.seenValue=!1,this.index=0}return r(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new o.EmptyError)},e}(i.Subscriber)},653889:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.skip=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.total))},t}(),s=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return r(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(i.Subscriber)},894756:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(71898);e.skipLast=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new i.Subscriber(t)):e.subscribe(new a(t,this._skipCount))},t}(),a=function(t){function e(e,n){t.call(this,e),this._skipCount=n,this._count=0,this._ring=new Array(n)}return r(e,t),e.prototype._next=function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var r=n%e,i=this._ring,o=i[r];i[r]=t,this.destination.next(o)}},e}(i.Subscriber)},437193:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771);e.skipUntil=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.notifier))},t}(),a=function(t){function e(e,n){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(o.subscribeToResult(this,n))}return r(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(i.OuterSubscriber)},812342:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.skipWhile=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.skipping=!0,this.index=0}return r(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}},e}(i.Subscriber)},247828:(t,e,n)=>{"use strict";var r=n(484213),i=n(762298),o=n(941799),s=n(91099),a=n(620669);e.startWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){var n=t[t.length-1];a.isScheduler(n)?t.pop():n=null;var c=t.length;return 1===c?s.concat(new i.ScalarObservable(t[0],n),e):c>1?s.concat(new r.ArrayObservable(t,n),e):s.concat(new o.EmptyObservable(n),e)}}},371326:(t,e,n)=>{"use strict";var r=n(456833),i=n(421577);e.switchAll=function(){return r.switchMap(i.identity)}},456833:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771);e.switchMap=function(t,e){return function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){this.project=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.resultSelector))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.project=n,this.resultSelector=r,this.index=0}return r(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.resultSelector?this._tryNotifyNext(t,e,n,r):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,r){var i;try{i=this.resultSelector(t,e,n,r)}catch(o){return void this.destination.error(o)}this.destination.next(i)},e}(i.OuterSubscriber)},137435:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771);e.switchMapTo=function(t,e){return function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){this.observable=t,this.resultSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.observable,this.resultSelector))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.inner=n,this.resultSelector=r,this.index=0}return r(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=o.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.resultSelector,s=this.destination;o?this.tryResultSelector(t,e,n,r):s.next(e)},e.prototype.tryResultSelector=function(t,e,n,r){var i,o=this.resultSelector,s=this.destination;try{i=o(t,e,n,r)}catch(a){return void s.error(a)}s.next(i)},e}(i.OuterSubscriber)},403854:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(71898),s=n(941799);e.take=function(t){return function(e){return 0===t?new s.EmptyObservable:e.lift(new a(t))}};var a=function(){function t(t){if(this.total=t,this.total<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}return r(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.Subscriber)},165093:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(71898),s=n(941799);e.takeLast=function(t){return function(e){return 0===t?new s.EmptyObservable:e.lift(new a(t))}};var a=function(){function t(t){if(this.total=t,this.total<0)throw new o.ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}return r(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(i.Subscriber)},734722:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771);e.takeUntil=function(t){return function(e){return e.lift(new s(t))}};var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.notifier))},t}(),a=function(t){function e(e,n){t.call(this,e),this.notifier=n,this.add(o.subscribeToResult(this,n))}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.complete()},e.prototype.notifyComplete=function(){},e}(i.OuterSubscriber)},7754:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552);e.takeWhile=function(t){return function(e){return e.lift(new o(t))}};var o=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate))},t}(),s=function(t){function e(e,n){t.call(this,e),this.predicate=n,this.index=0}return r(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):n.complete()},e}(i.Subscriber)},62456:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771);e.defaultThrottleConfig={leading:!0,trailing:!1},e.throttle=function(t,n){return void 0===n&&(n=e.defaultThrottleConfig),function(e){return e.lift(new s(t,n.leading,n.trailing))}};var s=function(){function t(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.durationSelector,this.leading,this.trailing))},t}(),a=function(t){function e(e,n,r,i){t.call(this,e),this.destination=e,this.durationSelector=n,this._leading=r,this._trailing=i,this._hasTrailingValue=!1}return r(e,t),e.prototype._next=function(t){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t);else{var e=this.tryDurationSelector(t);e&&this.add(this.throttled=o.subscribeToResult(this,e)),this._leading&&(this.destination.next(t),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t))}},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}},e.prototype._unsubscribe=function(){var t=this,e=t.throttled;t._trailingValue,t._hasTrailingValue,t._trailing;this._trailingValue=null,this._hasTrailingValue=!1,e&&(this.remove(e),this.throttled=null,e.unsubscribe())},e.prototype._sendTrailing=function(){var t=this,e=t.destination,n=t.throttled,r=t._trailing,i=t._trailingValue,o=t._hasTrailingValue;n&&r&&o&&(e.next(i),this._trailingValue=null,this._hasTrailingValue=!1)},e.prototype.notifyNext=function(t,e,n,r,i){this._sendTrailing(),this._unsubscribe()},e.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},e}(i.OuterSubscriber)},310898:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(804721),s=n(62456);e.throttleTime=function(t,e,n){return void 0===e&&(e=o.async),void 0===n&&(n=s.defaultThrottleConfig),function(r){return r.lift(new a(t,e,n.leading,n.trailing))}};var a=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),c=function(t){function e(e,n,r,i,o){t.call(this,e),this.duration=n,this.scheduler=r,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}return r(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(u,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(i.Subscriber);function u(t){t.subscriber.clearThrottle()}},981298:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(804721);e.timeInterval=function(t){return void 0===t&&(t=o.async),function(e){return e.lift(new a(t))}};var s=function(t,e){this.value=t,this.interval=e};e.TimeInterval=s;var a=function(){function t(t){this.scheduler=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler))},t}(),c=function(t){function e(e,n){t.call(this,e),this.scheduler=n,this.lastTime=0,this.lastTime=n.now()}return r(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),n=e-this.lastTime;this.lastTime=e,this.destination.next(new s(t,n))},e}(i.Subscriber)},890822:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(804721),o=n(836939),s=n(364552),a=n(739115);e.timeout=function(t,e){void 0===e&&(e=i.async);var n=o.isDate(t),r=n?+t-e.now():Math.abs(t);return function(t){return t.lift(new c(r,n,e,new a.TimeoutError))}};var c=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.scheduler=n,this.errorInstance=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.absoluteTimeout=n,this.waitFor=r,this.scheduler=i,this.errorInstance=o,this.action=null,this.scheduleTimeout()}return r(e,t),e.dispatchTimeout=function(t){t.error(t.errorInstance)},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},e}(s.Subscriber)},315735:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(804721),o=n(836939),s=n(854463),a=n(53771);e.timeoutWith=function(t,e,n){return void 0===n&&(n=i.async),function(r){var i=o.isDate(t),s=i?+t-n.now():Math.abs(t);return r.lift(new c(s,i,e,n))}};var c=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),u=function(t){function e(e,n,r,i,o){t.call(this,e),this.absoluteTimeout=n,this.waitFor=r,this.withObservable=i,this.scheduler=o,this.action=null,this.scheduleTimeout()}return r(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(a.subscribeToResult(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(s.OuterSubscriber)},950951:(t,e,n)=>{"use strict";var r=n(804721),i=n(37696);e.timestamp=function(t){return void 0===t&&(t=r.async),i.map((function(e){return new o(e,t.now())}))};var o=function(t,e){this.value=t,this.timestamp=e};e.Timestamp=o},393029:(t,e,n)=>{"use strict";var r=n(825717);function i(t,e,n){return 0===n?[e]:(t.push(e),t)}e.toArray=function(){return r.reduce(i,[])}},528951:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(659745),o=n(854463),s=n(53771);e.window=function(t){return function(e){return e.lift(new a(t))}};var a=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var n=new c(t),r=e.subscribe(n);return r.closed||n.add(s.subscribeToResult(n,this.windowBoundaries)),r},t}(),c=function(t){function e(e){t.call(this,e),this.window=new i.Subject,e.next(this.window)}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new i.Subject;e.next(n)},e}(o.OuterSubscriber)},494622:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(364552),o=n(659745);e.windowCount=function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new s(t,e))}};var s=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.windowSize,this.startWindowEvery))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.destination=e,this.windowSize=n,this.startWindowEvery=r,this.windows=[new o.Subject],this.count=0,e.next(this.windows[0])}return r(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,s=i.length,a=0;a<s&&!this.closed;a++)i[a].next(t);var c=this.count-r+1;if(c>=0&&c%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var u=new o.Subject;i.push(u),n.next(u)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(i.Subscriber)},470659:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(659745),o=n(804721),s=n(364552),a=n(334665),c=n(620669);e.windowTime=function(t){var e=o.async,n=null,r=Number.POSITIVE_INFINITY;return c.isScheduler(arguments[3])&&(e=arguments[3]),c.isScheduler(arguments[2])?e=arguments[2]:a.isNumeric(arguments[2])&&(r=arguments[2]),c.isScheduler(arguments[1])?e=arguments[1]:a.isNumeric(arguments[1])&&(n=arguments[1]),function(i){return i.lift(new u(t,n,r,e))}};var u=function(){function t(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),l=function(t){function e(){t.apply(this,arguments),this._numberOfNextedValues=0}return r(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(i.Subject),p=function(t){function e(e,n,r,i,o){t.call(this,e),this.destination=e,this.windowTimeSpan=n,this.windowCreationInterval=r,this.maxWindowSize=i,this.scheduler=o,this.windows=[];var s=this.openWindow();if(null!==r&&r>=0){var a={subscriber:this,window:s,context:null},c={windowTimeSpan:n,windowCreationInterval:r,subscriber:this,scheduler:o};this.add(o.schedule(f,n,a)),this.add(o.schedule(h,r,c))}else{var u={subscriber:this,window:s,windowTimeSpan:n};this.add(o.schedule(d,n,u))}}return r(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,r=0;r<n;r++){var i=e[r];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new l;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(s.Subscriber);function d(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function h(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o=n.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:n,window:o,context:a};a.subscription=r.schedule(f,e,c),s.add(a.subscription),s.schedule(t,i)}function f(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}},526577:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(659745),o=n(262545),s=n(80066),a=n(738856),c=n(854463),u=n(53771);e.windowToggle=function(t,e){return function(n){return n.lift(new l(t,e))}};var l=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.openings,this.closingSelector))},t}(),p=function(t){function e(e,n,r){t.call(this,e),this.openings=n,this.closingSelector=r,this.contexts=[],this.add(this.openSubscription=u.subscribeToResult(this,n,n))}return r(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,r=0;r<n;r++)e[r].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,r=-1;++r<n;){var i=e[r];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var r=t[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,r,c){if(t===this.openings){var l=this.closingSelector,p=s.tryCatch(l)(e);if(p===a.errorObject)return this.error(a.errorObject.e);var d=new i.Subject,h=new o.Subscription,f={window:d,subscription:h};this.contexts.push(f);var y=u.subscribeToResult(this,p,f);y.closed?this.closeWindow(this.contexts.length-1):(y.context=f,h.add(y)),this.destination.next(d)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],r=n.window,i=n.subscription;e.splice(t,1),r.complete(),i.unsubscribe()}},e}(c.OuterSubscriber)},194072:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(659745),o=n(80066),s=n(738856),a=n(854463),c=n(53771);e.windowWhen=function(t){return function(e){return e.lift(new u(t))}};var u=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.closingSelector))},t}(),l=function(t){function e(e,n){t.call(this,e),this.destination=e,this.closingSelector=n,this.openWindow()}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n=this.window=new i.Subject;this.destination.next(n);var r=o.tryCatch(this.closingSelector)();if(r===s.errorObject){var a=s.errorObject.e;this.destination.error(a),this.window.error(a)}else this.add(this.closingNotification=c.subscribeToResult(this,r))},e}(a.OuterSubscriber)},573636:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(854463),o=n(53771);e.withLatestFrom=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return e.lift(new s(r,n))}};var s=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.observables,this.project))},t}(),a=function(t){function e(e,n,r){t.call(this,e),this.observables=n,this.project=r,this.toRespond=[];var i=n.length;this.values=new Array(i);for(var s=0;s<i;s++)this.toRespond.push(s);for(s=0;s<i;s++){var a=n[s];this.add(o.subscribeToResult(this,a,a,s))}}return r(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.OuterSubscriber)},416126:function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},i=n(484213),o=n(618658),s=n(364552),a=n(854463),c=n(53771),u=n(345318);function l(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),new i.ArrayObservable(t).lift(new p(n))}e.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return function(e){return e.lift.call(l.apply(void 0,[e].concat(t)))}},e.zipStatic=l;var p=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.project))},t}();e.ZipOperator=p;var d=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof n?n:null,this.values=r}return r(e,t),e.prototype._next=function(t){var e=this.iterators;o.isArray(t)?e.push(new f(t)):"function"==typeof t[u.iterator]?e.push(new h(t[u.iterator]())):e.push(new y(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<e;r++){var s,a=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.project?this._tryProject(o):n.next(o),i&&n.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(s.Subscriber);e.ZipSubscriber=d;var h=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),f=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[u.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),y=function(t){function e(e,n,r){t.call(this,e),this.parent=n,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return r(e,t),e.prototype[u.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return c.subscribeToResult(this,this.observable,this,e)},e}(a.OuterSubscriber)},735232:(t,e,n)=>{"use strict";var r=n(416126);e.zipAll=function(t){return function(e){return e.lift(new r.ZipOperator(t))}}},804721:(t,e,n)=>{"use strict";var r=n(957694),i=n(953835);e.async=new i.AsyncScheduler(r.AsyncAction)},71898:function(t,e){"use strict";var n=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},r=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);e.ArgumentOutOfRangeError=r},100658:function(t,e){"use strict";var n=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},r=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);e.EmptyError=r},222289:(t,e)=>{"use strict";var n=function(){function t(){this.values={}}return t.prototype.delete=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var n=this.values;for(var r in n)n.hasOwnProperty(r)&&null!==n[r]&&t.call(e,n[r],r)},t.prototype.clear=function(){this.values={}},t}();e.FastMap=n},434259:(t,e,n)=>{"use strict";var r=n(508962),i=n(832929);e.Map=r.root.Map||i.MapPolyfill},832929:(t,e)=>{"use strict";var n=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?void 0:this._values[e]},t.prototype.set=function(t,e){var n=this._keys.indexOf(t);return-1===n?(this._keys.push(t),this._values.push(e),this.size++):this._values[n]=e,this},t.prototype.delete=function(t){var e=this._keys.indexOf(t);return-1!==e&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var n=0;n<this.size;n++)t.call(e,this._values[n],this._keys[n])},t}();e.MapPolyfill=n},531153:(t,e,n)=>{"use strict";var r=n(508962);function i(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return-1!==this._values.indexOf(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}e.minimalSetImpl=i,e.Set=r.root.Set||i()},739115:function(t,e){"use strict";var n=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},r=function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}return n(e,t),e}(Error);e.TimeoutError=r},421577:(t,e)=>{"use strict";e.identity=function(t){return t}},836939:(t,e)=>{"use strict";e.isDate=function(t){return t instanceof Date&&!isNaN(+t)}},334665:(t,e,n)=>{"use strict";var r=n(618658);e.isNumeric=function(t){return!r.isArray(t)&&t-parseFloat(t)+1>=0}},901335:(t,e)=>{"use strict";e.not=function(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}},870797:(t,e,n)=>{"use strict";n.d(e,{M:()=>f});var r=n(615919),i=n(840506),o=n(147760),s=n(678213),a=n(54685),c=n(9019),u=n(740223),l=n(229230),p=n(243578);const d=()=>{},h=(0,i.memo)((({customData:t={},metric:e,onComplete:n=d,stopTime:a,timing:c,augmentCustomDataAfterComplete:h})=>{const f=(0,i.useCallback)((()=>{if(e){let i;n(),i=h?h(t):t,o.n.getPageLoadMetric().mark(`${l.T}:${e.key}`),e.stop({customData:(0,r.Z)((0,r.Z)({},i),{},{previousRoute:p.x.previousRoute,previousContentId:p.x.previousContentId,pageLoadInfo:(0,s.aX)()}),stopTime:a})}}),[e,n]);return(0,u.G)(f,c),null})),f=(0,a.m)({attribution:c.x.BACKBONE})(h)},745869:(t,e,n)=>{"use strict";n.d(e,{T:()=>s});var r=n(840506),i=n(740223);const o=()=>{},s=(0,r.memo)((({markName:t,timing:e,metric:n,onComplete:s=o,timestamp:a})=>{const c=(0,r.useCallback)((()=>{n&&(n.mark(t,a),s())}),[n,s]);return(0,i.G)(c,e),null}))},740223:(t,e,n)=>{"use strict";n.d(e,{G:()=>o,H:()=>i});var r=n(840506);let i=function(t){return t.DEFAULT="DEFAULT",t.PAINT="PAINT",t.RENDER_BODY="RENDER_BODY",t}({});const o=(t,e=i.DEFAULT)=>{e===i.RENDER_BODY&&t(),(0,r.useLayoutEffect)((()=>{if(e===i.PAINT){const e=requestAnimationFrame((()=>{t()}));return()=>{cancelAnimationFrame(e)}}}),[t,e]),(0,r.useEffect)((()=>{e===i.DEFAULT&&t()}),[t,e])}},685766:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});var r=n(756565);const i=async({intl:t,editorActions:e,extensionHandlers:i,createAnalyticsEvent:o,externalToolbarItems:s})=>{const{buildManifest:a}=await Promise.all([n.e(11216),n.e(59418)]).then(n.bind(n,447526));return a({intl:t,editorActions:e,parseNumber:r.p,extensionHandlerWithReference:i,createAnalyticsEvent:o,externalToolbarItems:s||[]})}},756565:(t,e,n)=>{"use strict";n.d(e,{p:()=>r});const r=t=>{t=t.replace(/[,$%]/g,"");const e=Number(t);return Number.isNaN(e)?null:e}},708924:(t,e,n)=>{"use strict";n.d(e,{TQ:()=>p,gD:()=>u,mf:()=>l});var r=n(840506),i=n(784569),o=n(452493),s=n(341700),a=n(937806);const c=r.createContext({contentAppearance:{appearance:a.X.DEFAULT,version:0},setContentAppearance:()=>{},contentAppearanceLoading:!1}),u=({contentId:t,children:e})=>{const[n,u]=(0,r.useState)(!1),[l,p]=(0,r.useState)({appearance:a.X.DEFAULT,version:0}),[{collabEditProvider:d}]=(0,o.cs)();(0,r.useEffect)((()=>{if(!d)return;const t=t=>{var e,n;const r=null==t||null===(e=t.editorWidth)||void 0===e?void 0:e.value,i=null==t||null===(n=t.editorWidth)||void 0===n?void 0:n.version;r&&p((t=>i>t.version?{appearance:r,version:i}:t))};return d.on("metadata:changed",t),()=>{d.off("metadata:changed",t)}}),[d]),(0,r.useEffect)((()=>{(async()=>{u(!0);try{const e=(0,i.WQ)(),n=await(0,s.Ag)(t,a.q.DRAFT,e);p(n)}finally{u(!1)}})()}),[t]);const h=(0,r.useMemo)((()=>({contentAppearance:l,setContentAppearance:p,contentAppearanceLoading:n})),[l,p,n]);return r.createElement(c.Provider,{value:h},e)};u.displayName="ContentAppearanceContextProvider";const l=({children:t})=>t(p()),p=()=>(0,r.useContext)(c)},341123:(t,e,n)=>{"use strict";n.d(e,{Y:()=>K,b:()=>U});var r=n(872342),i=n(615919),o=n(443037),s=n.n(o),a=n(635277),c=n.n(a),u=n(318122),l=n(840506),p=n(486889),d=n(932038),h=n(341700),f=(n(142578),n(627521)),y=n(54685),b=n(9019),m=n(434735),v=(n(702061),n(179640)),g=n(240694),x=n(193795),w=n(686692),_=n(243578),S=n(133494);const E=(0,l.memo)((()=>{var t;const e=!((0,_.W)()&&null!==(t=window)&&void 0!==t&&t.__SSR_RENDERED__);return l.createElement(l.Fragment,null,e&&l.createElement(S.D,{name:"fy21-legacy-fmp"}),l.createElement(S.D,{name:"fy21-legacy-tti"}))}));var C=n(550980),I=n(509145),O=n(534564);const T=({contentId:t,isFabric:e,appearance:n,isFallback:r=!1,fallbackMacros:i=[],revision:o,isRenderTTIMark:s=!1,isAutoConverted:a=!1,lastModifiedDate:c=""})=>{const[,u]=(0,I.b)(),{createAnalyticsEvent:d}=(0,p._)(),h=(0,O.I)();(0,l.useEffect)((()=>{s||null==u||u.onContentRendered()}),[u,s]),(0,l.useEffect)((()=>{if(c){const t=Date.now()-Date.parse(c);t>15e3&&d({type:"sendTrackEvent",data:{action:"viewed",actionSubject:"performanceTrigger",source:"viewPage",attributes:{timeSinceLastPublished:t,isEditInContextEnabled:h}}}).fire()}}),[d,h,c]);const f=!e||s,y=!s;return l.createElement(l.Fragment,null,y&&l.createElement(E,null),f&&l.createElement(C.m,{appearance:n,contentId:t,fabric:e,fallback:Boolean(r),fallbackMacros:i,revision:o,isAutoConverted:a}))};T.displayName="RendererPerformanceMetrics";var P=n(734233),N=n(166258),A=n(578787),$=n(199239);let R=!1;var k=n(940155);const Z=(0,k.tM)({__loadable_id__:"uKJLv",loader:async()=>(await Promise.all([n.e(12705),n.e(54936),n.e(11216),n.e(61769),n.e(14248),n.e(21488),n.e(84185),n.e(32072),n.e(33963),n.e(31382),n.e(42434),n.e(29583),n.e(1244),n.e(90077),n.e(72178),n.e(16215),n.e(82995),n.e(48708),n.e(70289),n.e(31462),n.e(75119),n.e(67616),n.e(33446),n.e(54305),n.e(16314),n.e(42505),n.e(52044),n.e(96400),n.e(84266),n.e(71852),n.e(63681),n.e(61198),n.e(3421),n.e(18213),n.e(78866),n.e(46052),n.e(61730),n.e(15682),n.e(89946),n.e(64937),n.e(60591),n.e(8309),n.e(87500)]).then(n.bind(n,211601))).PageContentRendererFabric,name:"PageContentRendererFabric"}),j=(0,k.tM)({__loadable_id__:"4384G",loader:async()=>(await Promise.all([n.e(11216),n.e(32072),n.e(90077),n.e(16215),n.e(82995),n.e(8309),n.e(41810)]).then(n.bind(n,101667))).PageContentRendererTiny,name:"PageContentRendererTiny"}),M=(0,k.tM)({__loadable_id__:"lgl67",loader:async()=>(await n.e(22401).then(n.bind(n,378775))).PageContentRendererFallback,name:"PageContentRendererFallback"});var F=n(897785);const D="confluence-macro-resources-container";var V=n(608888),L=n(189822);const B=["appearance","contentId","data","error","eventHandlerOverrides","hasInlineComments","isPreviewMode","isSpaceOverview","isTemplateEditorRenderer","queryHash","spaceKey","isArchived","contentStatusError"],W=(0,u.default)((t=>()=>l.createElement(T,(0,i.Z)({},t))),s()),U=(t,e)=>{},q=(0,l.memo)((t=>{var e,n,o,s,a,u;let{appearance:y,contentId:b,data:_,error:S,eventHandlerOverrides:E={},hasInlineComments:C=!0,isPreviewMode:I,isSpaceOverview:O=!1,isTemplateEditorRenderer:T,queryHash:k,spaceKey:U,isArchived:q,contentStatusError:K}=t,z=(0,r.Z)(t,B);const G=Boolean(null==_||null===(e=_.space)||void 0===e||null===(e=e.theme)||void 0===e?void 0:e.themeKey),{markerRefs:H}=(0,m.Q)({pageId:b,shouldFireQuery:Boolean(!1)&&C}),{getLegacyContentExtensions:Q}=(0,l.useContext)(x.w),[Y,J]=(0,l.useState)(null),X=(null==_||null===(n=_.content)||void 0===n||null===(n=n.nodes)||void 0===n?void 0:n[0])||null,tt=(null==X||null===(o=X.body)||void 0===o?void 0:o.dynamic)||null,et=(0,v.T)("confluence.frontend.fixed-page-header"),nt=(0,v.T)("confluence.frontend.disable-tiny-fallback-mode"),{createAnalyticsEvent:rt}=(0,p._)(),it=(0,g.a)();if((({contentBody:t})=>{var e,n,r,i;const o="atlas_doc_format"===(null==t?void 0:t.representation),s=null==t?void 0:t.webresource,a=(null==s||null===(e=s.tags)||void 0===e?void 0:e.css)||"",c=null===(n=(r=(null==s||null===(i=s.tags)||void 0===i?void 0:i.js)||"").replaceAll)||void 0===n?void 0:n.call(r,"&amp;","&"),u=Boolean(a||c);(0,l.useEffect)((()=>(o&&u&&((0,F.wj)(D,a),(0,V.n)().then((()=>{const t=document.getElementById(D);t&&(0,L.K)(t,c)}))),()=>{(0,F.wj)(D,"")})),[u,a,c,o])})({contentBody:tt}),(t=>{const{getQueryParams:e}=(0,l.useContext)(P.M);(0,l.useEffect)((()=>{if(!t)return;const n=e().preview;void 0!==n&&(0,N.N)(["wr!com.atlassian.confluence.plugins.confluence-previews:confluence-previews-jquery"],(()=>{if(R){var t;const e=(0,A.l)("cp/confluence/file-preview-loader");null==e||e.resetPreviewFileList();let r="full";6===(null==n||null===(t=n.split("/"))||void 0===t?void 0:t.length)&&(r="comment"),null==e||e.setupPreviewerForSPA(void 0,void 0,r,"comment"===r)}else(0,$.R)({listener:"useConfluencePreviewsForceLoad",module:"cp/confluence/preview"},(()=>{const t=(0,A.l)("cp/confluence/preview");null==t||t.loadConfluencePreviews(),null==t||t.loadConfluencePreviews(),R=!0}))}),(()=>{}))}),[e,t])})(b),S)return l.createElement(f.X,{error:S});if(!b||!_)return null;const ot=(null==X||null===(s=X.version)||void 0===s?void 0:s.confRev)||"",st="atlas_doc_format"===(null==tt?void 0:tt.representation),at=(null==tt||tt.webresource,null==X||null===(a=X.metadata)||void 0===a?void 0:a.lastModifiedDate);let ct=y;!ct&&X&&(ct=(0,d.Y)((0,h.uS)(X).appearance)),window.performance.mark("CFP-63.next.content-renderer.rendered");const ut=(null==X||null===(u=X.metadata)||void 0===u||null===(u=u.frontend)||void 0===u?void 0:u.macroNamesNotSpaFriendly)||[],lt=()=>l.createElement(j,{contentAppearance:ct,contentBody:tt,contentId:b,getLegacyContentExtensions:Q,markerRefs:H,queryHash:k,renderPerformanceMetrics:W,revision:ot,setRootEl:J,fallbackMacros:ut,lastModifiedDate:at}),pt=()=>Q?l.createElement(M,{contentId:b,queryHash:k,renderPerformanceMetrics:W,revision:ot,getLegacyContentExtensions:Q,fallbackMacros:ut,lastModifiedDate:at}):null;if(st)return l.createElement(Z,(0,i.Z)({content:X,contentAppearance:ct,contentBody:tt,contentId:b,eventHandlerOverrides:E,hasInlineComments:C,isPreviewMode:I,isSpaceOverview:O,isTemplateEditorRenderer:T,markerRefs:H,queryHash:k,renderPerformanceMetrics:W,revision:ot,rootEl:Y,setRootEl:J,spaceKey:U,spaceId:it,isArchived:q,contentStatusError:K,isContentHeaderFixedAtTop:!G&&et},z));const dt=0===c()(ut,["multimedia","style"]).length;if(dt||nt)try{const{CSSForAnalytics:t,contentWithScopedCSS:e}=(0,w.LC)((null==tt?void 0:tt.value)||"");t&&e!==(null==tt?void 0:tt.value)&&rt({type:"sendUIEvent",data:{action:"scoped",actionSubject:"legacyStyleMacro",source:"PageContentRenderer",attributes:{CSSForAnalytics:t}}}).fire(),tt&&(tt.value=e)}catch(S){if(rt({type:"sendUIEvent",data:{action:"error",actionSubject:"legacyStyleMacro",source:"PageContentRenderer",attributes:{error:S,extractedCSS:(0,w.Ip)((null==tt?void 0:tt.value)||"")}}}).fire(),!nt)return pt()}return nt||null!=X&&null!==(ht=X.metadata)&&void 0!==ht&&null!==(ht=ht.frontend)&&void 0!==ht&&ht.spaFriendly||dt?lt():pt();var ht})),K=(0,y.P)({attribution:b.x.BACKBONE})(q);K.displayName="PageContentRenderer"},509145:(t,e,n)=>{"use strict";n.d(e,{b:()=>c,d:()=>a});var r=n(834232),i=n(565008),o=n(944547);const s=(0,r.M)({initialState:{isContentReady:!1,contentLoading:{}},actions:{onContentRendered:()=>({setState:t})=>{t({isContentReady:!0})},addContentToBeLoaded:(t,e)=>({setState:n,getState:r})=>{const i=r().contentLoading;i[t]=e,n({contentLoading:i})},removeContentFromLoading:t=>({setState:e,getState:n})=>{const r=n().contentLoading;r[t]&&delete r[t],e({contentLoading:r})}},name:"isContentReady"}),a=(0,i.f)(s),c=(0,o.Bi)(s)},778248:(t,e,n)=>{"use strict";n.d(e,{l:()=>r});const r=(0,n(840506).createContext)({})},897785:(t,e,n)=>{"use strict";function r(t){let e=t.offsetTop;for(;t.offsetParent;)e+=(t=t.offsetParent).offsetTop;return e}function i(t,e){if(!t)return!1;if(!(e=e||document.scrollingElement||document.body.parentNode))return!1;const n=t.offsetHeight,i=r(t),o=r(e)+e.scrollTop,s=e.offsetHeight;return i>=o&&i+n<=o+s}function o(t){if(!t||t===document)return null;const e=window.getComputedStyle(t);return t.scrollHeight>t.clientHeight&&"hidden"!==t.style.overflow&&"visible"!==e.overflow?t:o(t.parentNode)}function s(t,e){e=e||o(t),t&&e&&!i(t,e)&&(e.scrollTop=r(t)-r(e)-e.clientHeight/2)}function a(t){return t.getBoundingClientRect()}function c(t,e){const n=e?e.documentElement:window.document.documentElement;if(!t||!n)return;const r=t.getBoundingClientRect(),{top:i,bottom:o}=r,s=n.offsetHeight;return 0<=i&&i<s||0<=o&&o<=s||i<=0&&0<=o&&o>=s}function u(t,e){const n=e?e.documentElement:window.document.documentElement;if(!t||!n)return;const r=t.getBoundingClientRect(),{top:i}=r,o=n.offsetHeight;return 0<=i&&i<o}function l(t,e){let n=document.getElementById(t);if(n||(n=document.createElement("div"),n.setAttribute("id",t),n.setAttribute("style","display: none"),document.body.appendChild(n),n=document.getElementById(t)),n&&(n.innerHTML="",e)){const t=document.createRange().createContextualFragment(e);n.appendChild(t)}}n.d(e,{F1:()=>s,Mm:()=>o,PZ:()=>i,Pi:()=>a,U4:()=>r,VX:()=>c,nX:()=>u,wj:()=>l})},155049:(t,e,n)=>{"use strict";n.d(e,{F:()=>o});var r=n(840506),i=n(190206);function o({name:t,attributes:e}){const n=(0,r.useContext)(i.F);return(0,r.useEffect)((()=>n.succeed({name:t,attributes:e})),[t,e,n]),null}},265603:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=(0,n(840506).createContext)({isExternalShareRequest:!1})},410335:(t,e,n)=>{"use strict";n.d(e,{c:()=>l});var r=n(615919),i=n(840506),o=n(708924),s=n(193795),a=n(458237),c=n(487173);const u=t=>{const{contentId:e,spaceKey:n,extensionKey:s,node:a,mode:u,Renderer:l,featureFlags:p,isLivePage:d}=t,{contentAppearance:{appearance:h}}=(0,o.TQ)(),f=(0,i.useMemo)((()=>({targetContentId:t,adf:e,mediaToken:o})=>{const s={contentId:t,spaceKey:n,data:{content:{nodes:[{body:{dynamic:{representation:"atlas_doc_format",value:JSON.stringify({content:e,type:"doc"})}}}]}},appearance:h,hasInlineComments:!1,mediaToken:o,annotationProvider:void 0,allowAnnotations:!1};return i.createElement(l,(0,r.Z)({},s))}),[n,h,l]),y={mode:u,contentId:e,spaceKey:n,extensionKey:s,macroNode:a,RendererWrapper:f,isLegacyRenderer:!0,featureFlags:p,isLivePage:d};return i.createElement(c.s,(0,r.Z)({},y))};u.displayName="ExcerptIncludeExtensionHandlerImpl";const l=t=>{const{getExtensionHandlers:e,populateExtensionProviders:n}=(0,i.useContext)(a.L),c=(0,i.useMemo)((()=>({getExtensionHandlers:e,populateExtensionProviders:n})),[e,n]);return i.createElement(s.w.Provider,{value:c},i.createElement(o.gD,{contentId:t.contentId},i.createElement(u,(0,r.Z)({},t))))};l.displayName="ExcerptIncludeExtensionHandler"},165765:(t,e,n)=>{"use strict";n.d(e,{a:()=>s});var r=n(840506),i=n(925194),o=n(583192);const s=({width:t="auto",height:e="auto",src:n,mode:s,node:a,contentId:c})=>{const u=t=>{const e=(0,i.iQ)(a);return r.createElement(o.M,{name:(0,i.ag)(s,a),contentId:c,mode:s,error:t,attributes:e})};return r.createElement("img",{style:{cursor:"move"},"data-testid":"external-image",width:t,height:e,src:n,onError:u,onLoad:u})};s.displayName="InlineExternalImage"},586856:(t,e,n)=>{"use strict";n.d(e,{i:()=>N});var r=n(615919),i=n(872342),o=n(840506),s=n(944480),a=n(167347),c=n(784569),u=n(925194),l=n(634982),p=n(925192),d=n(190206),h=n(132464);const f=n(779076).ZP`query InlineImageQuery($contentId:ID){content(id:$contentId){nodes{id body{atlas_doc_format{mediaToken{token}}}}}mediaConfiguration{clientId fileStoreUrl}}`;var y=n(747472),b=n(318122),m=n(185015),v=n(727716),g=n(16728),x=n(332072);const w=(0,n(93972).defineMessages)({openLink:{id:"fabric-extension-handlers.inline-image.openLink",defaultMessage:"Open link in a new tab"},imageFailedToLoad:{id:"fabric-extension-handlers.inline-image.imageFailed",defaultMessage:"Image has failed to load"}});const _=(0,n(946972).Z)("div",{target:"e1o6nz150"})({name:"6n7j50",styles:"display:inline;"}),S=o.forwardRef(((t,e)=>o.createElement(_,(0,r.Z)((0,r.Z)({},t),{},{ref:e})))),E=(0,b.default)(((t,e,n)=>({authProvider:()=>Promise.resolve({clientId:t,token:e,baseUrl:n})}))),C=(0,b.default)(((t,e,n)=>({collectionName:t,width:Number(e)||void 0,height:Number(n)||void 0}))),I=(0,b.default)(((t,e)=>({collectionName:t,id:e,mediaItemType:"file"}))),O=({width:t="auto",height:e="auto",id:n,collection:r,clientId:i,token:s,link:a,baseUrl:c})=>{const u=(0,y.Z)();return o.createElement(m.Z,{identifier:I(r,n),mediaClientConfig:E(i,s,c),apiConfig:C(r,t,e)},(({loading:t,error:e,data:n})=>t?null:e||!n?o.createElement(x.Z,{tag:"span",content:u.formatMessage(w.imageFailedToLoad)},o.createElement(v.default,{primaryColor:`var(--ds-text, ${g.q2})`,size:"xlarge",label:u.formatMessage(w.imageFailedToLoad)})):o.createElement(x.Z,{content:u.formatMessage(w.openLink),tag:S,delay:0},o.createElement("a",{href:a},o.createElement("img",{src:n.src,alt:""})))))};O.displayName="InlineImageComponent";const T=["link","id","collection","contentId","mode","extensionKey","node"],P=t=>{var e,n,s;let{link:c,id:d,collection:h,contentId:y,mode:b,extensionKey:m,node:v}=t,g=(0,i.Z)(t,T);const{data:x,loading:w,error:_}=(0,a.aM)(f,{variables:{contentId:y}});if(w)return null;const S=null==x||null===(e=x.content)||void 0===e||null===(e=e.nodes)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.body)||void 0===e||null===(e=e.atlas_doc_format)||void 0===e||null===(e=e.mediaToken)||void 0===e?void 0:e.token,E=null==x||null===(n=x.mediaConfiguration)||void 0===n?void 0:n.clientId,C=null==x||null===(s=x.mediaConfiguration)||void 0===s?void 0:s.fileStoreUrl,I=(0,u.iQ)(v);return o.createElement("div",{"data-testid":"inline-image",style:{display:"inline-block"}},o.createElement(O,(0,r.Z)((0,r.Z)({},g),{},{id:d,collection:h,link:c,token:S,clientId:E,baseUrl:C})),_?o.createElement(l.Z,{name:(0,u.ag)(b,v),contentId:y,extensionKey:m,mode:b,error:_||new Error(`${m} failed to render. InlineImage query data is empty`),attributes:I}):o.createElement(p.N,{name:(0,u.ag)(b,v),contentId:y,extensionKey:m,mode:b,attributes:I}))};P.displayName="InlineImageWithApolloProvider";const N=t=>o.createElement(s.eT,{client:(0,c.WQ)()},o.createElement(d.F.Provider,{value:(0,h.OV)()},o.createElement(P,(0,r.Z)({},t))));N.displayName="InlineImage"},376520:(t,e,n)=>{"use strict";n.d(e,{E:()=>r});const r=(0,n(940155).tM)({__loadable_id__:"eZS_1",name:"InvalidExtensionLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(88408),n.e(63600)]).then(n.bind(n,600442))).InvalidExtension})},861779:(t,e,n)=>{"use strict";n.d(e,{s:()=>h});var r=n(615919),i=n(840506),o=n(524119),s=n(468542),a=n(925194),c=n(13770),u=n(190713),l=n(376520),p=n(165765),d=n(586856);const h=({contentId:t,contextProviders:e})=>(0,o.V)((n=>{if(!n)return null;const{extensionKey:o,parameters:h}=n,{ClassicEditorContextProvider:f=(({children:t})=>t)}=e,y=(0,a.iQ)(n);let b;const m={contentId:t,mode:a.Uw,extensionKey:o,node:n};switch(o){case s.rI.INVALID:const t=h;b=i.createElement(f,null,i.createElement(l.E,(0,r.Z)((0,r.Z)({},t),m)));break;case s.rI.INLINE_EXTERNAL_IMAGE:const e=h;b=i.createElement(p.a,(0,r.Z)((0,r.Z)({},e),m));break;case s.rI.INLINE_MEDIA_IMAGE:const n=h,{link:o}=h;b=i.createElement(d.i,(0,r.Z)((0,r.Z)((0,r.Z)({},n),m),{},{link:o}))}return i.createElement(i.Fragment,null,i.createElement(c.t,{name:(0,a.ag)(a.Uw,n),contentId:t,mode:a.Uw,extensionKey:o,attributes:y,timeout:u.O.MACRO_LOAD}),b)}))},306497:(t,e,n)=>{"use strict";n.d(e,{I:()=>he,x:()=>de});var r=n(568846),i=n(615919),o=n(653260),s=n(465448),a=n(872342);const c=["context"];var u=n(367256);function l(t){return function(t){return"render"===t.type&&!!t.aux&&!!t.state}(t)||function(t){return"result"===t.type&&!!t.forgeDoc&&!!t.state}(t)}function p(t,e){if(!t)return[];const n=t.data.invokeAuxEffects||{},{result:r={}}=n;if(!function(t){return t.success}(n)){var i,o;const t=null===(i=n.errors)||void 0===i?void 0:i[0],s=null==t||null===(o=t.extensions)||void 0===o?void 0:o.statusCode;if(400!==s&&500!==s)return e(null==t?void 0:t.message);if(!r.effects)return e(null==t?void 0:t.message)}return r.effects.every(l)?r.effects:e("received a non-client effect")}var d=n(71825),h=n(1705),f=n(344127);const y="configUserPicker";class b extends Error{constructor(t){super(t),Object.setPrototypeOf(this,b.prototype)}}const m="For this app to display, you need to press the Allow Access button in the\nmacro to allow the app to access Atlassian products on your behalf.";function v(t,e){const n=t.reduce(((t,{props:e})=>{if(e)for(const n of["defaultChecked","defaultSelected"])if(n in e)return[...t,e.value];return t}),[]);return e?n:n[0]}const g=t=>t.map((({props:t,type:e})=>{if(!t)throw new Error(`Props are undefined on ${e}`);return{label:t.label,value:t.value}})),x={TextField:t=>({type:"string",name:t.name,label:t.label,description:t.description,defaultValue:t.defaultValue,isRequired:t.isRequired,isHidden:t.isHidden,placeholder:t.placeholder}),DatePicker:t=>({type:"date",name:t.name,label:t.label,description:t.description,defaultValue:t.defaultValue,isRequired:t.isRequired,placeholder:t.placeholder}),Select:(t,e)=>({type:"enum",name:t.name,label:t.label,description:t.description,isRequired:t.isRequired,style:"select",isMultiple:t.isMulti,placeholder:t.placeholder,items:g(e),defaultValue:v(e,t.isMulti)}),CheckboxGroup:(t,e)=>({type:"enum",name:t.name,label:t.label,description:t.description,isRequired:t.isRequired,style:"checkbox",isMultiple:!0,items:g(e),defaultValue:v(e,!0)}),RadioGroup:(t,e)=>({type:"enum",name:t.name,label:t.label,description:t.description,isRequired:t.isRequired,style:"radio",isMultiple:!1,items:g(e),defaultValue:v(e,!1)}),UserPicker:t=>({type:"user",name:t.name,label:t.label,isMultiple:t.isMulti,isRequired:t.isRequired,options:{provider:{type:y}},placeholder:t.placeholder,description:t.description,defaultValue:t.defaultValue}),TextArea:t=>({type:"string",name:t.name,style:"multiline",label:t.label,placeholder:t.placeholder,description:t.description,isRequired:t.isRequired,defaultValue:t.defaultValue})},w=t=>{const e=t.map((({children:t,props:e,type:n})=>x[n]?x[n](e||{},t):n)),n=e.filter((t=>"string"==typeof t));if(n.length>0)throw new b((t=>{const e=[...new Set(t)];return`${1===e.length?"":`${e.slice(0,-1).join(", ")} and`} ${e.slice(-1)} components are not supported in macro config`})(n));return e};function _(t){for(const{type:e,props:n,children:r}of t.children){if("ErrorPanel"===e&&n){const{error:{errorMessage:t,errorDetails:e}}=n;throw new Error(`${t||e||""}`)}if("ThreeLOPrompt"===e)throw new Error(m);if("MacroConfig"===e)return w(r)}throw new Error("<MacroConfig> must be used at the root")}var S=n(241899),E=n(199009);const C="xen:macro",I="com.atlassian.ecosystem",O="com.atlassian.confluence.macro.core",T="connectAddon",P="bodiedExtension";class N extends S.Z{constructor(t,e,n){super(t),(0,E.Z)(this,"connectExtensionProvider",void 0),(0,E.Z)(this,"sendAnalytics",void 0),this.connectExtensionProvider=e,this.sendAnalytics=n}async getExtension(t,e){try{return await super.getExtension(t,e)}catch(i){var n;if(t===O)if(this.connectExtensionProvider)try{await(await this.connectExtensionProvider).getExtension(t,e)}catch(o){var r;const t=await this.getConnectToForgeExtension(e);if(t)return t;null===(r=this.sendAnalytics)||void 0===r||r.call(this,e,i instanceof Error?i.message:String(i))}else null===(n=this.sendAnalytics)||void 0===n||n.call(this,e,"No connect extension provider");throw i}}async getExtensions(){return super.getExtensions()}async getConnectToForgeExtension(t){return(await this.getExtensions()).find((e=>"connectModuleKey"in e&&Boolean(e.migrationKey)&&e.connectModuleKey===t))}}var A=n(475011),$=n(298105);var R=n(278780),k=n(940957),Z=n(570152),j=n(492516),M=n.n(j);const F=()=>M()(),D="/static/",V=t=>t.substr(8+t.indexOf(D)),L=["guestParams","macroParams"],B={16:()=>n.e(15916).then(n.bind(n,715916)),24:()=>n.e(15916).then(n.bind(n,715916)),48:()=>n.e(15916).then(n.bind(n,715916))},W=new Set,U=t=>K(t),q=async t=>({guestParams:t}),K=({config:t,guestParams:e})=>e||t;function z(t={}){let{guestParams:e={},macroParams:n={}}=t,r=(0,a.Z)(t,L);const o=(0,i.Z)({},e);return Object.entries(n).forEach((([t,e])=>{void 0===o[t]&&e&&"value"in e&&(o[t]=e.value)})),(0,i.Z)({macroParams:n,guestParams:o},r)}async function G({accountId:t,apolloClient:e,cloudId:n,contextIds:r,forgeUIAnalyticsContext:s,metalClientPromise:a,page:c,product:u,analyticsWebClient:l,createRenderFunction:p,startTimeMs:d,destroyMetalClient:b,shouldRenderHostedResources:m,getFieldsDefinitionFunction:v,egressConsentFlowEnabled:g,isConnectToForgeMigrationEnabled:x,isSaveConnectMacroAsForgeEnabled:w,connectExtensionProvider:E,editorActions:j,extensionsFilter:M,dataClassificationTagIds:D}){let L;const{extensions:G,errors:H}=await async function({client:t,contextIds:e,moduleType:n,queryOptions:r,expandAppOwner:i,egressConsentFlowEnabled:o,extensionsFilter:s,dataClassificationTagIds:a}){const c=(0,$.a5)(t,e,r,i,o,s,n,a),u=await t.query(c);return{extensions:(0,$.Ng)(u),errors:u.errors}}({client:e,contextIds:r,moduleType:C,expandAppOwner:!0,egressConsentFlowEnabled:g,extensionsFilter:M,dataClassificationTagIds:D}),Q=G||[],Y=m?Q:Q.filter((t=>!t.properties.resource)),J=j?"editPageScreen":"viewPageScreen";async function X(t,e){const{localId:n,extensionKey:r}=t;if(!(L instanceof N))throw new Error("Connect to Forge macro upgrade: Extension provider must be instanceof ForgeExtensionProvider");const o=await L.getConnectToForgeExtension(r);if(!o||!o.createExtensionProps)throw new Error(`Connect to Forge macro upgrade: No ${o?"createExtensionProps function":"extension manifest"} found`);return new Promise((t=>{e.doc.update(n,(e=>{const n=function(t,e){const{attrs:n}=t;if((null==n?void 0:n.extensionType)===O){const r=null==e?void 0:e.createExtensionProps();return(0,i.Z)((0,i.Z)({},t),{},{attrs:(0,i.Z)((0,i.Z)((0,i.Z)({},n),r.attrs),{},{parameters:(0,i.Z)((0,i.Z)({},z(n.parameters)),r.attrs.parameters)})})}return t}(e,o);return t(n),n}))}))}const tt=async(t,e)=>(async function(t){if(x&&w&&j){const a=j.getSelectedNode(),c=null==a?void 0:a.attrs;if((null==c?void 0:c.extensionType)===O){var e;const{extensionKey:u,localId:p}=c,d=null===(e=c.parameters)||void 0===e||null===(e=e.macroMetadata)||void 0===e||null===(e=e.macroId)||void 0===e?void 0:e.value;if((null==a?void 0:a.type.name)===P)return W.add(d),void(l&&(0,o.qP)(l)((0,i.Z)((0,i.Z)({source:J},s),{},{eventType:h.Ru,action:"h11n_macro_upgrade_rich_text_skipped",actionSubject:T,actionSubjectId:u,attributes:{extensionKey:u,nodeLocalId:p}})));try{var n;if(null==t||null===(n=t.doc)||void 0===n||!n.update)throw new Error("Connect to Forge macro upgrade: Missing ExtensionAPI update action");const e=await X(c,t);if(l){const{localId:t,extensionId:n}=e.attrs.parameters;(0,o.qP)(l)((0,i.Z)((0,i.Z)({source:J},s),{},{eventType:h.s_,action:"h11n_macro_upgrade_success",actionSubject:T,actionSubjectId:u,attributes:(0,i.Z)((0,i.Z)({extensionKey:u},(0,k.a)(n)),{},{localId:t,nodeLocalId:p})}))}}catch(r){throw l&&(0,o.qP)(l)((0,i.Z)((0,i.Z)({source:J},s),{},{eventType:h.Ru,action:"h11n_macro_upgrade_failed",actionSubject:T,actionSubjectId:u,attributes:{errorMessage:r instanceof Error?r.message:String(r),extensionKey:u,nodeLocalId:p}})),r}}}}(e),e.editInContextPanel(U,q)),et={user:{[y]:{provider:async()=>({siteId:n,principalId:t||"Context",fieldId:"forgeConfigUserPicker",productKey:u})}}},nt=Y.filter((({id:t})=>void 0!==(0,A.parse)(t).resourceId)).map((t=>{const{id:e,properties:n,environmentType:r,migrationKey:u,environmentKey:d}=t,y=Xt(n.title||"Forge UI Macro",r,d),b=(0,A.parse)(e).resourceId,m=!!n.resource&&"native"!==n.render,g="native"===t.properties.render,S=!!n.config&&!!n.config.function,E=g?!!n.config:S,C=V(b),O=()=>{const t=F(),r=e;return{type:"inline"!==n.layout||m?"extension":"inlineExtension",attrs:{extensionKey:b,extensionType:I,parameters:{localId:t,extensionId:r,extensionTitle:y},text:y}}},P=async t=>{const{extensionId:e,localId:n}=t,r=K(t),i=`${e}-${n}`,s=new Promise(((t,e)=>{(0,R.j)(`GET_CONFIG_FORGE_DOC_${i}`,{resolve:t,reject:e,config:r})}));try{return _(await s)}catch(u){const{name:t,message:e}=u;throw Promise.resolve(a).then((t=>{t.error.submit({component:"getForgeExtensionProvider",page:c,name:f.catalog.error.COMPONENT_API})})),l&&(0,o.qP)(l)({eventType:h._d,action:"errored",actionSubject:"forgeUIExtension",actionSubjectId:"editorMacro",source:"editPageScreen",attributes:{errorName:t,errorMessage:e}}),new Error(e||"")}};return{title:y,description:n.description,type:I,key:b,icons:B,connectModuleKey:C,migrationKey:u,createExtensionProps:O,modules:{quickInsert:[{key:"forge-macro",action:async()=>{const t=O(),{localId:e,extensionId:n}=t.attrs.parameters;return l&&(0,o.qP)(l)((0,i.Z)((0,i.Z)({eventType:h._d,action:"inserted",actionSubject:"forgeUIExtension",actionSubjectId:"editorMacro",source:"editPageScreen"},s),{},{attributes:(0,i.Z)({localId:e},(0,k.a)(n))})),t}}],nodes:{default:{type:"extension",render:()=>p(t),update:E?tt:void 0,getFieldsDefinition:x?async t=>{if(!t.extensionId){var e;const r=null===(e=t.macroMetadata)||void 0===e||null===(e=e.macroId)||void 0===e?void 0:e.value,a=W.has(r);let c="This macro has been reverted. Please close this panel and try again.",u="Macro reverted";var n;if(w?a&&(c="Editing rich text macros is not currently supported.",u="Editing rich text macro blocked"):(c="Editing this macro is not currently supported.",u="Macro config flag not enabled"),l)(0,o.qP)(l)((0,i.Z)((0,i.Z)({source:J},s),{},{eventType:h.Ru,action:"h11n_macro_config_error",actionSubject:T,actionSubjectId:null===(n=t.macroMetadata)||void 0===n?void 0:n.title,attributes:{errorMessage:u,macroId:r}}));throw new Error(c)}return g&&!S?P(t):v(t)}:g&&!S?P:v}},fields:et}}})),rt={title:"Forge UI Macro",description:"Supports existing Forge UI Macro nodes",type:I,key:"xen:macro",icons:B,modules:{nodes:{default:{type:"extension",render:p,update:tt,getFieldsDefinition:v}},fields:et}},it=performance.now();Promise.resolve(a).then((t=>{if(G&&t.metric.submit({component:"getForgeExtensionProvider",page:c,name:f.catalog.performance.COMPONENT_READY,value:it-d}),!G&&H){const e=H.find((t=>(0,Z.QR)(t)||(0,Z.jP)(t)));t.error.submit({component:"getForgeExtensionProvider",page:c,name:e?(0,Z.QR)(e)?f.catalog.error.COMPONENT_API:f.catalog.error.COMPONENT_GRAPHQL:f.catalog.error.UNCAUGHT})}b()}));const ot=[rt,...nt];return L=x?new N(ot,E,((t,e)=>{l&&(0,o.qP)(l)((0,i.Z)((0,i.Z)({source:J},s),{},{eventType:h.Ru,action:"h11n_macro_resolve_failed",actionSubject:T,actionSubjectId:t,attributes:{errorMessage:e,extensionKey:t}}))})):new S.Z(ot),L}var H=n(840506),Q=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function Y(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(r=t[n],i=e[n],!(r===i||Q(r)&&Q(i)))return!1;var r,i;return!0}var J=Object.prototype.hasOwnProperty;function X(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&X(t[r],e[r]););return-1===r}if(!n||"object"==typeof t){for(n in r=0,t){if(J.call(t,n)&&++r&&!J.call(e,n))return!1;if(!(n in e)||!X(t[n],e[n]))return!1}return Object.keys(e).length===r}}return t!=t&&e!=e}var tt=n(39030),et=n(233006),nt=n(36466),rt=n(382454);const it=(0,H.lazy)((()=>n.e(4239).then(n.bind(n,504239))));class ot extends H.Component{constructor(...t){super(...t),(0,E.Z)(this,"state",{thrownError:void 0})}componentDidCatch(t,e){var n;this.setState({thrownError:{error:t,errorInfo:e}});const{metalClient:r,page:i}=this.props.metalClientContext,o=this.props.environment;(0,nt._b)({error:t,errorExtensionDetails:this.props.extension?{type:this.props.extension.type,environmentType:this.props.extension.environmentType,appOwnerAccountId:null===(n=this.props.extension.appOwner)||void 0===n?void 0:n.accountId,properties:this.props.extension.properties}:void 0,errorInfo:e,page:i,environment:o}),!r||t instanceof u.Hx||Promise.resolve(r).then((t=>{t.error.submit({component:"renderer",page:i,name:f.catalog.error.COMPONENT_BOUNDARY})}))}render(){const{thrownError:t}=this.state;return t?(0,tt.tZ)("div",{"data-testid":"ForgeErrorBoundary",css:tt.iv`
          /* && increases specificity to take precedence over the Editor h1 rules. */
          && {
            h1 {
              /*
               * Reset h1 to match the h500 in SectionMessage.
               */
              ${(0,et.uU)()}
            }
          }
        `},(0,tt.tZ)(it,{appearance:"error",title:"Error rendering app",children:null})):this.props.children}}ot.displayName="ForgeErrorBoundary";const st=(at=ot,({extension:t,children:e})=>{const n=(0,H.useContext)(s.$P),r=(0,H.useContext)(rt.g);return(0,tt.tZ)(at,{environment:n.environment||r,extension:t,metalClientContext:n},e)});var at,ct=n(902013),ut=n(849071),lt=n(2142),pt=n(747472),dt=n(659745),ht=n(807940),ft=n(551495),yt=n(376940),bt=n(37143),mt=n(17401),vt=n(967090),gt=n(401409),xt=n(221513),wt=n(834056),_t=n(898789);const St=["isAutoDismiss"],Et=({showFlag:t,hideFlag:e})=>{if(!t||!e)return{};return{showFlag:e=>{const{isAutoDismiss:n}=e,r=(0,a.Z)(e,St),{type:o,appearance:s,actions:c}=e,u=null!=n?n:"info"===s||"success"===s;return t((0,i.Z)((0,i.Z)({},r),{},{type:null!=s?s:o,actions:null==c?void 0:c.map((({text:t,onClick:e})=>({onClick:()=>e(),content:t}))),customComponent:u?_t.Z:void 0})),!0},closeFlag:({id:t})=>(e(t),!0)}},Ct=(t,e)=>{for(const n in t)if(n in e){if("object"==typeof t[n]&&"object"==typeof e[n])return Ct(t[n],e[n]);if(t[n]!==e[n])return!1}return!0};function It(t){const{akButtonProps:e}=(0,ft.$i)(t);return(0,tt.tZ)("div",{css:tt.iv`
        background-color: ${"var(--ds-background-neutral, white)"};
        width: ${e.shouldFitContainer?"100%":"max-content"};
        border-radius: ${"var(--ds-border-radius, 3px)"};
      `},(0,tt.tZ)(yt.EE,(0,i.Z)({},e)))}It.displayName="NativeButtonWithBackground";const Ot=({accountId:t,apolloClient:e,coreData:n,extensionData:r,environment:o,extension:s,locale:a,extensionTitle:c,flags:u})=>{const{cloudId:l}=n,[p,d]=(0,H.useState)(void 0),h=(0,H.useCallback)((async t=>{}),[]),[f]=(0,H.useState)(new dt.Subject),y=(0,H.useRef)(void 0),b=(0,H.useRef)(void 0);(0,H.useEffect)((()=>{const t=`${s.id}-${n.localId}`,e=(0,R.on)(`GET_CONFIG_FORGE_DOC_${t}`,(async({resolve:t,reject:e,config:n})=>{if(y.current&&!Ct(y.current,n)){const e=f.pipe((0,ht.bh)(200)).subscribe({next:n=>{t({type:"Root",props:{},children:[n]}),e.unsubscribe()}})}else b.current||e("MacroConfig forgeDoc is not defined."),t({type:"Root",props:{},children:[b.current]});y.current=n}));return()=>{e.unsubscribe()}}),[s.id,n.localId,f]);const m=(0,H.useCallback)((n=>(0,i.Z)((0,i.Z)({},n),{},{Button:t=>(0,tt.tZ)(It,(0,i.Z)({},t)),Avatar:(0,bt.iS)({client:e}),AvatarStack:(0,mt.pN)({client:e}),ThreeLOPrompt:(0,vt.Ys)({appName:c}),UserPicker:(0,gt.eV)({client:e,accountId:t,cloudId:l,productKey:"confluence"})})),[e,t,l,c]),{showFlag:v,closeFlag:g}=(0,H.useMemo)((()=>Et(u)),[u]);return(0,tt.tZ)(rt.g.Provider,{value:o},(0,tt.tZ)(xt.Z,{forgeDoc:p,dispatch:h,components:m,extension:s,isNative:!0}),(0,tt.tZ)(wt.lZ,{setForgeDoc:t=>{if("MacroConfig"===t.type)return b.current=t,void f.next(t);d(t)},accountId:t,apolloClient:e,components:m,contextIds:[`ari:cloud:confluence::site/${l}`],extension:s,coreData:n,extensionData:r,locale:a,bridge:{showFlag:v,closeFlag:g}}))};Ot.displayName="UIKitTwoRenderer";var Tt=n(308218),Pt=n(66266),Nt=n(16728),At=n(587499),$t=n(884185);const Rt=["flags"],kt=["size","onTearDown","bridge","extension","closeOnEscape","closeOnOverlayClick","flags"],Zt=t=>{var e;const n={small:"112px",medium:"262px",default:"262px",large:"524px",xlarge:"1048px"},{environment:r,extension:o,extensionData:s}=t,[c,u]=(0,H.useState)({isOpen:!1,opts:{}}),{flags:l}=t,p=(0,a.Z)(t,Rt),{showFlag:d,closeFlag:h}=(0,H.useMemo)((()=>Et(l)),[l]);return(0,tt.tZ)(rt.g.Provider,{value:r},(0,tt.tZ)(Tt.h,(0,i.Z)((0,i.Z)({},p),{},{bridge:{openModal:t=>(u({isOpen:!0,opts:t.data}),!0),showFlag:d,closeFlag:h},height:o.properties.viewportSize?(f=o.properties.viewportSize,n[null!=f?f:"default"]):void 0,isResizable:!0})),c.isOpen&&(0,tt.tZ)(jt,(0,i.Z)((0,i.Z)({},t),{},{extension:(0,i.Z)((0,i.Z)({},o),{},{type:"dynamic-modal",properties:(0,i.Z)((0,i.Z)({},o.properties),{},{resource:null!==(e=c.opts.resource)&&void 0!==e?e:o.properties.resource})}),extensionData:(0,i.Z)((0,i.Z)({},s),c.opts.context?{modal:c.opts.context}:{}),onTearDown:()=>{u((t=>(0,i.Z)((0,i.Z)({},t),{},{isOpen:!1})))},bridge:{onClose:c.opts.onClose},size:c.opts.size,closeOnEscape:c.opts.closeOnEscape,closeOnOverlayClick:c.opts.closeOnOverlayClick})));var f};Zt.displayName="IframeRenderer";const jt=t=>{var e;let{size:n,onTearDown:r,bridge:o,extension:s,closeOnEscape:c,closeOnOverlayClick:u,flags:l}=t,p=(0,a.Z)(t,kt);const[d,h]=(0,H.useState)(!0),f=null!==(e=null!=n?n:s.properties.viewportSize)&&void 0!==e?e:"medium",{height:y,minHeight:b}=(0,Pt.I)(f),m=(t=>"xlarge"===t?"x-large":"max"===t?"100%":t)(f),{showFlag:v,closeFlag:g}=(0,H.useMemo)((()=>Et(l)),[l]);return(0,tt.tZ)(At.Z,null,d&&(0,tt.tZ)($t.Z,{width:m,height:"max"===f?y:void 0,onClose:()=>{null!=o&&o.onClose&&o.onClose(),h(!1)},onCloseComplete:r,testId:"custom-ui-modal-dialog",shouldCloseOnEscapePress:c,shouldCloseOnOverlayClick:u},(0,tt.tZ)("div",{css:tt.iv`
              height: ${y};
              min-height: ${null!=b?b:y};
              background: ${`var(--ds-surface-overlay, ${Nt.N0})`};
              border-radius: ${"var(--ds-border-radius, 3px)"};
              iframe {
                box-shadow: ${`var(--ds-shadow-overlay, 0 0 0 1px ${Nt.kd}, 0 2px 1px ${Nt.kd}, 0 0 20px -6px ${Nt.VG})`};
                border-radius: ${"var(--ds-border-radius, 3px)"};
                height: 100%;
              }
            `},(0,tt.tZ)(Tt.h,(0,i.Z)((0,i.Z)({},p),{},{extension:s,bridge:(0,i.Z)((0,i.Z)({},o),{},{close:t=>(null!=o&&o.onClose&&o.onClose(null==t?void 0:t.data),h(!1),!0),showFlag:v,closeFlag:g}),isResizable:!1})))))};jt.displayName="ModalIframeRenderer";var Mt=n(895016);function Ft(t){const{akButtonProps:e}=(0,yt.UW)(t);return(0,tt.tZ)("div",{css:tt.iv`
        background-color: ${"var(--ds-background-neutral, white)"};
        width: ${e.shouldFitContainer?"100%":"max-content"};
        border-radius: 3px;
      `},(0,tt.tZ)(yt.EE,(0,i.Z)({},e)))}function Dt(t){var e,n;return null!==(e=window)&&void 0!==e&&e.location.href.includes("/wiki/pdf/")&&null!=t&&null!==(n=t.properties)&&void 0!==n&&n.export?"export":""}Ft.displayName="ButtonWithBackground";const Vt=({accountId:t,apolloClient:e,contextIds:n,coreData:r,extension:o,extensionData:s,extensionId:a,extensionTitle:c,temporaryContext:u})=>{const l=Dt(o),{cloudId:p}=r,{config:d}=s,[h,{forgeDoc:f,error:y,loading:b}]=(0,Mt.a6)({apolloClient:e,contextIds:n,extensionId:a,coreData:r,temporaryContext:(0,i.Z)((0,i.Z)({},u),{},{config:d,isConfig:!1}),entryPoint:l}),m=(0,H.useCallback)((t=>h((0,i.Z)((0,i.Z)({},t),{},{extensionData:(0,i.Z)((0,i.Z)((0,i.Z)({},t.extensionData),s),{},{isConfig:!1}),extensionPayload:(0,i.Z)((0,i.Z)({},t.extensionPayload),{},{config:d})}))),[h,d,s]);return(0,H.useEffect)((()=>{m({type:"render",extensionData:{}})}),[m]),(0,tt.tZ)(xt.Z,{forgeDoc:f,loading:b,error:y,dispatch:m,components:n=>(0,i.Z)((0,i.Z)({},n),{},{Button:t=>(0,tt.tZ)(Ft,(0,i.Z)({},t)),Avatar:(0,bt.iS)({client:e}),AvatarStack:(0,mt.pN)({client:e}),ThreeLOPrompt:(0,vt.IV)({appName:c}),UserPicker:(0,gt.eV)({client:e,accountId:t,cloudId:p,productKey:"confluence"})}),extension:o})};Vt.displayName="UIKitOneRenderer";const Lt=(0,lt.ww)();const Bt=({apolloClient:t,contextIds:e,cloudId:n,environment:r,extensionData:o,temporaryContext:s,accountId:a,dataProviders:c,extension:u,isEditing:l,egressConsentFlowEnabled:p,flags:d})=>{var h,f,y;const{localId:b,extension:m,extensionId:v,extensionTitle:g}=u.parameters,x=te(u.parameters),w=Dt(m),_=Boolean(null==m||null===(h=m.properties)||void 0===h?void 0:h.resource),S="native"===(null==m||null===(f=m.properties)||void 0===f?void 0:f.render),E=_&&!S,C="inline"===(null==m||null===(y=m.properties)||void 0===y?void 0:y.layout)&&!E,I={localId:b,cloudId:n},O=function(t){const e=(0,H.useRef)(t);return X(e.current,t)||(e.current=t),e.current}((0,i.Z)((0,i.Z)({},o),{},{config:x})),{locale:T}=(0,pt.Z)();return(0,tt.tZ)("div",{"data-testid":"ForgeExtensionContainer",css:tt.iv`
        background: ${l?"var(--ds-surface, #fff)":"transparent"};
        padding: ${l&&!C?`${Lt}px`:0};
        position: relative;
        display: ${C?"inline-block":"block"};
      `},!w&&_?S?(0,tt.tZ)(Ot,{accountId:a,apolloClient:t,contextIds:e,environment:r,extension:m,coreData:I,extensionData:O,locale:T,extensionTitle:g,flags:d}):(0,tt.tZ)(Zt,{accountId:a,apolloClient:t,contextIds:e,environment:r,extension:m,coreData:I,extensionData:O,egressConsentFlowEnabled:p,locale:T,flags:d}):(0,tt.tZ)(Vt,{accountId:a,apolloClient:t,contextIds:e,coreData:I,extension:m,extensionData:O,extensionId:v,extensionTitle:g,temporaryContext:s}),l&&(0,tt.tZ)("div",{"data-testid":"GlassPane",css:tt.iv`
            background: transparent;
            cursor: not-allowed;
            left: 0;
            position: absolute;
            height: 100%;
            top: 0;
            width: 100%;
            z-index: 1;
          `}))};Bt.displayName="ForgeUIExtensionWrapper";const Wt=t=>{const{extension:e,product:n,environment:r,page:o,analyticsWebClient:s}=t,a=(0,tt.tZ)(st,null,(0,tt.tZ)(Bt,(0,i.Z)({},t)));return(0,tt.tZ)(H.Suspense,{fallback:null},(0,tt.tZ)(ut.f,{analyticsWebClient:s,product:n,environment:r,page:o},e.parameters?(0,tt.tZ)(ct.Z,{localId:e.parameters.localId,extensionId:e.parameters.extensionId},a):a))};Wt.displayName="ForgeUIExtensionWrapperWithBoundary";const Ut=Wt,qt=({accountId:t,apolloClient:e,analyticsWebClient:n,cloudId:r,contextIds:o,environment:s,extension:a,extensionData:c,extensionHandlerWithReference:u,forgeUIAnalyticsContext:l,temporaryContext:p,isEditing:d,page:h,product:f,dataProviders:y,egressConsentFlowEnabled:b,isConnectToForgeMigrationEnabled:m,FlagProvider:v})=>function(t,e){void 0===e&&(e=Y);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var o=t.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}((({node:g,references:x})=>{const w=(0,i.Z)((0,i.Z)({},g),{},{parameters:(0,i.Z)((0,i.Z)({},g.parameters),{},{extensionTitle:null==a?void 0:a.properties.title,extension:a})}),_=(0,i.Z)((0,i.Z)({},c),{},{isEditing:d});if(m){const t=function({macroMetadata:t}){var e;const n=null==t||null===(e=t.macroId)||void 0===e?void 0:e.value,r=null==t?void 0:t.title;if(!n)return;return{macroId:n,title:r}}(g.parameters);t&&(_.connectMetadata=t)}const S=({references:c})=>H.createElement(v,null,(u=>H.createElement(Ut,{analyticsWebClient:n,accountId:t||"",apolloClient:e,cloudId:r,contextIds:o,environment:s,extension:m?Kt(w,a,{analyticsWebClient:n,forgeUIAnalyticsContext:l,isEditing:d}):w,extensionData:(0,i.Z)((0,i.Z)({},_),{},{references:c}),flags:u,temporaryContext:(0,i.Z)((0,i.Z)({},p),{},{extensionContext:{type:"macro",references:c}}),isEditing:d,product:f,dataProviders:y,page:h,egressConsentFlowEnabled:b})));return u?u(g,(({references:t})=>S({node:g,references:t}))):S({node:g,references:x})}),X);function Kt(t,e,n){if(t.extensionType!==O)return t;const{analyticsWebClient:r,forgeUIAnalyticsContext:s,isEditing:a}=n||{},c=a?"editPageScreen":"viewPageScreen",{extensionKey:u}=t;try{var l;if(null==e||!e.id)throw new Error("No Forge extension for patching connect addon");if(t.parameters&&!t.parameters.extensionId&&(t.parameters.extensionId=e.id),null!==(l=t.parameters)&&void 0!==l&&l.macroParams){t.parameters.guestParams=t.parameters.guestParams||{};const e=t.parameters.macroParams;Object.entries(e).forEach((([e,n])=>{void 0===t.parameters.guestParams[e]&&(t.parameters.guestParams[e]=n.value)}))}r&&(0,o.qP)(r)((0,i.Z)((0,i.Z)({source:c},s),{},{eventType:h.Ru,action:"h11n_macro_render_success",actionSubject:T,actionSubjectId:u,attributes:(0,i.Z)((0,i.Z)({extensionKey:u},(0,k.a)(null==e?void 0:e.id)),{},{nodeLocalId:t.localId})}))}catch(p){throw r&&(0,o.qP)(r)((0,i.Z)((0,i.Z)({source:c},s),{},{eventType:h.Ru,action:"h11n_macro_render_failed",actionSubject:T,actionSubjectId:u,attributes:(0,i.Z)((0,i.Z)({extensionKey:u},(0,k.a)(null==e?void 0:e.id)),{},{errorMessage:p instanceof Error?p.message:String(p),nodeLocalId:t.localId})})),p}return t}var zt=n(364633),Gt=n(411420),Ht=n(142807);const Qt=(0,n(93972).defineMessages)({blockedMacroTitle:{id:"xen-editor-provider.app-access-blocked-macro.title",defaultMessage:"An administrator blocked this app"},blockedMacroBodyWithAppName:{id:"xen-editor-provider.app-access-blocked-macro.bodyWithAppName",defaultMessage:"<strong>{extensionName}</strong> has been blocked by your administrator in this space. For any questions, reach out to your organization admin."},blockedMacroBodyWithoutAppName:{id:"xen-editor-provider.app-access-blocked-macro.bodyWithoutAppName",defaultMessage:"<strong>This app</strong> has been blocked by your administrator in this space. For any questions, reach out to your organization admin."},blockedMacroLearnMore:{id:"xen-editor-provider.app-access-blocked-macro.learnMoreAction",defaultMessage:"Learn more about which apps are blocked"}}),Yt=({environment:t,extensionName:e})=>{const n=(0,pt.Z)(),r={strong:t=>H.createElement("strong",null,t)},o=e?n.formatMessage(Qt.blockedMacroBodyWithAppName,(0,i.Z)({extensionName:e},r)):n.formatMessage(Qt.blockedMacroBodyWithoutAppName,(0,i.Z)({},r)),s=t===d.c.PRODUCTION?"https://id.atlassian.com/manage-profile/apps":"https://id.stg.internal.atlassian.com/manage-profile/apps";return H.createElement(zt.Z,{title:n.formatMessage(Qt.blockedMacroTitle),actions:[H.createElement(Gt.Z,{href:s},H.createElement(Ht.Z,(0,i.Z)({},Qt.blockedMacroLearnMore)))]},H.createElement("p",null,o))};Yt.displayName="BlockedMacroSectionMessage";const Jt={DEVELOPMENT:"Development",STAGING:"Staging",PRODUCTION:"Production"},Xt=(t,e=d.pj.PRODUCTION,n)=>e===d.pj.PRODUCTION?t:void 0===n?`${t} (${Jt[e]})`:e===d.pj.DEVELOPMENT&&"default"!==n?`${t} - ${n} (Dev)`:`${t} (${Jt[e]})`,te=({config:t,guestParams:e})=>e||t,ee={showFlag:async()=>({}),hideFlag:async()=>{}},ne=({children:t})=>t(ee);const re=async function({accountId:t,cloudId:e,apolloClient:n,contextIds:r,dataProviders:l,environment:d,product:y,page:m,isEditing:v,analyticsWebClient:g,forgeUIAnalyticsContext:x={},extensionData:w,extensionHandlerWithReference:S,temporaryContext:E,shouldRenderHostedResources:C=!1,egressConsentFlowEnabled:I=!1,isConnectToForgeMigrationEnabled:O=!1,isSaveConnectMacroAsForgeEnabled:T=!1,connectExtensionProvider:P,editorActions:N,FlagProvider:A=ne,extensionsFilter:$,dataClassificationTagIds:R}){const k=performance.now(),[Z,j]=(0,s.vb)(d,y);return await G({accountId:t,apolloClient:n,cloudId:e,contextIds:r,forgeUIAnalyticsContext:x,metalClientPromise:Z,page:m,product:y,analyticsWebClient:g,createRenderFunction:async i=>i&&(t=>{var e;return"xen:macro"===t.type&&"BLOCKED"===(null===(e=t.dataClassificationPolicyDecision)||void 0===e?void 0:e.status)})(i)?(({environment:t,extension:e})=>()=>H.createElement(Yt,{environment:t,extensionName:e.properties.title}))({environment:d,extension:i}):qt({accountId:t,analyticsWebClient:g,cloudId:e,extension:i,extensionData:w,extensionHandlerWithReference:S,forgeUIAnalyticsContext:x,temporaryContext:E,apolloClient:n,contextIds:r,isEditing:Boolean(v),dataProviders:l,environment:d,product:y,page:m,egressConsentFlowEnabled:I,isConnectToForgeMigrationEnabled:O,FlagProvider:A}),startTimeMs:k,destroyMetalClient:j,shouldRenderHostedResources:C,getFieldsDefinitionFunction:async t=>{const{extensionId:s,localId:l}=t,d=te(t);try{const t=function(t,e,n){const{contextIds:r,extensionId:o,localId:s,functionId:u}=t,{context:l}=e,p=(0,a.Z)(e,c);return(0,i.Z)((0,i.Z)({contextIds:r,extensionId:o},u?{entryPoint:u}:{}),{},{payload:(0,i.Z)((0,i.Z)({},p),{},{context:(0,i.Z)((0,i.Z)({},l),{},{extensionData:n,localId:s})})})}({contextIds:r,extensionId:s,localId:l,functionId:"config"},{effects:[{type:"initialize"}],state:{},config:d,context:(0,i.Z)({isConfig:!0,cloudId:e},E)},(0,i.Z)((0,i.Z)({},w),{},{config:d,isConfig:!0})),o=p(await n.mutate({mutation:u.St,variables:{input:t}}),(t=>{throw new u.Hx(t)}))[0];return _("result"===o.type?o.forgeDoc:o.aux)}catch(y){const{name:t,message:e}=y;throw y instanceof b||(Promise.resolve(Z).then((t=>{t.error.submit({component:"getForgeExtensionProvider",page:m,name:f.catalog.error.COMPONENT_API})})),g&&(0,o.qP)(g)({eventType:h._d,action:"errored",actionSubject:"forgeUIExtension",actionSubjectId:"editorMacro",source:"editPageScreen",attributes:{errorName:t,errorMessage:e}})),new Error(e||"")}},egressConsentFlowEnabled:I,isConnectToForgeMigrationEnabled:O,isSaveConnectMacroAsForgeEnabled:T,connectExtensionProvider:P,editorActions:N,extensionsFilter:$,dataClassificationTagIds:R})};var ie=n(515576),oe=n(582258),se=n(419539),ae=n(820283),ce=n(849397),ue=n(256944),le=n(280210),pe=n(244218);const de=async({spaceKey:t,spaceId:e,contentId:n,contentType:i,mentionProvider:o,isEditing:s,connectExtensionProvider:a,editorActions:c})=>{const{cloudId:u,userId:l,featureFlagClient:p,environment:d,featureFlags:h,activationId:f}=await(0,se.g)(),y=null!=l?l:"",b=p.getBooleanValue("confluence.frontend.ecosystem.forge.use.workspace.ari",{default:!1}),m={accountId:y,cloudId:u,apolloClient:(0,ae.$G)(),contextIds:[(0,ie.B)({cloudId:u,activationId:f,isWorkspaceARIEnabled:b})],dataProviders:r.Z.create(o),environment:(0,ae.a)(d),product:"confluence",page:"confluence:macroEditor",isEditing:s,analyticsWebClient:(0,ce.getAnalyticsWebClient)(),forgeUIAnalyticsContext:(0,ae.dN)({objectId:n,objectType:i,containerId:t,containerType:"space"}),extensionData:(0,ae.YQ)({spaceKey:t,spaceId:e,contentId:n}),temporaryContext:(0,ae.Ti)(y,u,n,t,e),shouldRenderHostedResources:!0,egressConsentFlowEnabled:!0,isConnectToForgeMigrationEnabled:p.getBooleanValue(ue.L4,{default:!1}),isSaveConnectMacroAsForgeEnabled:p.getBooleanValue(ue.rA,{default:!1}),connectExtensionProvider:a,editorActions:c,FlagProvider:oe.C,extensionsFilter:void 0};return he({providerOptions:m,featureFlags:h,spaceKey:t})},he=async({providerOptions:t,featureFlags:e,spaceKey:n})=>!(null==e||!e["confluence.frontend.ecosystem.access.narrrowing"])?((t="")=>t?(0,le.I)({query:pe.I,variables:{spaceKey:t,shouldFetchDCT:!0,skip:!t}}):Promise.resolve({data:null,loading:!1,error:null}))(n).then((({data:t,loading:e,error:n})=>{if(!e){var r;return{dataClassificationTags:null==t||null===(r=t.space)||void 0===r?void 0:r.dataClassificationTags,error:n}}})).then((e=>{if(null!=e&&e.error)return re(t);return!!(null!=e&&e.dataClassificationTags&&(null==e?void 0:e.dataClassificationTags.length)>0)&&(t.extensionsFilter=[{type:Z.yN.ExtensionType,value:["xen:macro"]}],t.dataClassificationTagIds=null==e?void 0:e.dataClassificationTags),re(t)})):re(t)},118192:(t,e,n)=>{"use strict";n.d(e,{B:()=>ut,u:()=>lt});var r=n(241899),i=n(685766),o=n(264769),s=n(419539),a=n(468542),c=n(794655),u=n(891340),l=n(743876);var p=n(615919);let d=function(t){return t.int="number",t.percentage="string",t.url="string",t.cql="dynamic-fieldset",t.relativedate="string",t.group="string",t.color="string",t}({});const h={label:{type:"custom",label:"Label",isMultiple:!0,allowDuplicates:!0,isRequired:!0,options:{resolver:{type:"label"}}},text:{type:"string",op:"~",label:"Including text"},contributor:{key:"contributor",type:"custom",label:"Contributor",isMultiple:!0,options:{resolver:{type:"username"}}},creator:{key:"creator",type:"custom",label:"Creator",isMultiple:!0,options:{resolver:{type:"username"}}},mention:{key:"mention",type:"custom",label:"Mentioning",isMultiple:!0,options:{resolver:{type:"username"}}},parent:{type:"custom",label:"With parent",options:{resolver:{type:"confluence-content-by-id"}}},ancestor:{type:"custom",label:"With ancestor",isMultiple:!0,options:{resolver:{type:"confluence-content-by-id"}}},space:{type:"custom",label:"In space",isMultiple:!0,options:{resolver:{type:"spacekey"}}},created:{type:"string",op:">=",label:"Created after",description:"Enter dates as YYYY-MM-DD, or use CQL functions like `now(-1d)` for yesterday."},lastmodified:{type:"string",op:"<=",label:"Last modified",description:"Enter dates as YYYY-MM-DD, or use CQL functions like `now(-1d)` for yesterday."},title:{type:"string",op:"~",label:"With title"},type:{type:"enum",label:"Of type",isMultiple:!1,style:"select",items:[{value:"page",label:"Page"},{value:"blogpost",label:"Blog"},{value:"comment",label:"Comment"},{value:"attachment",label:"Attachment"}]}},f=(t,e,n,r,i)=>{const{pluginKey:o,macroName:s}=r;return t===[o,s,"param",n.name,i].join(".")?e:t},y=(t,e)=>{const n=b(t.type.name),r=((t,e)=>{const{displayName:n,name:r,description:i}=t;return{label:f(n,r,t,e,"label"),name:t.name||"defaultParameterValue",defaultValue:t.defaultValue,description:f(i,"",t,e,"desc"),isMultiple:!!t.multiple,isRequired:!!t.required,isHidden:!!t.hidden}})(t,e);if("custom"===n){return(0,p.Z)((0,p.Z)({},r),{},{type:"custom",options:{resolver:{type:t.type.name}}})}if("cql"===t.type.name){let n=f(t.displayName,t.name,t,e,"label");"cql"===n&&(n="CQL");return{label:n,name:t.name||"defaultParameterValue",fields:Object.keys(h).map((t=>(0,p.Z)({name:t},h[t]))),type:"fieldset",options:{isDynamic:!0,transformer:{type:t.type.name}}}}if("enum"===n){var i;return(0,p.Z)((0,p.Z)({},r),{},{type:"enum",style:"select",defaultValue:null!==(i=r.defaultValue)&&void 0!==i?i:void 0,items:(t.enumValues||[]).map((t=>({label:t,value:t})))})}if("number"===n){var o;return(0,p.Z)((0,p.Z)({},r),{},{type:"number",defaultValue:null!==(o=r.defaultValue)&&void 0!==o?o:void 0})}if("boolean"===n){return(0,p.Z)((0,p.Z)({},r),{},{type:"boolean",isRequired:!1,defaultValue:"string"==typeof r.defaultValue?"false"!==r.defaultValue:!!r.defaultValue})}return(0,p.Z)((0,p.Z)({},r),{},{type:n})},b=t=>(t=>t in d)(t)?d[t]:(t=>/^(enum|string|number|boolean|date)$/.test(t))(t)?t:"custom";var m=n(592615),v=n(584791),g=n(155736),x=n(617703),w=n(301771);const _=t=>async(e,n)=>{const r=[];return r.push((async t=>{const e=Object.entries(t).map((([t,e])=>Array.isArray(e)?e.map((e=>`${t}=${e}`)):`${t}=${e}`)).flat().join("&"),n=await(0,w.y)(`/wiki/json/attachmentsearch.action?${e}`),{attachments:r}=await n.json();return r?r.map((({title:t})=>({label:t,value:t}))):[]})((0,p.Z)((0,p.Z)({},t),{},{title:e}))),n&&r.push(Promise.resolve((Array.isArray(n)?n:[n]).map((t=>({label:t,value:t}))))),(await Promise.all(r)).flat()},S=(t,e)=>{const n=e.contentId;switch(t.macroName){case"viewpdf":return _({pageId:n,fileTypes:["pdf"]});case"viewdoc":return _({pageId:n,fileTypes:["doc","docx"]});case"viewxls":return _({pageId:n,fileTypes:["xls","xlsx"]});case"viewppt":return _({pageId:n,fileTypes:["ppt","pptx"]});default:return _({pageId:n})}};var E=n(779076),C=n(784569);const I=(t=[])=>[].concat(t),O=E.ZP`query SpaceSearch($cql:String!){search(cql:$cql first:25){edges{node{entityType title space{key icon{path}}}}}}`,T=async t=>{const e=(0,C.WQ)();return(await e.query({query:O,variables:{cql:t}})).data.search.edges.map((t=>({label:t.node.title,value:t.node.space.key,icon:`/wiki${t.node.space.icon.path}`})))},P=t=>`"${t}"`,N=t=>`space.key IN (${t.map(P).join(",")})`,A=t=>async(e,n)=>{const r=I(n),i=[];if(e)i.push(((t,e=[])=>T(`type = space AND (space.title ~ "${t}*" OR ${N(e.concat(t))})`))(e,r));else{t&&i.push(Promise.resolve([{label:"Current space",value:"currentSpace()"}]));const e=r.length?` OR ${N(r)}`:"";i.push(T(`type = space AND (space in recentlyViewedSpaces(4) ${e})`))}return(await Promise.all(i)).flat()},$=t=>["create-from-template","pagetree"].indexOf(t.macroName)>-1?A(!1):A(!0);var R=n(505942);const k=t=>t.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),Z=t=>"currentSpace()"===t?t:`"${k(t.toString())}"`,j=t=>{const e=[],n=Object.entries(t).filter((t=>t[1]));return e.push(...n.map((t=>{let[e,n]=t;const r=h[e],i=r.key||e;let o,s="=";return r&&r.op&&(s=r.op),Array.isArray(n)&&1===n.length&&(n=n[0]),Array.isArray(n)?(o=`(${n.map(Z).join(", ")})`,s="IN"):o="number"==typeof n?n.toString():Z(n.toString()),`${i} ${s} ${o}`}))),e.join(" AND ")};function*M(t){if(t.clause&&(yield*M(t.clause)),t.clauses){if("OR"===t.type.toUpperCase()&&1!==t.clauses.length)throw new SyntaxError("cannot handle multiple OR clauses");for(const e of t.clauses)yield*M(e)}"expr"===t.nodeType&&(yield t)}const F=t=>{if(null==t)return{};const e=(0,R.parse)(t),n=Array.from(M(e)),r={};return n.forEach((t=>{r[t.field]=t.value})),r},D=E.ZP`query UserSearch($cql:String!){searchUser(cql:$cql first:25){edges{node{user{displayName accountId profilePicture{path}}}}}}`,V=t=>`type = user AND (user.fullname ~ "${t}*" OR user = "${t}")`,L=async t=>{const e=(0,C.WQ)();return(await e.query({query:D,variables:{cql:t}})).data.searchUser.edges.map((t=>({label:t.node.user.displayName,value:t.node.user.accountId,icon:t.node.user.profilePicture.path})))},B=async(t,e)=>{const n=[];return t&&n.push(L(V(t))),e&&(Array.isArray(e)?n.push(L(`user IN (${e.map((t=>`"${k(t)}"`)).join(", ")})`)):n.push(L(V(e)))),(await Promise.all(n)).flat()},W=E.ZP`query LabelSearch($searchTerm:String!){labelSearch(searchText:$searchTerm limit:25){otherLabels{label}suggestedLabels{label}}}`,U=t=>t.map((t=>({label:t.label,value:t.label}))),q=async(t,e)=>{const n=[];return t&&n.push((async t=>{const e=(0,C.WQ)(),{data:{labelSearch:n}}=await e.query({query:W,variables:{searchTerm:t}});return[...U(n.suggestedLabels),...U(n.otherLabels)]})(t)),e&&(Array.isArray(e)?n.push(Promise.resolve(e.map((t=>({label:t,value:t}))))):n.push(Promise.resolve([{label:e,value:e}]))),(await Promise.all(n)).flat()},K=async t=>(0,w.y)(`/wiki/rest/api/search?limit=10&expand=content.container.icon&cql=${t}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>t.results.map((t=>({label:t.content.title,value:t.content.id,icon:`/wiki${t.content.container.icon.path}`,description:t.content.container.name}))))),z=async(t,e,n)=>{const r=[],i=n&&n.type||"page, blogpost",o=I(e),s=o.length?"OR "+`id IN (${o.join(",")})`:"";return t?r.push(K(`type IN (${i}) AND title ~ "${t}*" ${s}`)):r.push(K(`type IN (${i}) AND id in recentlyViewedContent(5) ${s}`)),(await Promise.all(r)).flat()},G=t=>async(e,n)=>{const r=await t(e,n),i=new Map;return r.filter((({value:t})=>{const e=i.has(t);return i.set(t,!0),!e}))},H=A(!0),Q=G((async(t,e)=>{let n,r;"string"==typeof e&&(e=e.split(",")),e&&e.length>0&&(n=e.filter((t=>!(0,x.r5)(t))),n=n.length?n:void 0,r=e.filter(x.r5),r=r.length?r:void 0);return[await H(t,n),await z(t,r,{type:"page"})].flat()})),Y=async t=>(0,w.y)(`/wiki/rest/prototype/1/search/name.json?max-results=10&pageSize=10&type=page,blogpost&query=${encodeURIComponent(t)}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>{const e=[];return t.group.forEach((t=>e.push(...t.result.map((t=>({label:t.title,value:`${t.space.key}:${t.title}`,description:t.space.title})))))),e})),J=()=>G((async(t,e)=>{const n=[];return t&&n.push(Y(t)),e&&("string"==typeof e||Array.isArray(e))&&("string"==typeof e&&(e=e.split(",")),e.forEach((t=>{const e=t.split(":"),r=e[e.length-1];n.push(Y(r))}))),(await Promise.all(n)).flat()})),X=async t=>{const e=await(0,w.y)(`/wiki/rest/calendar-services/1.0/calendar/util/format/subcalendar/ids.json?subCalendarIds=${t.join("%2C")}`);return(await e.json()).map((({name:t,id:e})=>({label:t,value:e})))},tt=async(t,e)=>{const n=[];return t&&n.push((async t=>{const e=await(0,w.y)(`/wiki/rest/calendar-services/1.0/calendar/search/subcalendars.json?term=${t}&limit=25&showSubCalendarsInView=true`),n=await e.json();return n.success?n.payload.map((({subCalendar:{name:t,spaceName:e,id:n}})=>({label:t,description:e,value:n}))):[]})(t)),e&&(Array.isArray(e)?n.push(X(e)):n.push(X([e]))),(await Promise.all(n)).flat()};var et=n(721737);const nt=({resolver:t,values:e})=>{const n=t=>-1===e.indexOf(t);return async(r,i)=>{Array.isArray(i)?i=i.filter(n):n(i)||(i="");const o=await t(r,i);return o.push(...e.map((t=>({label:t,value:t})))),o}};var rt=n(895146);const it=t=>async(e,n)=>{const r=[{label:t.formatMessage(rt.$7.fullLabel),value:"100%"},{label:t.formatMessage(rt.$7.threeQuartersLabel),value:"75%"},{label:t.formatMessage(rt.$7.halfLabel),value:"50%"},{label:t.formatMessage(rt.$7.quarterLabel),value:"25%"}];return n&&"string"==typeof n&&!Object.values(r).map((t=>t.value)).includes(n)&&r.push({label:n,value:n}),e?Promise.resolve(r.filter((t=>-1!==t.value.indexOf(e)))):Promise.resolve(r)};function ot(t){return fetch("/wiki/plugins/macrobrowser/browse-macros.action?detailed=true&origin=extension-provider"+(t?`&spaceKey=${t}`:""),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then((t=>t.json()))}const st=async function({spaceKey:t}={spaceKey:void 0}){if(t){var e;const n=(e=window).__EXTENSION_MANIFEST_SPACEAWARE__||(e.__EXTENSION_MANIFEST_SPACEAWARE__={});return n[t]||(n[t]=ot(t)),n[t]}return window.__EXTENSION_MANIFEST__||(window.__EXTENSION_MANIFEST__=ot()),window.__EXTENSION_MANIFEST__},at=async(t,e,n,r,i,o,c,l,p,d,h,f,y)=>{const{featureFlagClient:b}=await(0,s.g)(),m=(0,u.uS)(),v=b["confluence.frontend.hide.extension.placeholder"];return t.map((t=>ct(a.UE.MACRO_CORE,t,e,n,!m(t),i,o,c,l,p,d,v,h,f,y))).concat(r(e.contentId,!!p,l))},ct=(t,e,n,r,i,s,c,u,p,d,h,f,b,w,_)=>{const E=e.macroName,C=!!d,{enabled:I,optedOut:O}=n.features.configPanel||{},T=(0,g.Jw)(e),P={type:T,render:()=>{const i=r[t];return Promise.resolve((t=>{if("create-from-template"===t.node.extensionKey){var r;const e=null===(r=t.node.parameters)||void 0===r?void 0:r.macroParams;null!=e&&e.spaceKey||(e.spaceKey={value:n.spaceKey}),null!=e&&e.templateName||(e.templateName=e.contentBlueprintId)}const o=(0,g.pq)(e,O,t.node,C,f);return!I&&C||!o?I&&C&&!(0,g.JR)(e)?(0,v.rr)(e,(0,g.Jw)(e)):"function"==typeof i?i(t.node,{references:t.references,actions:t.actions}):i.render(t.node,{references:t.references,actions:t.actions}):(0,v.V_)(e,t.node,C)}))}};if(!i&&((0,g.Rs)(e).length>0||(0,g.RB)(e,O))){const t=async(t,r)=>{var i;let o;T===a.x9&&(o=(0,x.qJ)(d));const c=await(0,g.TD)({name:e.macroName,params:(0,l.LW)(t.macroParams)},n.contentId,o),u=(0,l.I)(t.macroParams||{});if(u){var f;const t=null===(f=c.attrs)||void 0===f||null===(f=f.parameters)||void 0===f?void 0:f.macroParams;t&&(t[""]=u)}const y={createAnalyticsEvent:h,contentId:n.contentId},b=await s(c,p,undefined,y,(t=>{var e;o=(0,x.qJ)(d),r.doc.update(null===(e=o)||void 0===e||null===(e=e.attrs)||void 0===e?void 0:e.localId,(()=>({attrs:t.attrs,marks:t.marks,content:t.content})))}));if(T!==a.x9||null==r||null===(i=r.doc)||void 0===i||!i.update)return b.attrs.parameters||{};var m;r.doc.update(null===(m=o)||void 0===m||null===(m=m.attrs)||void 0===m?void 0:m.localId,(()=>({attrs:b.attrs,marks:b.marks,content:b.content})))};let r;P.update=(i,s)=>{const a=t=>(r=(0,l.LW)(t.macroParams),(0,m.fF)("transformBefore",e,r,n,_,h)),c=async t=>{const r=(0,m.fF)("transformAfter",e,t,n,_,h),i={name:e.macroName,params:r},s=(0,l.I)(r);s&&(i.defaultParameterValue=s);const a=await(0,g.TD)(i,n.contentId);return a.attrs.parameters&&(a.attrs.parameters.macroMetadata||(a.attrs.parameters.macroMetadata={}),a.attrs.parameters.macroMetadata.macroId||(a.attrs.parameters.macroMetadata.macroId={value:(0,o.or)(a.attrs.parameters)})),a.attrs.parameters||{}};return!I||(0,g.RB)(e,O)?t(i,s):new Promise((()=>{s.editInContextPanel(a,c)}))},(0,g.Rs)(e).length>0&&(P.getFieldsDefinition=()=>{const t=e.formDetails.parameters.map((t=>y(t,{pluginKey:e.pluginKey,macroName:(0,g.GP)(e)})));return(0,m.Fh)(e,t,n,u,r,_,h)})}return{type:t,key:E,title:e.title,description:e.description,icons:(0,g.ib)(e,_),documentationUrl:e.formDetails.documentationUrl||void 0,modules:{quickInsert:!i&&d?(0,x.jX)(e,n,c,u,p,d,h,b,w,_):[],nodes:{default:P},fields:{custom:{attachment:{resolver:S(e,n)},spacekey:{resolver:$(e)},username:{resolver:B},label:{resolver:q},"confluence-content-by-id":{resolver:z},"confluence-content":{resolver:(N=J(),async(t,e)=>{const n=await N(t,e);return e?[].concat(e).filter((t=>!n.find((({value:e})=>e===t)))).map((t=>({label:t,value:t}))).concat(n):n})},spaceAndPage:{resolver:Q},spaceKeyAndPageTitleContent:{resolver:J()},rootPage:{resolver:nt({resolver:J(),values:["@self","@home"]})},calendar:{resolver:tt},template:{resolver:(0,et.v)(n)},blogRecentlyUpdatedSpace:{resolver:nt({resolver:A(!1),values:["@self","@personal","@global","@favorite","@favourite","@all","*"]})},widthPercentage:{resolver:it(u)}},fieldset:{cql:{serializer:j,deserializer:F}}}}};var N},ut=async(t,e,i,o,s,a,u,l,p,d=!1,h,f,y)=>{const[b,m]=await Promise.all([st(t),(0,c.J)(o)]);let v=await at(b.macros,t,e,s,a,u,l,o,i,p,h,f,y);v=v.filter((t=>"toc"!==t.key));const g=b.macros.find((t=>"toc"===t.macroName)),{tableOfContentsExtension:x}=await Promise.all([n.e(12705),n.e(54936),n.e(61769),n.e(33963),n.e(18213),n.e(78866),n.e(23822)]).then(n.bind(n,965701)),w=x({macro:g,pageContext:t,extensionHandlers:e,openMacroBrowserForInitialConfiguration:u,macroBrowserConfig:o,editorActions:i,createAnalyticsEvent:p,intl:l,isWysiwygTocEnabled:d,onCompleteCallback:h});return v.push(w),new r.Z(v,[t=>{const e=m(t);if(e)return e}])},lt=async(t,e,o,s,c,u,l)=>{const p=(0,i.v)({intl:u,extensionHandlers:e[a.UE.MACRO_WITH_REFERENCES],createAnalyticsEvent:l}),d=await st(t),h=await at(d.macros,t,e,o,s,c,u);return h.push(function(t){return{title:"Redacted Macro Placeholder",key:a.rI.REDACTED_MACRO_PLACEHOLDER,type:a.UE.MACRO_CORE,icons:{48:async()=>n.e(54083).then(n.bind(n,916553))},modules:{nodes:{default:{type:"extension",render:async()=>({node:e})=>{const n=t[a.UE.MACRO_CORE];return"function"==typeof n?n(e,null):null}}}}}}(e)),p&&h.push(await p),new r.Z(h)}},820283:(t,e,n)=>{"use strict";n.d(e,{$G:()=>u,Ti:()=>l,YQ:()=>p,a:()=>h,dN:()=>d});var r=n(865331),i=n(578059),o=n(553914),s=n(71825),a=n(301771);let c;const u=()=>c||(c=new r.fe({connectToDevTools:!1,link:new i.u({credentials:"include",uri:"/gateway/api/graphql",fetch:a.y}),cache:new o.h4}),c),l=(t,e,n,r,i)=>({accountId:t,cloudId:e,contentId:n,spaceKey:r,spaceId:i}),p=({contentId:t,spaceKey:e,spaceId:n})=>({type:"macro",content:{id:t},space:{key:e,id:n}});function d({objectId:t,objectType:e,containerId:n,containerType:r}){return{objectId:t,objectType:e||void 0,containerId:n||void 0,containerType:r}}function h(t){return"localhost"===window.location.hostname?s.c.DEVELOPMENT:"STAGING"===t?s.c.STAGING:"PRODUCTION"===t?s.c.PRODUCTION:s.c.DEVELOPMENT}},323612:(t,e,n)=>{"use strict";n.d(e,{E:()=>s});var r=n(199009),i=n(822464),o=n(419903);class s extends i.W2{constructor(t){super(),(0,r.Z)(this,"exitAnimationTimer",void 0),(0,r.Z)(this,"delayedAnimationTimer",void 0),(0,r.Z)(this,"timeoutTimer",void 0),(0,r.Z)(this,"recentlyReset",!1),(0,r.Z)(this,"isStarting",!1),(0,r.Z)(this,"isStopping",!1),(0,r.Z)(this,"prevMatch",null),(0,r.Z)(this,"isRunning",(()=>("START"===this.state.status||this.isStarting)&&!this.isStopping)),(0,r.Z)(this,"isDelayed",(()=>"DELAYED"===this.state.status)),(0,r.Z)(this,"hasStarted",(()=>this.isRunning()||this.isDelayed())),(0,r.Z)(this,"isStartable",(()=>"RESET"===this.state.status||"SSR"===this.state.status||this.recentlyReset)),(0,r.Z)(this,"getStatus",(()=>this.state.status)),(0,r.Z)(this,"getDuration",(()=>this.state.duration||o.Zy)),(0,r.Z)(this,"start",((t=o.Zy,e=o.Nt)=>{this.isStartable()&&(this.recentlyReset=!1,this.isStarting=!0,this.delayedAnimationTimer=setTimeout((()=>{this.isRunning()&&this.setState({status:"DELAYED"})}),t),this.timeoutTimer=setTimeout((()=>{this.isDelayed()&&this.reset()}),e),this.setState({status:"START",duration:t},(()=>{this.isStarting=!1})))})),(0,r.Z)(this,"finish",(()=>{(this.isRunning()||this.isDelayed())&&(this.isStopping=!0,this.isDelayed()?this.reset():this.setState({status:"FINISH"},(()=>{this.isStopping=!1})),this.exitAnimationTimer=setTimeout((()=>{this.reset()}),o.jT))})),(0,r.Z)(this,"reset",(()=>{clearTimeout(this.exitAnimationTimer),clearTimeout(this.delayedAnimationTimer),clearTimeout(this.timeoutTimer),this.setState({status:"RESET"}),this.recentlyReset=!0,this.isStopping=!1})),this.state={status:t?t.status:window.__SSR_RENDERED__?"SSR":"RESET",duration:t&&t.duration||o.Zy}}}},419903:(t,e,n)=>{"use strict";n.d(e,{Nt:()=>c,Zy:()=>a,ec:()=>s,jT:()=>u,t9:()=>i,y1:()=>o});var r=n(16728);const i="global-progress-bar",o=`var(--ds-background-brand-bold, ${r.AX})`,s=300,a=6e3,c=2e4,u=s+50},963399:(t,e,n)=>{"use strict";n.d(e,{E:()=>r});const r=n(779076).ZP`query InlineHighlightsQuery($pageId:ID!){comments(pageId:$pageId type:UNRESOLVED depth:ROOT first:1000){nodes{id location{...on InlineComment{type inlineMarkerRef}}replies{id}}}}`},434735:(t,e,n)=>{"use strict";n.d(e,{Q:()=>o});var r=n(167347),i=n(963399);const o=({pageId:t,shouldFireQuery:e=!0})=>{var n;const{data:o,loading:s}=(0,r.aM)(i.E,{variables:{pageId:t},skip:!Boolean(e)});let a=[],c={};const u=null==o||null===(n=o.comments)||void 0===n?void 0:n.nodes;return u&&Array.isArray(u)&&(c=u.reduce(((t,e)=>{var n;if(!e)return t;const{inlineMarkerRef:r}=e.location;return r?(t[null==e?void 0:e.id]=r,null==e||null===(n=e.replies)||void 0===n||n.forEach((e=>{if(e){const{id:n}=e;t[n]=r}})),t):t}),{}),a=[...new Set(Object.values(c))]),{markerRefs:a,markerRefMap:c,loading:s}}},198300:(t,e,n)=>{"use strict";n.d(e,{C:()=>r,e:()=>i});const r="live",i="live-pages-store"},881584:(t,e,n)=>{"use strict";n.d(e,{U:()=>r,q:()=>i});const r="confluence.frontend.livepages.enable",i="confluence.frontend.livepages.liveview"},273155:(t,e,n)=>{"use strict";n.d(e,{N:()=>o});var r=n(170560),i=n(410941);const o=()=>{const t=(0,r.k)(),[e]=(0,i.d)();return t&&e.isLive}},170560:(t,e,n)=>{"use strict";n.d(e,{k:()=>o});var r=n(179640),i=n(881584);const o=()=>(0,r.T)(i.U)},410941:(t,e,n)=>{"use strict";n.d(e,{d:()=>c});var r=n(944547),i=n(834232),o=n(198300);const s={setIsLive:t=>({setState:e})=>{e({isLive:t})}},a=(0,i.M)({initialState:{isLive:!1},actions:s,name:o.e}),c=(0,r.Bi)(a)},925194:(t,e,n)=>{"use strict";n.d(e,{SY:()=>M,Sx:()=>v,U7:()=>T,Uw:()=>b,_B:()=>y,ag:()=>F,e7:()=>O,g5:()=>m,iQ:()=>C,uD:()=>j});var r=n(872342),i=n(615919),o=n(318122),s=n(400318),a=n(190713),c=n(132464),u=n(243928),l=n(852156),p=n(849397),d=n(678213),h=n(264769);const f=["action","name","attributes"],y="renderer",b="editor",m="pdf",v="confluence.frontend.macro.analytics.tracker",g="taskSuccess",x="taskFail",w="taskAbort",_="taskStart",S=t=>t.split(".").slice(1).join("."),E=(t=new Map)=>{const e=[];for(const n of t.values()){const{name:t}=n;if(t!==s.Gvd){const r=(0,i.Z)({uniqueHash:S(t)},I(n));e.push(r)}}return e},C=t=>{var e,n,r;return{type:(null!=(r=t)?r.type:r)||"",macroId:(0,h.or)(null!=(n=t)?n.parameters:n),extensionKey:(0,h.U)(t),extensionType:(null!=(e=t)?e.extensionType:e)||""}},I=t=>{var e,n,r,i,o,s,a;return{extensionKey:(0,h.U)(null!=(a=t)?a.experienceAttributes:a),extensionType:(null!=(s=t)&&null!=(s=s.experienceAttributes)?s.extensionType:s)||"",type:(null!=(o=t)&&null!=(o=o.experienceAttributes)?o.type:o)||"",macroId:(null!=(i=t)&&null!=(i=i.experienceAttributes)?i.macroId:i)||"",duration:(null!=(r=t)?r.duration:r)||"",status:(null!=(n=t)?n.status:n)||"",pageId:(null!=(e=t)?e.pageId:e)||""}},O=(t,e)=>{Z(t,e).has(e)||M(t,e).start({attributes:{mode:t},name:s.Gvd,timeout:a.O.MACRO_LOAD,id:e})},T=(t,e)=>{const n=Z(t,e);if(n.has(e)){if(P(n)){const e={mode:t,macros:null};N(n)&&(e.macros=E(n)),(0,c.OV)().succeed({name:s.Gvd,attributes:(0,i.Z)({},e)})}else(0,c.OV)().abort({name:s.Gvd,reason:`Some macro aborted before completion in ${a.O.MACRO_LOAD}ms`,attributes:{macros:E(n),mode:t}});$(n).forEach((e=>{const n=(0,h.U)(e.experienceAttributes),r=e.status;(0,p.getAnalyticsWebClient)().then((o=>{o.sendOperationalEvent({source:"ui",actionSubject:"macroTracker",action:r,attributes:(0,i.Z)((0,i.Z)({},e.experienceAttributes),{},{extensionKey:n,mode:t,task:`${s.HJi}`})})}))})),n.clear(),k.set(`${t}.${e}`,n)}},P=(t=new Map)=>{if(0===t.size)return!0;for(const e of t.values())if(e.name!==s.Gvd&&e.status!==g)return!1;return!0},N=(t=new Map)=>{for(const e of t.values())if(e.name!==s.Gvd)return!0;return!1},A=t=>t.includes(h.o$),$=t=>{const e=[];for(const n of t.values())A(n.name)&&e.push(n);return e},R=(t,e)=>{!function n(){setTimeout((()=>{const r=Z(e,t);if(!r.has(t))return;const o=r.get(t),u=Math.round(window.performance.now()-o.startTime)>a.O.MACRO_LOAD;if(P(r)&&N(r))(0,c.OV)().succeed({name:s.Gvd,attributes:{macros:E(r),mode:e}});else if(u){if(N(r)){(0,c.OV)().abort({name:s.Gvd,reason:`Some macro aborted before completion in ${a.O.MACRO_LOAD}ms`,attributes:{macros:E(r),mode:e}});(t=>{const e=[];for(const n of t.values())A(n.name)&&n.status!==g&&e.push(n);return e})(r).forEach((t=>{const n=(0,h.U)(t.experienceAttributes);(0,p.getAnalyticsWebClient)().then((r=>{r.sendOperationalEvent({source:"ui",actionSubject:"macroTracker",action:"taskAbort",attributes:(0,i.Z)((0,i.Z)({},t.experienceAttributes),{},{extensionKey:n,mode:e,task:`${s.HJi}`,reason:`JIRA macro aborted before completion in ${a.O.MACRO_LOAD}ms`})})}))}))}else(0,c.OV)().succeed({name:s.Gvd,attributes:{mode:e}});r.clear(),k.set(`${e}.${t}`,r)}else n()}),2e3)}()},k=new Map,Z=(t,e)=>(k.has(`${t}.${e}`)||k.set(`${t}.${e}`,new Map),k.get(`${t}.${e}`)),j=(t,e,n,r)=>{var o;const c=Z(t,e),l=null!=(o=r)?o.macroId:o;if(c.has(l)&&A(n)){const e=(0,h.U)(r),{status:n}=c.get(l);if(n===g){const{duration:n}=c.get(l);(0,p.getAnalyticsWebClient)().then((o=>{o.sendOperationalEvent({source:"ui",actionSubject:"macroTracker",action:"taskSuccess",attributes:(0,i.Z)((0,i.Z)({},r),{},{extensionKey:e,mode:t,duration:n,task:`${s.HJi}`,pageLoadInfo:(0,d.aX)()})})}))}else if(n===w){const{duration:n}=c.get(l);(0,p.getAnalyticsWebClient)().then((o=>{o.sendOperationalEvent({source:"ui",actionSubject:"macroTracker",action:"taskAbort",attributes:(0,i.Z)((0,i.Z)({},r),{},{extensionKey:e,mode:t,duration:n,task:`${s.HJi}`,reason:`JIRA macro aborted before completion in ${a.O.MACRO_LOAD}ms`})})}))}else if(n===x){const{duration:n}=c.get(l);(0,p.getAnalyticsWebClient)().then((o=>{o.sendOperationalEvent({source:"ui",actionSubject:"macroTracker",action:"taskFail",attributes:(0,i.Z)((0,i.Z)({},r),{},{extensionKey:e,mode:t,duration:n,task:`${s.HJi}`,error:new u.t(`JIRA macro failed to complete in ${a.O.MACRO_LOAD}ms`)})})}))}}},M=(0,o.default)(((t,e)=>{const n=new l.D,o=Z(t,e);return n.subscribe((n=>{var u;const{action:l,name:y,attributes:b}=n,m=(0,r.Z)(n,f),v=null!=(u=b)?u.macroId:u;if(l===_){const n=o.get(v);if(n&&n.id===v)return;y===s.Gvd?o.has(e)||(o.clear(),(0,c.OV)().start({name:s.Gvd,timeout:a.O.MACRO_LOAD,id:e,attributes:{mode:t}}),o.set(e,(0,i.Z)({status:_,name:y,mode:t},m)),k.set(`${t}.${e}`,o)):(o.set(v,(0,i.Z)({status:_,name:y,experienceAttributes:(0,i.Z)((0,i.Z)({},b),{},{extensionKey:(0,h.U)(b)}),pageId:e,mode:t},m)),((t,e,n,r)=>{if(A(n)){const n=(0,h.U)(r);(0,p.getAnalyticsWebClient)().then((o=>{o.sendOperationalEvent({source:"ui",actionSubject:"macroTracker",action:"taskStart",attributes:(0,i.Z)((0,i.Z)({},r),{},{extensionKey:n,mode:t,pageId:e,task:`${s.HJi}`,pageLoadInfo:(0,d.aX)()})})}))}})(t,e,y,b))}else if(l===g){if(!o.has(v))return;const{duration:r,name:s}=n;o.set(v,(0,i.Z)((0,i.Z)({},o.get(v)),{},{id:v,name:s,mode:t,status:g,duration:r,pageId:e})),k.set(`${t}.${e}`,o),j(t,e,s,b)}else if(l===w){if(!o.has(v))return;const{duration:r,reason:a,name:u}=n;o.set(v,(0,i.Z)((0,i.Z)({},o.get(v)),{},{id:v,name:u,mode:t,status:w,duration:r,pageId:e,reason:a})),k.set(`${t}.${e}`,o),(0,c.OV)().abort({name:s.Gvd,reason:"Macro abort loading",attributes:{macros:E(o),mode:t}}),j(t,e,u,b)}else if(l==x){if(!o.has(v))return;const{duration:r,error:a,name:u}=n;o.set(v,(0,i.Z)((0,i.Z)({},o.get(v)),{},{id:v,name:u,mode:t,status:x,duration:r,pageId:e,error:a})),k.set(`${t}.${e}`,o),(0,c.OV)().fail({name:s.Gvd,error:a,attributes:{macros:E(o),mode:t}}),j(t,e,u,b)}R(e,t)})),n})),F=(t,e)=>{const n=C(e);return`${t}.${(0,h.U)(n)}.${n.macroId}`}},634982:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(179640),i=n(137253),o=n(925194);function s({attributes:t,children:e=null,contentId:n,extensionKey:s,error:a,mode:c,name:u}){const l=(0,r.T)(o.Sx);return(0,i.K)((()=>{l&&(0,o.SY)(c,n).fail({name:u,attributes:t,error:a})}),[t,n,s,a,l,c,u]),e}},13770:(t,e,n)=>{"use strict";n.d(e,{t:()=>s});var r=n(179640),i=n(137253),o=n(925194);function s({attributes:t,children:e=null,contentId:n,extensionKey:s,mode:a,name:c,timeout:u}){const l=(0,r.T)(o.Sx);return(0,i.K)((()=>{var e;l&&(0,o.SY)(a,n).start({attributes:t,name:c,timeout:u,id:(null!=(e=t)?e.macroId:e)||n})}),[t,n,s,l,a,c,u]),e}},264769:(t,e,n)=>{"use strict";n.d(e,{U:()=>c,o$:()=>s,or:()=>a});var r=n(492516),i=n.n(r),o=n(293413);const s="jira",a=t=>{var e;if(!t)return i()();const n=null!=(e=t)&&null!=(e=e.macroMetadata)&&null!=(e=e.macroId)?e.value:e;return n||(0,o.S)(t)},c=t=>{var e;if(!t)return"";const{extensionKey:n}=t,r=null!=(e=t)&&null!=(e=e.parameters)?e.macroParams:e;return n===s?`${n}${u(r)}`:n},u=t=>{var e,n,r,i;return"true"===(null!=(i=t)&&null!=(i=i.count)?i.value:i)?"-issue-count":(null!=(r=t)?r.columns:r)&&(null!=(n=t)?n.maximumIssues:n)?"-table-view":(null!=(e=t)&&null!=(e=e.key)?e.value:e)?"-single-issue":""}},137253:(t,e,n)=>{"use strict";n.d(e,{K:()=>s});var r=n(840506),i=n(443037),o=n.n(i);function s(t,e){(0,r.useEffect)(t,function(t){const e=(0,r.useRef)();o()(t,e.current)||(e.current=t);return e.current}(e))}},452493:(t,e,n)=>{"use strict";n.d(e,{Cs:()=>d,Dp:()=>h,cs:()=>p});var r=n(615919),i=n(494263),o=n.n(i),s=n(834232),a=n(565008),c=n(944547);const u={setCollabEditProvider:t=>({setState:e})=>{e({collabEditProvider:t})},setCollabEditInitialized:t=>({setState:e})=>{e({collabEditInitialized:t})},setHasInitialDraft:t=>({setState:e})=>{e({hasInitialDraft:t})},setIsDraftSyncPending:t=>({setState:e})=>{e({isDraftSyncPending:t})},setCollabEditConnected:t=>({setState:e})=>{e({collabEditConnected:t})},resetNativeCollabState:()=>({setState:t})=>{t({collabEditProvider:null,collabEditInitialized:!1,hasInitialDraft:!1,isDraftSyncPending:!1,collabEditConnected:!1})}},l=(0,s.M)({initialState:(0,r.Z)({},{collabEditProvider:null,collabEditInitialized:!1,hasInitialDraft:!1,isDraftSyncPending:!1,collabEditConnected:!1}),actions:u,name:"nativeCollabState"}),p=((0,a.f)(l,{onInit:()=>async({dispatch:t},{initialCollabState:e})=>{(null==e?void 0:e.collabEditProvider)&&t(u.setCollabEditProvider(null==e?void 0:e.collabEditProvider)),(null==e?void 0:e.collabEditInitialized)&&t(u.setCollabEditInitialized(null==e?void 0:e.collabEditInitialized)),(null==e?void 0:e.hasInitialDraft)&&t(u.setHasInitialDraft(null==e?void 0:e.hasInitialDraft)),(null==e?void 0:e.isDraftSyncPending)&&t(u.setIsDraftSyncPending(null==e?void 0:e.isDraftSyncPending)),(null==e?void 0:e.collabEditConnected)&&t(u.setCollabEditConnected(null==e?void 0:e.collabEditConnected))}}),(0,c.Bi)(l,{selector:t=>o()(t,"collabEditProvider","collabEditInitialized","hasInitialDraft")})),d=(0,c.Bi)(l,{selector:t=>o()(t,"isDraftSyncPending")}),h=(0,c.Bi)(l,{selector:t=>o()(t,"collabEditConnected")})},293413:(t,e,n)=>{"use strict";n.d(e,{S:()=>u});var r=n(740450),i=n.n(r),o=n(278811),s=n.n(o);let a;const c=t=>null===t?"null":Array.isArray(t)?`[${t.map((t=>c(t))).join(",")}]`:"object"==typeof t?u(t):"string"==typeof t?`"${t}"`:`${t.toString()}`,u=t=>{a||(a=s()());const e=`${Object.entries(t).filter((([t,e])=>void 0!==e)).sort(((t,e)=>t[0].localeCompare(e[0]))).map((([t,e])=>`${t}:${c(e)}`)).join()},${a}`;return i()(e)}},924431:(t,e,n)=>{"use strict";n.d(e,{Ux:()=>o,VP:()=>i,iq:()=>r,q4:()=>a,z7:()=>s});const r={EDITOR_ONBOARDING_ELIGIBLE_NEW:"editor-state:editorOnboardingEligiblity",EDITOR_VISITED:"editor-state:editorVisited",WAS_DRAFT_BANNER_SEEN:"editor-state:wasDraftBannerSeen",IS_DRAFT_BANNER_VISIBLE:"editor-state:isDraftBannerVisible",WAS_TEMPLATE_BANNER_SEEN:"editor-state:wasTemplateBannerSeen",IS_TEMPLATE_BANNER_VISIBLE:"editor-state:isTemplateBannerVisible",HAS_USER_PUBLISHED:"editor-state:hasUserPublished",SUCCESS_FLAG_SEEN:"editor-state:successFlagCompleted",RECENT_SPOTLIGHT_OPEN:"editor-state:recentSpotlightOpen",RECENT_SPOTLIGHT_SEEN:"editor-state:recentSpotlightCompleted",EDITOR_TUTORIAL_SUCCESS_FLAG_SEEN:"editor-state:editorTutorialSuccessFlagCompleted",IMPORT_RELEVANCE_ELIGIBLE_USER:"editor-state:importRelevanceEligibleNewUser",IMPORT_RELEVANCE_ACCORDION_STATE:"editor-state:importRelevanceAccordionState",WAS_EDITOR_CONVERSION_DIALOG_SEEN:"editor-state:wasEditorConversionModalSeen"},i="com.atlassian.confluence.plugins.confluence-onboarding:using-the-editor-template-blueprint",o="com.atlassian.confluence.plugins.confluence-onboarding:creator-onboarding-template-blueprint",s="editor-onboarding",a="creator-onboarding"},280210:(t,e,n)=>{"use strict";n.d(e,{I:()=>a});var r=n(615919),i=n(885457),o=n(88450),s=n(715904);function a({query:t,variables:e,fetchPolicy:n="cache-first",errorPolicy:a="all",context:c}){const u=(0,s.r)(t),l=window.GLOBAL_APOLLO_CLIENT;let p;if(window.GLOBAL_GQL&&"string"==typeof t&&(t=window.GLOBAL_GQL(t)),"string"==typeof t){if(!u)return Promise.resolve(s.i)}else{if(!l)return Promise.resolve(s.i);let i=!0;if(p={query:t,variables:e,errorPolicy:a,fetchPolicy:n,context:(0,r.Z)({single:i},c)},!u)return l.query(p)}return(0,o.E)().load({name:u,variables:e},(()=>p?l.query(p):fetch(`/cgraphql?q=QueryPreloader_${u}`,(0,i.I)({method:"POST",credentials:"include",referrerPolicy:"same-origin",headers:(0,r.Z)({"X-APOLLO-OPERATION-NAME":u,"Content-Type":"application/json"},c&&c.headers),body:JSON.stringify({query:t,variables:e})})).then((t=>t.ok?t.json():s.i)).catch((()=>s.i))))}},715904:(t,e,n)=>{"use strict";n.d(e,{i:()=>i,r:()=>s});const r=/query\s+(\w+).*?\{/,i={data:null};function o(t){return"OperationDefinition"===t.kind}function s(t){var e;if("string"!=typeof t)return null===(e=(t.definitions||[]).filter(o).map((t=>t.name)).filter((t=>null!=t))[0])||void 0===e?void 0:e.value;{const e=t.match(r);if(e)return e[1]}}},756106:(t,e,n)=>{"use strict";n.d(e,{f:()=>x});var r=n(615919),i=n(840506),o=n(825301),s=n(230475),a=n(240118),c=n(318122),u=n(126772),l=n.n(u);function p(t){const e=null==t?void 0:t.shimUrl,n=null==t?void 0:t.domainNamesToReplace,r=(0,i.useCallback)((t=>d(t,e,n)),[e,n]),o=(0,i.useCallback)((t=>{if(!e||!t||!Object.keys(t).length)return t;const r=l()(t);return v(r,e,n),r}),[e,n]),s=(0,i.useCallback)((t=>{if(!e||!t)return t;try{return function(t,e,n){const r=t.getElementsByTagName("a");Array.from(r).forEach((t=>{t.href=d(t.href,e,n)}));const i=t.getElementsByTagName("img");return Array.from(i).forEach((t=>{t.src=d(t.src,e,n)})),t}((new DOMParser).parseFromString(t,"text/html"),e,n).body.innerHTML}catch(r){return t}}),[e,n]);return(0,i.useMemo)((()=>({shimUrl:r,shimAdfUrls:o,shimHtmlUrls:s})),[r,o,s])}function d(t,e,n){if(!e||!t||(0,a.Tq)(t))return t;try{const r=document.baseURI||window.location.toString(),i=y(t,r),o=h(r);return function(t,e,n,r,i){if(t.includes(a.bW)){const o=new URL(t),s=new URL(r);if(null!=i&&i.includes(o.hostname)){return t.replace(o.origin,s.origin).replace(e,n)}}return t.replace(e,n)}(i,o,f(e,r),r,n)}catch(r){return t}}const h=(0,c.default)((t=>b(y(a.bW,t)))),f=(0,c.default)(((t,e)=>b(y(t,e))));function y(t,e){return new URL(t,e).toString()}function b(t){return t.endsWith("/")?t:`${t}/`}const m=["url","href"];function v(t,e,n){Object.entries(t).forEach((([r,i])=>{i&&(m.includes(r)&&"string"==typeof i?t[r]=d(i,e,n):"object"==typeof i&&v(i,e,n))}))}function g(t){switch(t){case"VIEW_PAGE":case"EDIT_PAGE_EMBED":return t;default:return}}function x(){const{navigationPolicy:t}=(0,o.Y)()||{},e=function(t){const e=(0,s.O)(),{shimUrl:n}=p(t),r=(0,i.useCallback)((()=>({push({match:e,matchSupportedRoute:r,open:i,push:o},s,c){if((0,a.Tq)(s))return void i(s,"_self");const u=null==e?void 0:e.name,l=null==e?void 0:e.params.contentId,p=r(s),d=null==p?void 0:p.name,h=null==p?void 0:p.params.contentId,f=null==p?void 0:p.params.spaceKey,y={routeName:g(d),contentId:h,spaceKey:f,target:this.willPushInSelf(u,l,d,h)?"_self":"_blank"},b=(t,{target:e})=>{if((0,a.Tq)(t))return void i(t,"_self");const n=r(t);this.willPushInSelf(u,l,null==n?void 0:n.name,null==n?void 0:n.params.contentId)&&Boolean(null==n?void 0:n.hash)?i(null==n?void 0:n.hash,"_self"):"_self"===e?o(t,c):i(t,e)};return null!=t&&t.navigate?null==t?void 0:t.navigate(s,y,b):b("_self"===y.target?s:n(s),y)},willPushInSelf:(t,e,n,r)=>!!g(n)&&t===n&&e===r})),[n,t]);return(0,i.useMemo)((()=>e?r():void 0),[e,r])}(t),n=p(t);return(0,i.useMemo)((()=>(0,r.Z)({routePolicy:e},n)),[e,n])}},505942:(t,e,n)=>{"use strict";var r=n(661999).default;function i(t,e,n,r){this.message=t,this.expected=e,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,i)}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(i,Error),i.buildMessage=function(t,e){var n={literal:function(t){return'"'+i(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?o(t.parts[e][0])+"-"+o(t.parts[e][1]):o(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function i(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}return"Expected "+function(t){var e,r,i,o=new Array(t.length);for(e=0;e<t.length;e++)o[e]=(i=t[e],n[i.type](i));if(o.sort(),o.length>0){for(e=1,r=1;e<o.length;e++)o[e-1]!==o[e]&&(o[r]=o[e],r++);o.length=r}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(t)+" but "+function(t){return t?'"'+i(t)+'"':"end of input"}(e)+" found."},t.exports={SyntaxError:i,parse:function(t,e){e=void 0!==e?e:{};var n,o={},s={aqlStatement:0},a=0,c=[function(t,e){return{clause:t,orderby:e}},function(t){return t},"order by",y("ORDER BY",!0),function(t,e){return[t,...e]},",",y(",",!1),function(t){return t},function(t,e){return{field:t,direction:e}},"asc",y("ASC",!0),"desc",y("DESC",!0),function(t,e){return{nodeType:"clause",clauses:[t,...e],type:"or"}},"or",y("OR",!0),function(t,e){return{nodeType:"clause",clauses:[t,...e],type:"and"}},"and",y("AND",!0),function(t,e){return{nodeType:"clause",clause:e,invert:!!t}},function(t){return r({nodeType:"expr"},t)},"not ",y("NOT ",!0),"!",y("!",!1),function(t,e,n){return{field:t,op:e,value:n}},function(t,e,n){return{field:t,op:e,value:n}},"<",y("<",!1),">",y(">",!1),"~",y("~",!1),"!~",y("!~",!1),"in",y("IN",!0),function(t){return t?"NOT IN":"IN"},"=",y("=",!1),"!=",y("!=",!1),function(t,e){return[t,...e]},function(t){return t},">=",y(">=",!1),"<=",y("<=",!1),function(t){return Number.parseFloat(t)},"(",y("(",!1),")",y(")",!1),function(t,e){return`${t}(${(e||[]).join(",")})`},function(t,e){return[t,...e]},function(t){return t},"'",y("'",!1),"\\",y("\\",!1),'"',y('"',!1),".",y(".",!1),/^[^']/,b(["'"],!0,!1),function(t){return t.join("")},/^[^"]/,b(['"'],!0,!1),function(t){return t.join(".")},/^[0-9]/,b([["0","9"]],!1,!1),/^[\\\-]/,b(["\\","-"],!1,!1),function(t,e){return[t,...e]},function(t){return t},/^[a-zA-Z_]/,b([["a","z"],["A","Z"],"_"],!1,!1),/^[a-zA-Z_0-9]/,b([["a","z"],["A","Z"],"_",["0","9"]],!1,!1),function(t,e){return t+e},/^[eE]/,b(["e","E"],!1,!1),/^[\-+]/,b(["-","+"],!1,!1),/^[\t ]/,b(["\t"," "],!1,!1)],u=[w('%;&/7#;!." &"/)$8": ""! )("\'#&\'#'),w('%;V/1#;"/($8":!"! )("\'#&\'#'),w('%3"""5(7#/K#;V/B$;$/9$$;#0#*;#&/)$8$:$$"! )($\'#(#\'#("\'#&\'#'),w("%2%\"\"6%7&/:#;W/1$;$/($8#:'#! )(#'#(\"'#&'#"),w("%;M/;#;V/2$;%/)$8#:(#\"\" )(#'#(\"'#&'#"),w('3)""5#7*.) &3+""5$7,'),w("%;(/9#$;'0#*;'&/)$8\":-\"\"! )(\"'#&'#"),w("%;V/I#3.\"\"5\"7//:$;V/1$;(/($8$:'$! )($'#(#'#(\"'#&'#"),w('%;+/9#$;)0#*;)&/)$8":0""! )("\'#&\'#'),w("%;V/I#31\"\"5#72/:$;V/1$;*/($8$:'$! )($'#(#'#(\"'#&'#"),w('%;,." &"/2#;+/)$8":3""! )("\'#&\'#'),w("%;J/L#;W/C$;&/:$;W/1$;K/($8%:'%!\")(%'#($'#(#'#(\"'#&'#./ &%;-/' 8!:4!! )"),w('35""5$76.) &27""6778'),w(";..5 &;/./ &;1.) &;0.# &;2"),w("%;M/N#;W/E$;6/<$;W/3$;5/*$8%:9%#$\" )(%'#($'#(#'#(\"'#&'#"),w("%;M/N#;W/E$;7/<$;W/3$;9/*$8%:9%#$\" )(%'#($'#(#'#(\"'#&'#.X &%;M/N#;W/E$;8/<$;W/3$;=/*$8%:9%#$\" )(%'#($'#(#'#(\"'#&'#"),w("%;M/N#;W/E$;>/<$;W/3$;3/*$8%::%#$\" )(%'#($'#(#'#(\"'#&'#"),w("%;M/N#;W/E$;>/<$;W/3$;4/*$8%::%#$\" )(%'#($'#(#'#(\"'#&'#"),w("%;M/\\#2;\"\"6;7</M$;M/D$2=\"\"6=7>/5$;A/,$;@/#$+&)(&'#(%'#($'#(#'#(\"'#&'#"),w(';?.* &%;C/"!&,)'),w('%;C/"!&,).# &;B'),w(";M.# &;C"),w('2?""6?7@.) &2A""6A7B'),w('%;,." &"/7#3C""5"7D/($8":E"!!)("\'#&\'#'),w('2F""6F7G.) &2H""6H7I'),w(";C.# &;:"),w("%;J/f#;W/]$;</T$;W/K$$;;0#*;;&/;$;W/2$;K/)$8':J'\"$\")(''#(&'#(%'#($'#(#'#(\"'#&'#"),w("%2%\"\"6%7&/J#$;V0#*;V&/:$;</1$;W/($8$:K$!!)($'#(#'#(\"'#&'#"),w(";C.# &;="),w(";C./ &;M.) &;P.# &;?"),w('2L""6L7M.Y &2N""6N7O.M &2=""6=7>.A &2;""6;7<.5 &2F""6F7G.) &2H""6H7I'),w("%;U/' 8!:P!! )"),w("%;7/:#;V.\" &\"/,$;9/#$+#)(#'#(\"'#&'#. &%;8/:#;V.\" &\"/,$;=/#$+#)(#'#(\"'#&'#. &%;6/:#;V.\" &\"/,$;5/#$+#)(#'#(\"'#&'#.k &%;>/:#;V.\" &\"/,$;4/#$+#)(#'#(\"'#&'#.D &%;>/:#;V.\" &\"/,$;3/#$+#)(#'#(\"'#&'#"),w("%;I/,#;M/#$+\")(\"'#&'#"),w(";P.# &;M"),w("%;M/p#;W/g$2Q\"\"6Q7R/X$;W/O$;D.\" &\"/A$;W/8$2S\"\"6S7T/)$8':U'\"&\")(''#(&'#(%'#($'#(#'#(\"'#&'#"),w('%;=/9#$;E0#*;E&/)$8":V""! )("\'#&\'#'),w("%2%\"\"6%7&/:#;W/1$;=/($8#:W#! )(#'#(\"'#&'#"),w('2X""6X7Y'),w('2Z""6Z7['),w('2\\""6\\7]'),w('2^""6^7_'),w('2Q""6Q7R'),w('2S""6S7T'),w("%;G/,#;F/#$+\")(\"'#&'#.O &%;G/,#;G/#$+\")(\"'#&'#.6 &%;G/,#;H/#$+\")(\"'#&'#"),w('%;F/g#$%;L/"!&,).) &4`""5!7a06*%;L/"!&,).) &4`""5!7a&/1$;F/($8#:b#!!)(#\'#("\'#&\'#. &%;H/g#$%;L/"!&,).) &4c""5!7d06*%;L/"!&,).) &4c""5!7d&/1$;H/($8#:b#!!)(#\'#("\'#&\'#./ &%;Q/\' 8!:e!! )'),w('4f""5!7g'),w('%4h""5!7i/"!&,)'),w("%%;N/t#;N/k$;N/b$;N/Y$;O/P$;N/G$;N/>$;O/5$;N/,$;N/#$+*)(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#/\"!&,)"),w('%;S/9#$;R0#*;R&/)$8":j""! )("\'#&\'#'),w('%;I/1#;S/($8":k"! )("\'#&\'#'),w('%4l""5!7m/L#%$4n""5!7o0)*4n""5!7o&/"!&,)/)$8":p""! )("\'#&\'#'),w('$4f""5!7g/,#0)*4f""5!7g&&&#'),w('%;T/#%2^""6^7_/?#$4f""5!7g0)*4f""5!7g&/#$+")("\'#&\'#." &"/^$%4q""5!7r/@#4s""5!7t." &"/,$;T/#$+#)(#\'#("\'#&\'#." &"/#$+#)(#\'#("\'#&\'#.} &%2^""6^7_/g#;T/^$%4q""5!7r/@#4s""5!7t." &"/,$;T/#$+#)(#\'#("\'#&\'#." &"/#$+#)(#\'#("\'#&\'#.# &;T'),w('$4u""5!7v/,#0)*4u""5!7v&&&#'),w('$4u""5!7v0)*4u""5!7v&')],l=0,p=[{line:1,column:1}],d=0,h=[],f=0;if("startRule"in e){if(!(e.startRule in s))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=s[e.startRule]}function y(t,e){return{type:"literal",text:t,ignoreCase:e}}function b(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function m(e){var n,r=p[e];if(r)return r;for(n=e-1;!p[n];)n--;for(r={line:(r=p[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return p[e]=r,r}function v(t,e){var n=m(t),r=m(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function g(t){l<d||(l>d&&(d=l,h=[]),h.push(t))}function x(t,e,n){return new i(i.buildMessage(t,e),t,e,n)}function w(t){var e,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=t.charCodeAt(e)-32;return n}if((n=function e(n){for(var r,i,s=u[n],a=0,p=[],d=s.length,h=[],y=[];;){for(;a<d;)switch(s[a]){case 0:y.push(c[s[a+1]]),a+=2;break;case 1:y.push(void 0),a++;break;case 2:y.push(null),a++;break;case 3:y.push(o),a++;break;case 4:y.push([]),a++;break;case 5:y.push(l),a++;break;case 6:y.pop(),a++;break;case 7:l=y.pop(),a++;break;case 8:y.length-=s[a+1],a+=2;break;case 9:y.splice(-2,1),a++;break;case 10:y[y.length-2].push(y.pop()),a++;break;case 11:y.push(y.splice(y.length-s[a+1],s[a+1])),a+=2;break;case 12:y.push(t.substring(y.pop(),l)),a++;break;case 13:h.push(d),p.push(a+3+s[a+1]+s[a+2]),y[y.length-1]?(d=a+3+s[a+1],a+=3):(d=a+3+s[a+1]+s[a+2],a+=3+s[a+1]);break;case 14:h.push(d),p.push(a+3+s[a+1]+s[a+2]),y[y.length-1]===o?(d=a+3+s[a+1],a+=3):(d=a+3+s[a+1]+s[a+2],a+=3+s[a+1]);break;case 15:h.push(d),p.push(a+3+s[a+1]+s[a+2]),y[y.length-1]!==o?(d=a+3+s[a+1],a+=3):(d=a+3+s[a+1]+s[a+2],a+=3+s[a+1]);break;case 16:y[y.length-1]!==o?(h.push(d),p.push(a),d=a+2+s[a+1],a+=2):a+=2+s[a+1];break;case 17:h.push(d),p.push(a+3+s[a+1]+s[a+2]),t.length>l?(d=a+3+s[a+1],a+=3):(d=a+3+s[a+1]+s[a+2],a+=3+s[a+1]);break;case 18:h.push(d),p.push(a+4+s[a+2]+s[a+3]),t.substr(l,c[s[a+1]].length)===c[s[a+1]]?(d=a+4+s[a+2],a+=4):(d=a+4+s[a+2]+s[a+3],a+=4+s[a+2]);break;case 19:h.push(d),p.push(a+4+s[a+2]+s[a+3]),t.substr(l,c[s[a+1]].length).toLowerCase()===c[s[a+1]]?(d=a+4+s[a+2],a+=4):(d=a+4+s[a+2]+s[a+3],a+=4+s[a+2]);break;case 20:h.push(d),p.push(a+4+s[a+2]+s[a+3]),c[s[a+1]].test(t.charAt(l))?(d=a+4+s[a+2],a+=4):(d=a+4+s[a+2]+s[a+3],a+=4+s[a+2]);break;case 21:y.push(t.substr(l,s[a+1])),l+=s[a+1],a+=2;break;case 22:y.push(c[s[a+1]]),l+=c[s[a+1]].length,a+=2;break;case 23:y.push(o),0===f&&g(c[s[a+1]]),a+=2;break;case 24:y[y.length-1-s[a+1]],a+=2;break;case 25:l,a++;break;case 26:for(r=s.slice(a+4,a+4+s[a+3]),i=0;i<s[a+3];i++)r[i]=y[y.length-1-r[i]];y.splice(y.length-s[a+2],s[a+2],c[s[a+1]].apply(null,r)),a+=4+s[a+3];break;case 27:y.push(e(s[a+1])),a+=2;break;case 28:f++,a++;break;case 29:f--,a++;break;default:throw new Error("Invalid opcode: "+s[a]+".")}if(!(h.length>0))break;d=h.pop(),a=p.pop()}return y[0]}(a))!==o&&l===t.length)return n;throw n!==o&&l<t.length&&g({type:"end"}),x(h,d<t.length?t.charAt(d):null,d<t.length?v(d,d+1):v(d,d))}}},244218:(t,e,n)=>{"use strict";n.d(e,{I:()=>r});const r=n(779076).ZP`query SpaceDetailQuery($spaceKey:String$shouldFetchDCT:Boolean=false){space(key:$spaceKey){id dataClassificationTags@include(if:$shouldFetchDCT)}}`},240694:(t,e,n)=>{"use strict";n.d(e,{a:()=>a});var r=n(840506),i=n(167347),o=n(487696);const s=n(779076).ZP`query SpacePageIdQuery($spaceKey:String){space(key:$spaceKey){id}}`,a=t=>{var e,n;const{spaceKey:a}=(0,r.useContext)(o.z1);t=null!==(e=t)&&void 0!==e?e:a;const{data:c}=(0,i.aM)(s,{variables:{spaceKey:t},skip:!t});return(null==c||null===(n=c.space)||void 0===n?void 0:n.id)||void 0}},435248:(t,e,n)=>{"use strict";n.d(e,{u:()=>s});var r=n(840506),i=n(487696),o=n(734233);function s(t){var e,n;const{spaceKey:s}=(0,r.useContext)(i.z1),{match:a}=(0,r.useContext)(o.M),c=null==a||null===(e=a.params)||void 0===e?void 0:e.spaceKey;if(t)return t;if(s)return s;if(c)return c;const u="undefined"!=typeof document?null===(n=document.querySelector("meta#confluence-space-key"))||void 0===n?void 0:n.content:null;return null!=u?u:null}},550980:(t,e,n)=>{"use strict";n.d(e,{m:()=>C});var r=n(615919),i=n(840506),o=n(822464),s=n(443037),a=n.n(s),c=n(400318),u=n(155049),l=n(243578),p=n(870797),d=n(745869),h=n(779894),f=n(323612),y=n(487696),b=n(906552),m=n(734233),v=n(534564),g=n(49878);const x=new Set,w=()=>{try{performance.mark("rendererRendered.end"),performance.measure("browser-metric:ContentRenderer",(0,l.W)()?void 0:"browser-metric.start","rendererRendered.end")}catch(t){}},_=t=>{var e,n;if(!(0,l.W)())return t;const i=(null===(e=performance.getEntriesByName("rendererRendered.end").pop())||void 0===e?void 0:e.startTime)||0,o=(null===(n=performance.getEntriesByName("browser-metric:fmp").pop())||void 0===n?void 0:n.duration)||0,s=(0,h.Jy)();let a=i;return window.__SSR_RENDERED__&&!s&&o>0&&(a=o),(0,r.Z)((0,r.Z)({},t),{},{macroFailures:s,nTTI:Math.round(a)})},S=({revision:t,appearance:e,contentId:n,fabric:r,fallback:o,fallbackMacros:s,loadedFromCache:a,isAutoConverted:l})=>{const{isLite:f,routeName:x}=(0,i.useContext)(y.z1),{getQueryParams:S}=(0,i.useContext)(m.M),{ccProxyTarget:E,ccProxyStaticApp:C}=S(),I=(0,v.I)(),O="EXTERNAL_SHARE"===x?c.iWJ:c.bbO,T=(s||[]).reduce(((t,e)=>(t[e]=!0,t)),{}),P=(0,h.Jy)(),N=(0,h.bw)()&&!P?(0,b.es)("CFP-63.ssr-ttr"):void 0,A={appearance:e,contentId:n,fallback:o,fallbackMacros:T,fabric:r,isLite:Boolean(f),ccProxyTarget:Boolean(E||C),loadedFromCache:a,isAutoConverted:l,isEditInContextEnabled:I};return i.createElement(i.Fragment,null,i.createElement(u.F,{key:`es${n}_${t}`,name:O,attributes:{fabric:r}}),i.createElement(p.M,{key:`psle${n}`,metric:g.j,customData:A,stopTime:N,onComplete:w,augmentCustomDataAfterComplete:_}),i.createElement(d.T,{key:`pslm${n}`,metric:g.j,markName:"fy23-legacy-tti"}))};function E({progressBar:t}){return(0,i.useEffect)((()=>{t.hasStarted()&&t.finish()})),null}const C=(0,i.memo)((({appearance:t,fabric:e,fallback:n,contentId:r,revision:s,fallbackMacros:a,isAutoConverted:c})=>{var u;(0,i.useContext)(y.z1);const l=(0,i.useRef)(x.has(r)).current;(0,i.useEffect)((()=>{x.add(r)}),[r]);return s!==(null!==(u=(t=>{const e=(0,i.useRef)();return(0,i.useEffect)((()=>{e.current=t})),e.current})(s))&&void 0!==u?u:null)?i.createElement(i.Fragment,null,i.createElement(o.xs,{to:[f.E]},(t=>i.createElement(E,{progressBar:t}))),i.createElement(S,{revision:s,appearance:t,contentId:r,fallback:n,fallbackMacros:a,isAutoConverted:c,fabric:e,loadedFromCache:l})):null}),a())},49878:(t,e,n)=>{"use strict";n.d(e,{j:()=>o});var r=n(697674),i=n(113059);const o=(0,r.is)({key:i.Ui,ssr:Boolean(window.__SSR_RENDERED__)?{doneAsFmp:!0}:void 0,timings:[{key:"tti",endMark:"tti"},{key:"fy23-legacy-tti",endMark:"fy23-legacy-tti"}]})},477958:(t,e,n)=>{"use strict";n.d(e,{B7:()=>p,B8:()=>a,Ck:()=>w,D4:()=>_,DN:()=>f,Dc:()=>s,G5:()=>y,I0:()=>l,Nh:()=>c,RI:()=>v,SB:()=>x,_K:()=>m,bJ:()=>b,bn:()=>S,e_:()=>r,hA:()=>h,m7:()=>u,mL:()=>o,pS:()=>i,uK:()=>d,xO:()=>g});const r="system.content.action",i="system.content.button",o="system.content.byline",s="system.content.metadata",a="page.metadata.banner",c="system.header/left",u="system.help/pages",l="system.user",p="system.admin",d="system.editor.precursor.buttons",h="system.create.dialog/content",f="system.create.space.dialog/content",y="page.view.selection/action-panel",b="atl.dashboard.secondary",m="atl.general",v="atl.footer",g="atl.page.metadata.banner",x="atl.page.content.footer.actions",w="atl.editor.savebar",_="system.admin/siteadministration",S="system.admin/security"},827685:(t,e,n)=>{"use strict";n.d(e,{f:()=>r});const r=n(779076).ZP`query WebPanelLocationQuery($location:String$contentId:ID$spaceKey:String){webPanels(location:$location contentId:$contentId key:$spaceKey){moduleKey completeKey html location label weight name}}`},762144:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r=n(615919),i=n(840506),o=n(39030),s=n(467220),a=n(314121),c=n(645159),u=n(132135),l=n(79198);const p=(0,o.iv)({marginTop:"var(--ds-space-100, 8px)"});function d(t){return"function"==typeof t}function h(t){const e=(0,i.useRef)(t);return(0,i.useEffect)((()=>{e.current=t})),e}function f(t){var e;const{registerField:n,getCurrentValue:f}=(0,i.useContext)(c.q3),y=(0,i.useContext)(c.Zd)||t.isDisabled||!1,b=d(t.defaultValue)?t.defaultValue():t.defaultValue,m=h(t),v=(g=m.current.defaultValue,x=t.defaultValue,!(g===x||"function"==typeof g&&"function"==typeof x||(Array.isArray(g)&&Array.isArray(x)||"object"==typeof g&&"object"==typeof x)&&JSON.stringify(g)===JSON.stringify(x)));var g,x;const[w,_]=(0,i.useState)({fieldProps:{onChange:()=>{},onBlur:()=>{},onFocus:()=>{},value:v?b:null!==(e=f(t.name))&&void 0!==e?e:b},error:void 0,valid:!1,meta:{dirty:!1,dirtySinceLastSubmit:!1,touched:!1,valid:!1,validating:!1,submitting:!1,submitFailed:!1,error:void 0,submitError:void 0}}),S=h(w);(0,i.useEffect)((()=>{function t(t={}){return{dirty:t.dirty||!1,dirtySinceLastSubmit:t.dirtySinceLastSubmit||!1,touched:t.touched||!1,valid:t.valid||!1,submitting:t.submitting||!1,submitFailed:t.submitFailed||!1,error:t.error,submitError:t.submitError,validating:!!t.validating}}const e=n(m.current.name,v||d(m.current.defaultValue)?m.current.defaultValue:S.current.fieldProps.value,(e=>{const n=e.submitting?S.current.meta.dirtySinceLastSubmit:e.dirtySinceLastSubmit,r=e.submitting?S.current.meta.submitFailed:e.submitFailed,i=(n&&m.current.validate?void 0:e.submitError)||(e.touched||e.dirty)&&e.error,o=r?void 0===i:e.valid;function s(t,e){if(m.current.transform)return m.current.transform(t,e);if(n=t,!Boolean(n&&n.target))return t;{const{currentTarget:e}=t;if("checkbox"===e.type)return e.checked?e.value||!0:!!e.value&&void 0;if(e)return e.value}var n}_({fieldProps:{onChange:t=>{e.change(s(t,e.value))},onBlur:e.blur,onFocus:e.focus,value:e.value},error:i||void 0,valid:o||!1,meta:t(e)})}),{dirty:!0,dirtySinceLastSubmit:!0,touched:!0,valid:!0,submitting:!0,submitFailed:!0,value:!0,error:!0,submitError:!0,validating:!0},{getValidator:()=>function(e,n,r){const i=m.current.validate;if(i&&r)return i(e,n,t(r))}});return e}),[m,S,n,t.name,v]);const E=(0,i.useMemo)((()=>t.id?t.id:`${t.name}-${(0,s.h)({id:t.name})}`),[t.id,t.name]),C=(0,r.Z)((0,r.Z)({},w.fieldProps),{},{name:t.name,isDisabled:y,isInvalid:Boolean(w.error),isRequired:Boolean(t.isRequired),"aria-invalid":w.error?"true":"false","aria-describedby":(()=>{let t="";return w.error&&(t+=`${E}-error `),w.valid&&(t+=`${E}-valid `),`${t}${E}-helper`})(),"aria-labelledby":`${E}-label`,id:E});return(0,o.tZ)("div",{css:p,"data-testid":t.testId},t.label&&(0,o.tZ)(u.__,{htmlFor:E,id:`${E}-label`,testId:t.testId&&`${t.testId}--label`},t.label,t.isRequired&&(0,o.tZ)(l.Z,null),t.elementAfterLabel),(0,o.tZ)(a.Z.Provider,{value:E},t.children({fieldProps:C,error:w.error,valid:w.valid,meta:w.meta})))}f.displayName="Field"},329856:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(840506))&&r.__esModule?r:{default:r},o=n(340531);const s=t=>i.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10.208 7.308a1.09 1.09 0 010 1.483l-3.515 3.71 3.515 3.708a1.09 1.09 0 010 1.483.957.957 0 01-1.405 0l-3.866-4.08a1.635 1.635 0 010-2.225l3.866-4.08a.957.957 0 011.405 0zm3.584 0a.957.957 0 011.405 0l3.866 4.08c.583.614.583 1.61 0 2.225l-3.866 4.08a.957.957 0 01-1.405 0 1.09 1.09 0 010-1.484l3.515-3.708-3.515-3.71a1.09 1.09 0 010-1.483z" fill="currentColor" fill-rule="evenodd"/></svg>'},t));s.displayName="EditorCodeIcon";var a=s;e.default=a},977724:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(840506))&&r.__esModule?r:{default:r},o=n(340531);const s=t=>i.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M14.823 15.883a5.5 5.5 0 111.06-1.06l2.647 2.647c.293.293.53.59 0 1.06-.53.47-.767.293-1.06 0l-2.647-2.647zM11.5 15.5a4 4 0 100-8 4 4 0 000 8z" fill="currentColor"/></svg>'},t));s.displayName="EditorSearchIcon";var a=s;e.default=a},727716:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(840506))&&r.__esModule?r:{default:r},o=n(340531);const s=t=>i.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M3 4.995C3 3.893 3.893 3 4.995 3h14.01C20.107 3 21 3.893 21 4.995v14.01A1.995 1.995 0 0119.005 21H4.995A1.995 1.995 0 013 19.005V4.995zM10.5 16.5L9 15l-3 3h12v-2.7L15 12l-4.5 4.5zM8 10a2 2 0 100-4 2 2 0 000 4z" fill="currentColor" fill-rule="evenodd"/></svg>'},t));s.displayName="ImageIcon";var a=s;e.default=a},724093:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r=n(478201).G},478201:(t,e,n)=>{"use strict";n.d(e,{G:()=>$});var r=n(840506),i=n(39030),o=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function s(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(r=t[n],i=e[n],!(r===i||o(r)&&o(i)))return!1;var r,i;return!0}var a=n(791945),c=n(129275),u=n(479198),l=n(136342),p=n(2142),d=n(615919),h=n(872342),f=n(259612),y=n(24359),b=n(379525),m=n(16728),v=n(507690);const g=({children:t,update:e})=>{const n=(0,r.useRef)(!0);return(0,r.useLayoutEffect)((()=>{n.current?n.current=!1:e()}),[e]),r.createElement(r.Fragment,null,t)};g.displayName="RepositionOnUpdate";var x=n(393242),w=n(319754);var _=n(747256),S=n.n(_);const E=["shouldRenderToParent","children"],C=(0,i.iv)({display:"block",boxSizing:"border-box",zIndex:p.ug.layer(),flex:"1 1 auto",backgroundColor:`var(--ds-surface-overlay, ${m.N0})`,borderRadius:"var(--ds-border-radius, 3px)",boxShadow:`var(--ds-shadow-overlay, 0 4px 8px -2px ${m.Nx}, 0 0 1px ${m.VG})`,[v.kO]:`var(--ds-surface-overlay, ${m.N0})`,":focus":{outline:"none"}}),I=(0,i.iv)({overflow:"auto"}),O=(0,i.iv)({"iframe:not([data-ds--level] iframe)":{pointerEvents:"none"}}),T=(0,r.forwardRef)(((t,e)=>{const{shouldRenderToParent:n,children:r}=t,o=(0,h.Z)(t,E);return(0,i.tZ)("div",(0,d.Z)((0,d.Z)({css:[C,!n&&I]},o),{},{ref:e}),r)}));function P({isOpen:t,id:e,offset:n,testId:o,content:s,fallbackPlacements:a,onClose:c,boundary:u,rootBoundary:l,shouldFlip:p,placement:d="auto",popupComponent:h=T,autoFocus:m=!0,triggerRef:v,shouldUseCaptureOnOutsideClick:_,shouldRenderToParent:E}){const[C,I]=(0,r.useState)(null),[P,N]=(0,r.useState)(null);(({initialFocusRef:t,popupRef:e})=>{(0,r.useEffect)((()=>{if(!e)return w.Z;const n={clickOutsideDeactivates:!0,escapeDeactivates:!0,initialFocus:t||e,fallbackFocus:e,returnFocusOnDeactivate:!0},r=S()(e,n);let i=null;return i=requestAnimationFrame((()=>{i=null,r.activate()})),()=>{null!=i&&(cancelAnimationFrame(i),i=null),r.deactivate()}}),[e,t])})({initialFocusRef:P,popupRef:C}),(({isOpen:t,onClose:e,popupRef:n,triggerRef:i,shouldUseCaptureOnOutsideClick:o})=>{const{isLayerDisabled:s}=(0,f.J)();(0,r.useEffect)((()=>{if(!t||!n)return w.Z;const r=t=>{e&&e(t)};return(0,x.Ev)(window,[{type:"click",listener:t=>{const{target:e}=t;if(!document.body.contains(e))return;const o=n&&n.contains(e),s=i&&i.contains(e);o||s||r(t)},options:{capture:o}},{type:"keydown",listener:t=>{if(s())return;const{key:e}=t;"Escape"!==e&&"Esc"!==e||r(t)}}])}),[t,e,n,i,o,s])})({isOpen:t,onClose:c,popupRef:C,triggerRef:v,shouldUseCaptureOnOutsideClick:_});const{currentLevel:A}=(0,f.J)(),$=(0,r.useMemo)((()=>[{name:"flip",enabled:p,options:{rootBoundary:l,boundary:u,fallbackPlacements:a}}]),[p,l,u,a]);return(0,i.tZ)(b.r,{placement:d,offset:n,modifiers:$},(({ref:n,style:r,placement:a,update:u})=>(0,i.tZ)(h,{id:e,"data-ds--level":A,"data-placement":a,"data-testid":o,ref:t=>{t&&("function"==typeof n?n(t):n.current=t,I(t))},style:r,tabIndex:m?0:void 0,shouldRenderToParent:E},(0,y.e)("platform.design-system-team.iframe_gojiv")&&(0,i.tZ)(i.xB,{styles:O}),(0,i.tZ)(g,{update:u},s({update:u,isOpen:t,onClose:c,setInitialFocusRef:N})))))}P.displayName="PopperWrapper";const N=P,A=p.ug.layer(),$=(0,r.memo)((({isOpen:t,id:e,offset:n,testId:o,trigger:p,content:d,onClose:h,boundary:f,rootBoundary:y="viewport",shouldFlip:b=!0,placement:m="auto",fallbackPlacements:v,popupComponent:g,autoFocus:x=!0,zIndex:w=A,shouldUseCaptureOnOutsideClick:_=!1,shouldRenderToParent:S=!1})=>{const[E,C]=(0,r.useState)(null),[I]=(0,r.useState)((()=>function(t,e){void 0===e&&(e=s);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var o=t.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}(((t,e,n)=>r=>{r&&n&&("function"==typeof t?t(r):t&&(t.current=r),e(r))})))),O=(0,i.tZ)(a.ZW,{isDisabled:!1},(0,i.tZ)(N,{content:d,isOpen:t,placement:m,fallbackPlacements:v,boundary:f,rootBoundary:y,shouldFlip:b,offset:n,popupComponent:g,id:e,testId:o,onClose:h,autoFocus:x,shouldUseCaptureOnOutsideClick:_,shouldRenderToParent:S,triggerRef:E}));return(0,i.tZ)(c.dK,null,(0,i.tZ)(u.s,null,(({ref:n})=>p({ref:I(n,C,t),"aria-controls":e,"aria-expanded":t,"aria-haspopup":!0}))),t&&(S?O:(0,i.tZ)(l.Z,{zIndex:w},O)))}))},241899:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(199009),i=n(791002);class o{constructor(t,e){(0,r.Z)(this,"manifestsPromise",void 0),(0,r.Z)(this,"autoConvertHandlers",void 0),this.manifestsPromise=Promise.resolve(t),this.autoConvertHandlers=e}getExtensions(){return this.manifestsPromise}async getExtension(t,e){const n=(await this.manifestsPromise).find((n=>n.type===t&&n.key===e));if(!n)throw new Error(`Extension with type "${t}" and key "${e}" not found!`);return n}async search(t){return(await this.manifestsPromise).filter((e=>e.title.toLowerCase().includes(t.toLowerCase())))}async getAutoConverter(){if(this.autoConvertHandlers)return this.autoConvertHandlers;return(0,i.GT)(await this.manifestsPromise)}}},791002:(t,e,n)=>{"use strict";n.d(e,{GT:()=>s,as:()=>l,bU:()=>o,yh:()=>c});var r=n(615919),i=n(429441);const o=(t,e)=>{const n=t.map((t=>(t.modules.quickInsert||[]).map((e=>function(t,e){const n=e.title||t.title,r=`${t.key}:${e.key}`,o=(0,i.cM)(e.action,t);if(!o)throw new Error(`Couldn't find any action for ${n} (${r})`);return{key:r,title:n,extensionType:t.type,keywords:e.keywords||t.keywords||[],featured:e.featured||!1,categories:e.categories||t.categories||[],description:e.description||t.description,summary:t.summary,documentationUrl:t.documentationUrl,icon:e.icon||t.icons[48],node:o}}(t,e)))));return[].concat(...n).map(e)};async function s(t){const e=await Promise.all(t.map((async t=>t.modules.autoConvert&&t.modules.autoConvert.url?t.modules.autoConvert.url:[])));return[].concat(...e)}const a=t=>e=>{for(const n of t){const t=n(e);if(t)return t}};async function c(t){const e=await t,n=await e.getAutoConverter();return a(n)}const u=(t,...e)=>{console.error(t,...e)},l=(t,e,n)=>t.map((t=>{if(t.modules.contextualToolbars){const i=(t=>{if(t.length>1){const e=t.map((t=>t.context));return e.find(((t,n)=>n!==e.findIndex((e=>((t,e)=>{if(t.type===e.type&&t.nodeType===e.nodeType){if("node"===t.type)return!0;if("extension"===t.type&&"extension"===e.type)return t.extensionKey===e.extensionKey&&t.extensionType===e.extensionType}return!1})(t,e)))))}})(t.modules.contextualToolbars);return i?(u(`[contextualToolbars] Duplicate context detected - ${JSON.stringify(i)}.`),[]):t.modules.contextualToolbars.map((t=>{if(function(t,e){var n;if("node"===t.context.type&&t.context.nodeType===e.type)return!0;if("extension"!==t.context.type||e.type!==t.context.nodeType)return!1;const{extensionType:r,extensionKey:i}=t.context;if(r&&r!==(null===(n=e.attrs)||void 0===n?void 0:n.extensionType))return!1;var o,s;return"string"==typeof i?i===(null===(o=e.attrs)||void 0===o?void 0:o.extensionKey):!(!Array.isArray(i)||!i.length)&&i.includes(null===(s=e.attrs)||void 0===s?void 0:s.extensionKey)}(t,e)){const{toolbarItems:r}=t;return"function"==typeof r?r(e,n):r}return[]})).flatMap((e=>e.map((e=>((t,e)=>{const{tooltip:n,key:i,label:o,icon:s,action:a,disabled:c}=t,l=[e,i].join(":");"function"!=typeof a&&u(`Provided action is not a function for extension toolbar button: ${o} (${l})`);let p={};switch(t.display){case"icon":s||u(`icon should be provided for extension toolbar button (${l}), when display is set to 'icon'`),p={icon:s};break;case"label":o||u(`label should be provided for extension toolbar button (${l}), when display is set to 'label'`),p={label:o};break;default:o&&s||u(`label and icon should be provided for extension toolbar button (${l}), when display is not set or set to 'icon-and-label'`),p={icon:s,label:o}}return(0,r.Z)({key:l,tooltip:n,action:a,disabled:c},p)})(e,t.key)))))}return[]})).flatMap((t=>t))},849071:(t,e,n)=>{"use strict";n.d(e,{f:()=>a});var r=n(840506),i=n(382454),o=n(465448),s=n(653260);const a=({analyticsWebClient:t,environment:e,product:n,page:a,children:c})=>r.createElement(i.g.Provider,{value:e},r.createElement(o._z,{value:{product:n,page:a}},r.createElement(s.ZP,{client:t,commonAttributes:{moduleType:a}},c)));a.displayName="ForgeUIExtensionPointProvider"},298105:(t,e,n)=>{"use strict";n.d(e,{a5:()=>f,Ng:()=>y,eL:()=>b});var r=n(615919),i=n(840506),o=n(31077),s=n(167347),a=n(570152),c=n(344127),u=n(465448),l=n(779076);const p=t=>`[\n    ${t.map((t=>`"${t}"`)).join(", ")}\n  ]`,d=(t,e,n,r)=>{const i=(null==n?void 0:n.map((t=>`"${t}"`)))||["$type"],o=`\n  query forge_ui_extensionList($contextIds: [ID!]!${n?"":", $type: String!"}) {\n    extensionContexts(contextIds: $contextIds) {\n      id\n      ${i.map((n=>`\n        extensionsByType(type: ${n}) {\n          id\n          appId\n          key\n          ${t?"appOwner {\n            name\n          }":""}\n          environmentId\n          environmentType\n          environmentKey\n          properties\n          license {\n            active\n            type\n            supportEntitlementNumber\n            trialEndDate\n            subscriptionEndDate\n            isEvaluation\n            billingPeriod\n            ccpEntitlementId\n            ccpEntitlementSlug\n          }\n          type\n          appVersion\n          installationId\n          migrationKey\n          egress {\n            type\n            addresses\n          }\n          ${e?"\n                consentUrl\n                currentUserConsent {\n                  user {\n                    aaid\n                  }\n                  appEnvironmentVersion {\n                    id\n                  }\n                  consentedAt\n                }\n                requiresUserConsent\n              ":""}\n          ${r&&r.length>0?`\n                dataClassificationPolicyDecision(input: {\n                  dataClassificationTags: ${p(r)}\n                }) {\n                  status\n                }\n              `:""}\n        }`)).join("")}\n    }\n  }`;return l.ZP`${o}`},h=(t,e,n)=>{const r=`\n  query forge_ui_extensionList($contextIds: [ID!]!, $filter: [ExtensionContextsFilter!]!) {\n    extensionContexts(contextIds: $contextIds) {\n      id\n      extensions(filter: $filter) @optIn(to: "Access-Narrowing") {\n        id\n        appId\n        key\n        ${t?"appOwner {\n          name\n        }":""}\n        environmentId\n        environmentType\n        environmentKey\n        properties\n        license {\n          active\n          type\n          supportEntitlementNumber\n          trialEndDate\n          subscriptionEndDate\n          isEvaluation\n          billingPeriod\n          ccpEntitlementId\n          ccpEntitlementSlug\n        }\n        type\n        appVersion\n        installationId\n        migrationKey\n        egress {\n          type\n          addresses\n        }\n        ${e?"\n              consentUrl\n              currentUserConsent {\n                user {\n                  aaid\n                }\n                appEnvironmentVersion {\n                  id\n                }\n                consentedAt\n              }\n              requiresUserConsent\n            ":""}\n        ${n&&n.length>0?`\n              dataClassificationPolicyDecision(input: {\n                dataClassificationTags: ${p(n)}\n              }) {\n                status\n              }\n            `:""}\n      },\n    }\n  }`;return l.ZP`${r}`},f=(t,e,n,i,o,s,a,c)=>{const u=s?{contextIds:e,filter:s}:{contextIds:e,type:a},l=s?h(i,o,c):d(i,o,void 0,c);return(0,r.Z)((0,r.Z)({variables:u},n),{},{query:l,client:t,errorPolicy:"all"})},y=({loading:t,data:e})=>{if(!t&&e&&e.extensionContexts&&e.extensionContexts[0]){var n,r;if("extensions"in e.extensionContexts[0])return null!==(n=e.extensionContexts[0].extensions)&&void 0!==n?n:null;if("extensionsByType"in e.extensionContexts[0])return null!==(r=e.extensionContexts[0].extensionsByType)&&void 0!==r?r:null}return null},b=t=>{const{contextIds:e,type:n,filter:r,client:l,queryOptions:p,expandAppOwner:b,egressConsentFlowEnabled:m,dataClassificationTagIds:v}=t,g=e.sort().join(""),x=(0,o.Pr)((()=>performance.now()),[g,n,l]),w=f(l,e,p,b,m,r,n,v),_=r?h(b):d(b),{error:S,loading:E,data:C}=(0,s.aM)(w.query||_,w),I=y({loading:E,data:C}),{metalClient:O,page:T}=(0,i.useContext)(u.$P);return(0,i.useEffect)((()=>{if(O&&I){const t=performance.now();Promise.resolve(O).then((e=>{e.metric.submit({component:"useExtensionList",page:T,name:c.catalog.performance.COMPONENT_READY,value:t-x})}))}}),[I,x,O,T]),(0,i.useEffect)((()=>{if(O&&!I&&S&&S.graphQLErrors.length>0){const t=S.graphQLErrors.find((t=>(0,a.QR)(t)||(0,a.jP)(t)));Promise.resolve(O).then((e=>{e.error.submit({component:"useExtensionList",page:T,name:t?(0,a.QR)(t)?c.catalog.error.COMPONENT_API:c.catalog.error.COMPONENT_GRAPHQL:c.catalog.error.UNCAUGHT})}))}}),[I,S,O,T]),{error:S,extensions:I||[],loading:E}}},185015:(t,e,n)=>{"use strict";n.d(e,{Z:()=>v});var r=n(615919),i=n(840506),o=n(24359),s=n(199009);class a extends i.PureComponent{constructor(...t){super(...t),(0,s.Z)(this,"state",{MediaImage:a.MediaImage})}async componentDidMount(){if(!this.state.MediaImage)try{const[t,e]=await Promise.all([Promise.all([n.e(31382),n.e(42434),n.e(58077)]).then(n.bind(n,681694)),n.e(38226).then(n.bind(n,838918))]),r=t.withMediaClient(e.MediaImageInternal);a.MediaImage=r,this.setState({MediaImage:r})}catch(t){}}render(){const{MediaImage:t}=this.state;return t?i.createElement(t,(0,r.Z)({},this.props)):this.props.children({loading:!0,error:!1,data:void 0})}}a.displayName="MediaImageLoader",(0,s.Z)(a,"displayName","AsyncMediaImage"),(0,s.Z)(a,"MediaImage",void 0);var c=n(872342),u=n(542434),l=n(985598);const p=({identifier:t,apiConfig:e={},children:n,ssr:o})=>{const{width:s,height:a,mode:c,allowAnimated:u,upscale:p,"max-age":d}=e,h={width:s,height:a},{preview:f,error:y,getSsrScriptProps:b}=(0,l.l)({identifier:t,dimensions:h,ssr:o,resizeMode:c,allowAnimated:u,upscale:p,maxAge:d});let m="loading";return null!=f&&f.dataURI?m="succeeded":y&&(m="error"),i.createElement(i.Fragment,null,n({loading:"loading"===m,error:"error"===m,data:"succeeded"===m?{status:m,src:null==f?void 0:f.dataURI}:void 0}),b&&i.createElement("script",(0,r.Z)({},b())))},d=["mediaClientConfig"],h=t=>{let{mediaClientConfig:e}=t,n=(0,c.Z)(t,d);return(0,i.useContext)(u.U5)?i.createElement(p,(0,r.Z)({},n)):i.createElement(u.K_,{clientConfig:e},i.createElement(p,(0,r.Z)({},n)))};h.displayName="MediaImageWithMediaClient";const f=h;class y extends i.Component{constructor(...t){super(...t),(0,s.Z)(this,"state",{hasError:!1})}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,e){}render(){return this.state.hasError?this.props.fallback:this.props.children}}y.displayName="ErrorBoundary";const b=t=>i.createElement(y,{fallback:t.children({loading:!1,error:!0})},i.createElement(f,(0,r.Z)({},t)));b.displayName="MediaImageWithErrorBoundary";const m=b;const v=function(t){return(0,o.e)("platform.media-experience.imagev2_7n83d")?i.createElement(m,(0,r.Z)({},t)):i.createElement(a,(0,r.Z)({},t))}}}]);
//# sourceMappingURL=8357.X5gWo_MTeF.js.map