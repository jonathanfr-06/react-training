"use strict";(self._cf=self._cf||[]).push([[71369],{461992:(e,t,n)=>{n.d(t,{o:()=>i});var a=n(840506),o=n(230475),r=n(734233);function i(){const{location:e}=(0,a.useContext)(r.M);return(0,o.O)(e||window.location)}},498551:(e,t,n)=>{n.d(t,{A:()=>a});const a=(0,n(940155).y$)({__loadable_id__:"Zv3ON",name:"PageShownPublicLinksEventLoader",loader:async()=>{const{PageShownPublicLinksEvent:e}=await n.e(49105).then(n.bind(n,631946));return e}})},349044:(e,t,n)=>{n.d(t,{b:()=>a});let a=function(e){return e.COLLAB_EDIT_PROVIDER_FETCH="collabEditProviderAnalyticsFetch",e.COLLAB_EDIT_PROVIDER_CREATED="collabEditProviderCreated",e.COLLAB_EDIT_PROVIDER_DISABLED="collabEditProviderDisabled",e.COLLAB_EDIT_PROVIDER_INIT="collabEditProviderInitialized",e.COLLAB_EDIT_PROVIDER_PRE_CONNECTED="collabEditProviderPreconnected",e.COLLAB_EDIT_PROVIDER_CONNECTED="collabEditProviderConnected",e.COLLAB_EDIT_PROVIDER_INIT_DOC="collabEditProviderInitDoc",e.COLLAB_EDIT_PROVIDER_FETCH_NCS_DRAFT="collabEditProviderFetchNCSDraft",e.COLLAB_PERMS_TOKEN_FETCH="collabEditProviderPermsTokenFetch",e}({})},237832:(e,t,n)=>{n.d(t,{$:()=>r,c:()=>o});var a=n(940155);const o=(0,a.ZR)({__loadable_id__:"-wRKF",name:"FullPageEditorLoader",loader:async()=>{const{FullPageEditorComponent:e}=await Promise.all([n.e(12705),n.e(54936),n.e(11216),n.e(61769),n.e(14248),n.e(21488),n.e(84185),n.e(32072),n.e(35824),n.e(33963),n.e(45159),n.e(31382),n.e(42434),n.e(29583),n.e(1244),n.e(90077),n.e(72178),n.e(16215),n.e(39159),n.e(82995),n.e(48708),n.e(70289),n.e(88699),n.e(87828),n.e(31462),n.e(75119),n.e(67616),n.e(33446),n.e(57941),n.e(30327),n.e(54305),n.e(42505),n.e(52044),n.e(96400),n.e(84266),n.e(54535),n.e(48528),n.e(95470),n.e(71852),n.e(3754),n.e(63681),n.e(61198),n.e(50787),n.e(72463),n.e(5946),n.e(3421),n.e(83785),n.e(18213),n.e(85598),n.e(51238),n.e(78866),n.e(46052),n.e(99348),n.e(91192),n.e(17269),n.e(34664),n.e(13875),n.e(8357),n.e(8660),n.e(97986),n.e(92680),n.e(93887),n.e(61730),n.e(95847),n.e(70054),n.e(15682),n.e(10748),n.e(67333),n.e(89946),n.e(51368),n.e(15173),n.e(51519),n.e(64937),n.e(61681),n.e(88408),n.e(46125),n.e(60591),n.e(45298),n.e(34576),n.e(53268),n.e(6563),n.e(64316)]).then(n.bind(n,16842));return e}}),r=(0,a.ui)({__loadable_id__:"MxDS0",name:"EditInContextChangeboardingLoader",loader:async()=>(await Promise.all([n.e(11216),n.e(14248),n.e(21488),n.e(84185),n.e(72739)]).then(n.bind(n,275598))).EditInContextChangeboarding})},270420:(e,t,n)=>{n.d(t,{ok:()=>m});var a=n(615919),o=n(872342),r=n(840506),i=n(767001),s=n(920839),d=n(618305),l=n(16728);const c=["as","style"],E=["as","style"];n(794818),n(962731),n(234801),n(925992),n(380714),n(163513),n(520700),n(645299),n(672509),n(926212),n(169992),n(141745),n(244089),n(4558);const u=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:s}=e,d=(0,o.Z)(e,c);return r.createElement(n,(0,a.Z)((0,a.Z)({},d),{},{style:s,ref:t,className:(0,i.Z)(["_kqsw1n9t _154i1ssb _1ltv1ssb _t9ec1ooe _1pby1ap8",d.className])}))}));const _=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:d}=e,c=(0,o.Z)(e,E);return r.createElement(n,(0,a.Z)((0,a.Z)({},c),{},{style:(0,a.Z)((0,a.Z)({},d),{},{"--_1diaiqk":(0,s.Z)(`var(--ds-surface, ${l.N0})`)}),ref:t,className:(0,i.Z)(["_1pbybfng _4t3i1osq _1bsb1osq _kqsw1n9t _1ltvidpf _154iidpf _bfhk1qpv _tzy47u59 _v5641p41 _1lww1yx9",c.className])}))}));const m=()=>r.createElement(r.Fragment,null,r.createElement(u,null,r.createElement(d.Z,{size:26})),r.createElement(_,null));m.displayName="FullPageLoadingScreen"},92967:(e,t,n)=>{n.d(t,{l:()=>o});var a=n(199009);const o=new class{constructor(){(0,a.Z)(this,"tokenState",{})}getPermissionsTokenState(e){return this.tokenState[e]}setToken(e,t=Promise.resolve(null)){this.tokenState[e]={getToken:t,isUsedForDraftFetch:!1,isUsedForWSInitialization:!1}}setIsUsedForDraftFetch(e,t){this.tokenState[e]&&(this.tokenState[e].isUsedForDraftFetch=t)}setIsUsedForWSInitialization(e,t){this.tokenState[e]&&(this.tokenState[e].isUsedForWSInitialization=t)}setTimestamp(e){this.tokenState[e]&&(this.tokenState[e].timestamp=performance.now())}clearPermissionsTokenState(e){this.tokenState[e]&&delete this.tokenState[e]}}},650053:(e,t,n)=>{n.d(t,{$:()=>E});var a=n(615919),o=n(318122),r=n(784569),i=n(649233),s=n(349044),d=n(195988);const l=n(779076).ZP`query getCollabToken($contentId:ID!$draftShareId:String)@SLA{collabToken(id:$contentId draftShareId:$draftShareId){token}}`;var c=n(92967);const E=(0,o.default)(((e,t)=>async()=>{const n=c.l.getPermissionsTokenState(e);if(n){const{getToken:t,isUsedForDraftFetch:a,isUsedForWSInitialization:o}=n;if(a&&!o){const n=await t;if(n)return c.l.setIsUsedForWSInitialization(e,!0),n}}const o=(0,r.WQ)();try{var E,u;d.u.markMeasureStart(s.b.COLLAB_PERMS_TOKEN_FETCH);const n=await o.query({query:l,variables:(0,a.Z)({contentId:e},t&&{draftShareId:t}),fetchPolicy:"network-only"});return d.u.markMeasureEnd(s.b.COLLAB_PERMS_TOKEN_FETCH),null!==(E=null===(u=n.data)||void 0===u||null===(u=u.collabToken)||void 0===u?void 0:u.token)&&void 0!==E?E:null}catch(b){var _;if((0,i.Xb)(b),(m=b)&&"graphQLErrors"in m&&(null===(I=m.graphQLErrors)||void 0===I?void 0:I.some((e=>e.message.includes("Invalid content id")))))throw{message:"Content not found",data:{status:404,code:"INSUFFICIENT_EDITING_PERMISSION",meta:{description:"RESOURCE_DELETED",reason:"RESOURCE_DELETED"}}};if(503===(null==b||null===(_=b.networkError)||void 0===_||null===(_=_.response)||void 0===_?void 0:_.status))throw{message:"Service unavailable",data:{meta:{reason:"RESOURCE_DELETED"}}};return null}var m,I}))},574196:(e,t,n)=>{n.d(t,{u5:()=>a});const a=(0,n(940155).tM)({__loadable_id__:"kDE-E",name:"NativeCollabLoader",loader:async()=>{const{NativeCollabComponent:e}=await Promise.all([n.e(12705),n.e(61769),n.e(31382),n.e(31462),n.e(75119),n.e(67616),n.e(54305),n.e(49757),n.e(71486),n.e(35642),n.e(1663),n.e(73030)]).then(n.bind(n,73446));return e}})},366558:(e,t,n)=>{n.d(t,{f:()=>a});const a=(0,n(940155).tM)({__loadable_id__:"wcXKn",name:"EmbedRouteLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(54936),n.e(11216),n.e(61769),n.e(32072),n.e(33963),n.e(29583),n.e(87828),n.e(33446),n.e(52044),n.e(28044),n.e(19968),n.e(5946),n.e(99031),n.e(57312),n.e(60884),n.e(6582),n.e(22296)]).then(n.bind(n,498716))).EmbedRoute})},552221:(e,t,n)=>{n.r(t),n.d(t,{ViewOrEditRoute:()=>g});var a=n(840506),o=n(267083),r=n(615919),i=n(343423),s=n(574196),d=n(650053),l=n(237832),c=n(270420);const E=({contentId:e,spaceKey:t,draftShareId:n,contentType:o})=>{const[E,u]=(0,a.useState)(e);return(0,a.useEffect)((()=>{u(e)}),[e]),e!==E?a.createElement(c.ok,null):a.createElement(i.n,null,a.createElement(s.u5,{contentId:e,spaceKey:t,draftShareId:n,contentType:o,permissionTokenRefresh:(0,d.$)(e,n)},(e=>a.createElement(l.c,(0,r.Z)((0,r.Z)({},e),{},{extensionContextProvider:{ClassicEditorContextProvider:i.n}})))))};E.displayName="EditPageLoader";var u=n(678213),_=n(970199),m=n(262163),I=n(503906),b=n(58055),S=n(284186),v=n(461992),P=n(498551),h=n(302573),C=n(564828),T=n(271069),f=n(366558),p=n(899344);const g=({name:e,params:{contentId:t,spaceKey:n,contentSlug:r,contentType:i},query:s})=>{const{includeTopNav:d}=(0,a.useContext)(h.D),l=(0,v.o)(),c=!l,g=(0,m.Zc)(),y=e===S.SM.name,D=e===S.nM.name||e===S.S1.name,L=e===S.At.name,R=e===S.DN.name,k=e===S.aY.name,w="blog"===i||D,O="~SYSTEM~"===n,N=y||D,F=N||"pages"===i||"blog"===i;let Z,A=_.nd;O?A=_.P2:w&&(A=_.D9),"blog"===i||D?Z="blogpost":"pages"===i||y?Z="page":L?Z="whiteboard":R?Z="database":k&&(Z="embed");const M=(0,a.useMemo)((()=>({includeTopNav:!l&&d})),[d,l]);return a.createElement(I.l,{screenEvent:L?{name:"whiteboardScreen",id:t,attributes:{contentId:t}}:R?{name:"databaseScreen",id:t,attributes:{contentId:t}}:k?{name:"embedScreen",id:t,attributes:{contentId:t}}:{name:N?"viewPageScreen":"editPageScreen",id:t,attributes:{isPublicView:!1,pageLoadInfo:(0,u.aX)()}},pageContext:(()=>{const a={contentId:t,spaceKey:n,routeName:e,contentType:Z};return N&&(a.contentSlug=r),a})(),showPremiumOnboarding:!!F&&c},a.createElement(b.Z,{enableNavigation:!g,navView:A,spaceKey:n,editorPreloader:F?o.getEditorPreloader:void 0,disableMinWidth:!!i,isViewPage:!0},a.createElement(h.D.Provider,{value:M},L?a.createElement(C.N,{spaceKey:n,contentId:t,isEmbeddedConfluence:l}):R?a.createElement(T.Q,{spaceKey:n,contentId:t}):k?a.createElement(f.f,{spaceKey:n,contentId:t}):N?a.createElement(p.i,{routeName:e,spaceKey:n,contentId:t,contentSlug:r,isMobile:g,isPage:y,isEmbeddedConfluence:l}):a.createElement(a.Fragment,null,a.createElement(E,{contentId:t,spaceKey:n,draftShareId:null==s?void 0:s.draftShareId,contentType:Z}),a.createElement(P.A,{contentId:t,pageType:Z,isEditPage:!0})))))};g.displayName="ViewOrEditRoute"}}]);
//# sourceMappingURL=71369.TDQIUOSJhZ.js.map