(self._cf=self._cf||[]).push([[41123],{682564:(e,n,t)=>{var r=t(859126),a=t(576083),o=t(143637),l=t(507514),i=t(342009),c=t(200978);e.exports=function(e,n,t,s){var d=-1,u=a,m=!0,v=e.length,f=[],p=n.length;if(!v)return f;t&&(n=l(n,i(t))),s?(u=o,m=!1):n.length>=200&&(u=c,m=!1,n=new r(n));e:for(;++d<v;){var y=e[d],g=null==t?y:t(y);if(y=s||0!==y?y:0,m&&g==g){for(var E=p;E--;)if(n[E]===g)continue e;f.push(y)}else u(n,g,s)||f.push(y)}return f}},635277:(e,n,t)=>{var r=t(682564),a=t(957271),o=t(580320),l=t(658849),i=o((function(e,n){return l(e)?r(e,a(n,1,l,!0)):[]}));e.exports=i},745869:(e,n,t)=>{"use strict";t.d(n,{T:()=>l});var r=t(840506),a=t(740223);const o=()=>{},l=(0,r.memo)((({markName:e,timing:n,metric:t,onComplete:l=o,timestamp:i})=>{const c=(0,r.useCallback)((()=>{t&&(t.mark(e,i),l())}),[t,l]);return(0,a.G)(c,n),null}))},341123:(e,n,t)=>{"use strict";t.d(n,{Y:()=>W,b:()=>Z});var r=t(872342),a=t(615919),o=t(443037),l=t.n(o),i=t(635277),c=t.n(i),s=t(318122),d=t(840506),u=t(486889),m=t(932038),v=t(341700),f=(t(142578),t(627521)),p=t(54685),y=t(9019),g=t(434735),E=(t(702061),t(179640)),b=t(240694),C=t(193795),R=t(686692),w=t(243578),h=t(133494);const S=(0,d.memo)((()=>{var e;const n=!((0,w.W)()&&null!==(e=window)&&void 0!==e&&e.__SSR_RENDERED__);return d.createElement(d.Fragment,null,n&&d.createElement(h.D,{name:"fy21-legacy-fmp"}),d.createElement(h.D,{name:"fy21-legacy-tti"}))}));var k=t(550980),_=t(509145),M=t(534564);const P=({contentId:e,isFabric:n,appearance:t,isFallback:r=!1,fallbackMacros:a=[],revision:o,isRenderTTIMark:l=!1,isAutoConverted:i=!1,lastModifiedDate:c=""})=>{const[,s]=(0,_.b)(),{createAnalyticsEvent:m}=(0,u._)(),v=(0,M.I)();(0,d.useEffect)((()=>{l||null==s||s.onContentRendered()}),[s,l]),(0,d.useEffect)((()=>{if(c){const e=Date.now()-Date.parse(c);e>15e3&&m({type:"sendTrackEvent",data:{action:"viewed",actionSubject:"performanceTrigger",source:"viewPage",attributes:{timeSinceLastPublished:e,isEditInContextEnabled:v}}}).fire()}}),[m,v,c]);const f=!n||l,p=!l;return d.createElement(d.Fragment,null,p&&d.createElement(S,null),f&&d.createElement(k.m,{appearance:t,contentId:e,fabric:n,fallback:Boolean(r),fallbackMacros:a,revision:o,isAutoConverted:i}))};P.displayName="RendererPerformanceMetrics";var I=t(734233),F=t(166258),A=t(578787),T=t(199239);let x=!1;var B=t(940155);const L=(0,B.tM)({__loadable_id__:"uKJLv",loader:async()=>(await Promise.all([t.e(12705),t.e(54936),t.e(11216),t.e(61769),t.e(14248),t.e(21488),t.e(84185),t.e(32072),t.e(33963),t.e(31382),t.e(42434),t.e(29583),t.e(1244),t.e(90077),t.e(72178),t.e(16215),t.e(82995),t.e(48708),t.e(70289),t.e(31462),t.e(75119),t.e(67616),t.e(33446),t.e(54305),t.e(16314),t.e(42505),t.e(52044),t.e(96400),t.e(84266),t.e(71852),t.e(63681),t.e(61198),t.e(3421),t.e(18213),t.e(78866),t.e(46052),t.e(61730),t.e(15682),t.e(89946),t.e(64937),t.e(60591),t.e(8309),t.e(87500)]).then(t.bind(t,211601))).PageContentRendererFabric,name:"PageContentRendererFabric"}),D=(0,B.tM)({__loadable_id__:"4384G",loader:async()=>(await Promise.all([t.e(11216),t.e(32072),t.e(90077),t.e(16215),t.e(82995),t.e(8309),t.e(41810)]).then(t.bind(t,101667))).PageContentRendererTiny,name:"PageContentRendererTiny"}),N=(0,B.tM)({__loadable_id__:"lgl67",loader:async()=>(await t.e(22401).then(t.bind(t,378775))).PageContentRendererFallback,name:"PageContentRendererFallback"});var O=t(897785);const j="confluence-macro-resources-container";var H=t(608888),q=t(189822);const K=["appearance","contentId","data","error","eventHandlerOverrides","hasInlineComments","isPreviewMode","isSpaceOverview","isTemplateEditorRenderer","queryHash","spaceKey","isArchived","contentStatusError"],Q=(0,s.default)((e=>()=>d.createElement(P,(0,a.Z)({},e))),l()),Z=(e,n)=>{},$=(0,d.memo)((e=>{var n,t,o,l,i,s;let{appearance:p,contentId:y,data:w,error:h,eventHandlerOverrides:S={},hasInlineComments:k=!0,isPreviewMode:_,isSpaceOverview:M=!1,isTemplateEditorRenderer:P,queryHash:B,spaceKey:Z,isArchived:$,contentStatusError:W}=e,J=(0,r.Z)(e,K);const U=Boolean(null==w||null===(n=w.space)||void 0===n||null===(n=n.theme)||void 0===n?void 0:n.themeKey),{markerRefs:z}=(0,g.Q)({pageId:y,shouldFireQuery:Boolean(!1)&&k}),{getLegacyContentExtensions:G}=(0,d.useContext)(C.w),[X,Y]=(0,d.useState)(null),V=(null==w||null===(t=w.content)||void 0===t||null===(t=t.nodes)||void 0===t?void 0:t[0])||null,ee=(null==V||null===(o=V.body)||void 0===o?void 0:o.dynamic)||null,ne=(0,E.T)("confluence.frontend.fixed-page-header"),te=(0,E.T)("confluence.frontend.disable-tiny-fallback-mode"),{createAnalyticsEvent:re}=(0,u._)(),ae=(0,b.a)();if((({contentBody:e})=>{var n,t,r,a;const o="atlas_doc_format"===(null==e?void 0:e.representation),l=null==e?void 0:e.webresource,i=(null==l||null===(n=l.tags)||void 0===n?void 0:n.css)||"",c=null===(t=(r=(null==l||null===(a=l.tags)||void 0===a?void 0:a.js)||"").replaceAll)||void 0===t?void 0:t.call(r,"&amp;","&"),s=Boolean(i||c);(0,d.useEffect)((()=>(o&&s&&((0,O.wj)(j,i),(0,H.n)().then((()=>{const e=document.getElementById(j);e&&(0,q.K)(e,c)}))),()=>{(0,O.wj)(j,"")})),[s,i,c,o])})({contentBody:ee}),(e=>{const{getQueryParams:n}=(0,d.useContext)(I.M);(0,d.useEffect)((()=>{if(!e)return;const t=n().preview;void 0!==t&&(0,F.N)(["wr!com.atlassian.confluence.plugins.confluence-previews:confluence-previews-jquery"],(()=>{if(x){var e;const n=(0,A.l)("cp/confluence/file-preview-loader");null==n||n.resetPreviewFileList();let r="full";6===(null==t||null===(e=t.split("/"))||void 0===e?void 0:e.length)&&(r="comment"),null==n||n.setupPreviewerForSPA(void 0,void 0,r,"comment"===r)}else(0,T.R)({listener:"useConfluencePreviewsForceLoad",module:"cp/confluence/preview"},(()=>{const e=(0,A.l)("cp/confluence/preview");null==e||e.loadConfluencePreviews(),null==e||e.loadConfluencePreviews(),x=!0}))}),(()=>{}))}),[n,e])})(y),h)return d.createElement(f.X,{error:h});if(!y||!w)return null;const oe=(null==V||null===(l=V.version)||void 0===l?void 0:l.confRev)||"",le="atlas_doc_format"===(null==ee?void 0:ee.representation),ie=(null==ee||ee.webresource,null==V||null===(i=V.metadata)||void 0===i?void 0:i.lastModifiedDate);let ce=p;!ce&&V&&(ce=(0,m.Y)((0,v.uS)(V).appearance)),window.performance.mark("CFP-63.next.content-renderer.rendered");const se=(null==V||null===(s=V.metadata)||void 0===s||null===(s=s.frontend)||void 0===s?void 0:s.macroNamesNotSpaFriendly)||[],de=()=>d.createElement(D,{contentAppearance:ce,contentBody:ee,contentId:y,getLegacyContentExtensions:G,markerRefs:z,queryHash:B,renderPerformanceMetrics:Q,revision:oe,setRootEl:Y,fallbackMacros:se,lastModifiedDate:ie}),ue=()=>G?d.createElement(N,{contentId:y,queryHash:B,renderPerformanceMetrics:Q,revision:oe,getLegacyContentExtensions:G,fallbackMacros:se,lastModifiedDate:ie}):null;if(le)return d.createElement(L,(0,a.Z)({content:V,contentAppearance:ce,contentBody:ee,contentId:y,eventHandlerOverrides:S,hasInlineComments:k,isPreviewMode:_,isSpaceOverview:M,isTemplateEditorRenderer:P,markerRefs:z,queryHash:B,renderPerformanceMetrics:Q,revision:oe,rootEl:X,setRootEl:Y,spaceKey:Z,spaceId:ae,isArchived:$,contentStatusError:W,isContentHeaderFixedAtTop:!U&&ne},J));const me=0===c()(se,["multimedia","style"]).length;if(me||te)try{const{CSSForAnalytics:e,contentWithScopedCSS:n}=(0,R.LC)((null==ee?void 0:ee.value)||"");e&&n!==(null==ee?void 0:ee.value)&&re({type:"sendUIEvent",data:{action:"scoped",actionSubject:"legacyStyleMacro",source:"PageContentRenderer",attributes:{CSSForAnalytics:e}}}).fire(),ee&&(ee.value=n)}catch(h){if(re({type:"sendUIEvent",data:{action:"error",actionSubject:"legacyStyleMacro",source:"PageContentRenderer",attributes:{error:h,extractedCSS:(0,R.Ip)((null==ee?void 0:ee.value)||"")}}}).fire(),!te)return ue()}return te||null!=V&&null!==(ve=V.metadata)&&void 0!==ve&&null!==(ve=ve.frontend)&&void 0!==ve&&ve.spaFriendly||me?de():ue();var ve})),W=(0,p.P)({attribution:y.x.BACKBONE})($);W.displayName="PageContentRenderer"},509145:(e,n,t)=>{"use strict";t.d(n,{b:()=>c,d:()=>i});var r=t(834232),a=t(565008),o=t(944547);const l=(0,r.M)({initialState:{isContentReady:!1,contentLoading:{}},actions:{onContentRendered:()=>({setState:e})=>{e({isContentReady:!0})},addContentToBeLoaded:(e,n)=>({setState:t,getState:r})=>{const a=r().contentLoading;a[e]=n,t({contentLoading:a})},removeContentFromLoading:e=>({setState:n,getState:t})=>{const r=t().contentLoading;r[e]&&delete r[e],n({contentLoading:r})}},name:"isContentReady"}),i=(0,a.f)(l),c=(0,o.Bi)(l)},963399:(e,n,t)=>{"use strict";t.d(n,{E:()=>r});const r=t(779076).ZP`query InlineHighlightsQuery($pageId:ID!){comments(pageId:$pageId type:UNRESOLVED depth:ROOT first:1000){nodes{id location{...on InlineComment{type inlineMarkerRef}}replies{id}}}}`},434735:(e,n,t)=>{"use strict";t.d(n,{Q:()=>o});var r=t(167347),a=t(963399);const o=({pageId:e,shouldFireQuery:n=!0})=>{var t;const{data:o,loading:l}=(0,r.aM)(a.E,{variables:{pageId:e},skip:!Boolean(n)});let i=[],c={};const s=null==o||null===(t=o.comments)||void 0===t?void 0:t.nodes;return s&&Array.isArray(s)&&(c=s.reduce(((e,n)=>{var t;if(!n)return e;const{inlineMarkerRef:r}=n.location;return r?(e[null==n?void 0:n.id]=r,null==n||null===(t=n.replies)||void 0===t||t.forEach((n=>{if(n){const{id:t}=n;e[t]=r}})),e):e}),{}),i=[...new Set(Object.values(c))]),{markerRefs:i,markerRefMap:c,loading:l}}},550980:(e,n,t)=>{"use strict";t.d(n,{m:()=>k});var r=t(615919),a=t(840506),o=t(822464),l=t(443037),i=t.n(l),c=t(400318),s=t(155049),d=t(243578),u=t(870797),m=t(745869),v=t(779894),f=t(323612),p=t(487696),y=t(906552),g=t(734233),E=t(534564),b=t(49878);const C=new Set,R=()=>{try{performance.mark("rendererRendered.end"),performance.measure("browser-metric:ContentRenderer",(0,d.W)()?void 0:"browser-metric.start","rendererRendered.end")}catch(e){}},w=e=>{var n,t;if(!(0,d.W)())return e;const a=(null===(n=performance.getEntriesByName("rendererRendered.end").pop())||void 0===n?void 0:n.startTime)||0,o=(null===(t=performance.getEntriesByName("browser-metric:fmp").pop())||void 0===t?void 0:t.duration)||0,l=(0,v.Jy)();let i=a;return window.__SSR_RENDERED__&&!l&&o>0&&(i=o),(0,r.Z)((0,r.Z)({},e),{},{macroFailures:l,nTTI:Math.round(i)})},h=({revision:e,appearance:n,contentId:t,fabric:r,fallback:o,fallbackMacros:l,loadedFromCache:i,isAutoConverted:d})=>{const{isLite:f,routeName:C}=(0,a.useContext)(p.z1),{getQueryParams:h}=(0,a.useContext)(g.M),{ccProxyTarget:S,ccProxyStaticApp:k}=h(),_=(0,E.I)(),M="EXTERNAL_SHARE"===C?c.iWJ:c.bbO,P=(l||[]).reduce(((e,n)=>(e[n]=!0,e)),{}),I=(0,v.Jy)(),F=(0,v.bw)()&&!I?(0,y.es)("CFP-63.ssr-ttr"):void 0,A={appearance:n,contentId:t,fallback:o,fallbackMacros:P,fabric:r,isLite:Boolean(f),ccProxyTarget:Boolean(S||k),loadedFromCache:i,isAutoConverted:d,isEditInContextEnabled:_};return a.createElement(a.Fragment,null,a.createElement(s.F,{key:`es${t}_${e}`,name:M,attributes:{fabric:r}}),a.createElement(u.M,{key:`psle${t}`,metric:b.j,customData:A,stopTime:F,onComplete:R,augmentCustomDataAfterComplete:w}),a.createElement(m.T,{key:`pslm${t}`,metric:b.j,markName:"fy23-legacy-tti"}))};function S({progressBar:e}){return(0,a.useEffect)((()=>{e.hasStarted()&&e.finish()})),null}const k=(0,a.memo)((({appearance:e,fabric:n,fallback:t,contentId:r,revision:l,fallbackMacros:i,isAutoConverted:c})=>{var s;(0,a.useContext)(p.z1);const d=(0,a.useRef)(C.has(r)).current;(0,a.useEffect)((()=>{C.add(r)}),[r]);return l!==(null!==(s=(e=>{const n=(0,a.useRef)();return(0,a.useEffect)((()=>{n.current=e})),n.current})(l))&&void 0!==s?s:null)?a.createElement(a.Fragment,null,a.createElement(o.xs,{to:[f.E]},(e=>a.createElement(S,{progressBar:e}))),a.createElement(h,{revision:l,appearance:e,contentId:r,fallback:t,fallbackMacros:i,isAutoConverted:c,fabric:n,loadedFromCache:d})):null}),i())},49878:(e,n,t)=>{"use strict";t.d(n,{j:()=>o});var r=t(697674),a=t(113059);const o=(0,r.is)({key:a.Ui,ssr:Boolean(window.__SSR_RENDERED__)?{doneAsFmp:!0}:void 0,timings:[{key:"tti",endMark:"tti"},{key:"fy23-legacy-tti",endMark:"fy23-legacy-tti"}]})}}]);
//# sourceMappingURL=41123.n7Is51q77z.js.map