"use strict";(self._cf=self._cf||[]).push([[27980],{695235:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>evalLegacyConnectInlineScripts});var _confluence_wrm__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(166258);function evalLegacyConnectInlineScripts(container){return container?new Promise((resolve=>{const connectScripts=Array.from(container.querySelectorAll("script.ap-iframe-body-script")),macroScripts=Array.from(container.querySelectorAll("script.cc-macro-body-script")),allScripts=connectScripts.concat(macroScripts);allScripts.length>0?(0,_confluence_wrm__WEBPACK_IMPORTED_MODULE_0__.N)(["wr!confluence.web.resources:querystring","wr!confluence.web.resources:navigator-context","wr!com.atlassian.plugins.atlassian-connect-plugin:confluence-atlassian-connect-resources-v5"],(()=>{allScripts.forEach((elementScript=>{eval(elementScript.innerHTML)})),resolve(null)}),(()=>{0})):resolve(null)})):Promise.reject(new Error("evalLegacyConnectInlineScripts missing container argument"))}},533734:(e,t,r)=>{r.r(t),r.d(t,{CustomHeaderFooter:()=>I});var n=r(840506),s=r(911492),a=r(487696),c=r(234461),l=r(9019),o=r(93972),i=r(122529),u=r(142807),m=r(629670),p=r(16728),d=r(486889),_=r(608888),f=r(189822),y=r(695235),E=r(34048),v=r(615919),g=r(872342),h=r(920839),w=r(767001);const Z=["as","style"],S=["as","style"],M=["as","style"],b=["as","style"];r(743887),r(114486),r(663035),r(521089),r(1875),r(698297),r(593940),r(410258),r(416473);const A=(0,n.forwardRef)(((e,t)=>{let{as:r="div",style:s}=e,a=(0,g.Z)(e,Z);return n.createElement(r,(0,v.Z)((0,v.Z)({},a),{},{style:(0,v.Z)((0,v.Z)({},s),{},{"--_4npb0t":(0,h.Z)("var(--ds-space-250, 20px)")}),ref:t,className:(0,w.Z)(["_19pkidpf _2hwxidpf _otyridpf _18u0idpf _1yt4ncsn",a.className])}))}));const k=(0,n.forwardRef)(((e,t)=>{let{as:r="div",style:s}=e,a=(0,g.Z)(e,S);return n.createElement(r,(0,v.Z)((0,v.Z)({},a),{},{style:s,ref:t,className:(0,w.Z)(["_1skznkob",a.className])}))}));const C=(0,n.forwardRef)(((e,t)=>{let{as:r="div",style:s}=e,a=(0,g.Z)(e,M);return n.createElement(r,(0,v.Z)((0,v.Z)({},a),{},{style:s,ref:t,className:(0,w.Z)(["_y3gn1h6o _1e0c1ule",a.className])}))}));const H=(0,n.forwardRef)(((e,t)=>{let{as:r="div",style:s}=e,a=(0,g.Z)(e,b);return n.createElement(r,(0,v.Z)((0,v.Z)({},a),{},{style:s,ref:t,className:(0,w.Z)(["_19pk12am _y3gn1h6o _1e0c1ule",a.className])}))}));const N=(0,o.defineMessages)({unsupportedMacrosTitle:{id:"custom-header-footer.unsupported.macros.title",defaultMessage:"Unsupported macros"}}),R=(0,i.ZP)((({spaUnfriendlyMacros:e=[],type:t,js:r,css:s,html:a,intl:c})=>{const l=t===E.t.HEADER?C:H,o=n.createRef(),i=n.createRef(),{createAnalyticsEvent:v}=(0,d._)();return(0,n.useEffect)((()=>{v({type:"sendScreenEvent",data:{name:"customHeaderAndFooter",attributes:{type:t===E.t.HEADER?"header":"footer"}}}).fire()}),[v,t]),(0,n.useEffect)((()=>{i.current&&o.current&&(0,_.n)().then((()=>{i.current&&(0,f.K)(i.current,r).then((()=>{o.current&&(0,y.V)(o.current)}))}))})),n.createElement(A,null,e.length?n.createElement(k,null,n.createElement(m.default,{primaryColor:`var(--ds-icon-warning, ${p.zx})`,label:c.formatMessage(N.unsupportedMacrosTitle)}),n.createElement(u.Z,{id:"custom-header-footer.unsupported.macros.list",defaultMessage:"The following macros are not currently supported in the {type}:",values:{type:t}}),n.createElement("ul",null,e.map((e=>e&&e.name&&n.createElement("li",{key:e.name},e.name))))):null,n.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),n.createElement(l,{"data-test-id":`custom-settings-${t}`,dangerouslySetInnerHTML:{__html:a},ref:o}),n.createElement("div",{ref:i}))}));const q=r(779076).ZP`query CustomHeaderAndFooterQuery($spaceKey:String){space(key:$spaceKey){id settings{customHeaderAndFooter{header{html js css spaUnfriendlyMacros{name}}footer{html js css spaUnfriendlyMacros{name}}}}}}`;function I({type:e}){return n.createElement(c.S,{attribution:l.x.BACKBONE},n.createElement(a.z1.Consumer,null,(({spaceKey:t,contentId:r})=>n.createElement(s.AE,{query:q,variables:{spaceKey:t}},(({loading:t,error:s,data:a})=>{var c;const l=null==a||null===(c=a.space)||void 0===c||null===(c=c.settings)||void 0===c||null===(c=c.customHeaderAndFooter)||void 0===c?void 0:c[e];return t||s||null==l||!l.html?null:n.createElement(R,{spaUnfriendlyMacros:Array.from(new Set(l.spaUnfriendlyMacros)),type:e,css:l.css,js:l.js,html:l.html,key:r})})))))}I.displayName="CustomHeaderFooter"}}]);
//# sourceMappingURL=27980.-aacqdXv2N.js.map