"use strict";(self._cf=self._cf||[]).push([[67079,63599],{897785:(e,t,n)=>{function o(e){let t=e.offsetTop;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t}function i(e,t){if(!e)return!1;if(!(t=t||document.scrollingElement||document.body.parentNode))return!1;const n=e.offsetHeight,i=o(e),r=o(t)+t.scrollTop,a=t.offsetHeight;return i>=r&&i+n<=r+a}function r(e){if(!e||e===document)return null;const t=window.getComputedStyle(e);return e.scrollHeight>e.clientHeight&&"hidden"!==e.style.overflow&&"visible"!==t.overflow?e:r(e.parentNode)}function a(e,t){t=t||r(e),e&&t&&!i(e,t)&&(t.scrollTop=o(e)-o(t)-t.clientHeight/2)}function s(e){return e.getBoundingClientRect()}function l(e,t){const n=t?t.documentElement:window.document.documentElement;if(!e||!n)return;const o=e.getBoundingClientRect(),{top:i,bottom:r}=o,a=n.offsetHeight;return 0<=i&&i<a||0<=r&&r<=a||i<=0&&0<=r&&r>=a}function d(e,t){const n=t?t.documentElement:window.document.documentElement;if(!e||!n)return;const o=e.getBoundingClientRect(),{top:i}=o,r=n.offsetHeight;return 0<=i&&i<r}function c(e,t){let n=document.getElementById(e);if(n||(n=document.createElement("div"),n.setAttribute("id",e),n.setAttribute("style","display: none"),document.body.appendChild(n),n=document.getElementById(e)),n&&(n.innerHTML="",t)){const e=document.createRange().createContextualFragment(t);n.appendChild(e)}}n.d(t,{F1:()=>a,Mm:()=>r,PZ:()=>i,Pi:()=>s,U4:()=>o,VX:()=>l,nX:()=>d,wj:()=>c})},152853:(e,t,n)=>{n.d(t,{D:()=>r});var o=n(840506),i=n(190206);function r({name:e,error:t,attributes:n}){const r=(0,o.useContext)(i.F);return(0,o.useEffect)((()=>r.fail({name:e,error:t,attributes:n})),[r,e,t,n]),null}},851239:(e,t,n)=>{n.d(t,{C:()=>o});const o=(e,t=!0)=>e.getBooleanValue("confluence.frontend.onboarding.experience",{default:!1,shouldTrackExposureEvent:t})},278102:(e,t,n)=>{n.d(t,{$J:()=>b,$g:()=>s,$x:()=>o,Fj:()=>h,Gd:()=>T,Gf:()=>a,Iv:()=>l,LE:()=>m,QL:()=>r,REFETCH_EVENTS:()=>_,RG:()=>y,SY:()=>p,VR:()=>u,Vg:()=>C,Wp:()=>c,dA:()=>d,gD:()=>I,n$:()=>E,r8:()=>v,vT:()=>O,w:()=>f,z1:()=>S,zo:()=>g});const o={IS_PANEL_OPEN:"quickstart-state:isPanelOpen",IS_DISMISSED:"quickstart-state:isDismissed",OPEN_TASK_ID:"quickstart-state:openTaskId",OPEN_COMPONENT_ID:"quickstart-state:openComponentId",JSW_CONFLUENCE_INTRO_TASK:"quickstart-state:jswConfIntroCompleted",HELP_COMPLETED:"quickstart-state:helpCompleted",SPACE_MODAL_COMPLETED:"quickstart-state:spaceModalCompleted",SPACE_TOUR_COMPLETED:"quickstart-state:spaceTourCompleted",COLLABORATE_COMPLETED:"quickstart-state:collaborateCompleted",HOME_MODAL_COMPLETED:"quickstart-state:homeModalCompleted",HOME_TOUR_COMPLETED:"quickstart-state:homeTourCompleted",MOBILE_COMPLETED:"quickstart-state:mobileCompleted",HAS_SEEN_DISMISSED_FLAG:"quickstart-state:hasSeenDismissedFlag",IS_MIGRATED_USER_V2:"quickstart-state:isMigratedUserV2",JSW_XFLOW_SWITCHER_TOUR_TASK:"quickstart-state:jswXflowSwitcherTourCompleted",ORIGIN_ATTRIBUTES:"onboarding-origin-state:attributes",JSW_CONFLUENCE_MODAL:"quickstart-state:jswXFlowModalCompleted",EDITOR_TUTORIAL_TASK_COMPLETED:"quickstart-state:editorTutorialTaskCompleted",QSV2_READ_GUIDE_COMPLETED:"quickstart-state:qsv2ReadConfluenceGuideCompleted",QSV2_INVITE_TEAMMATE_TASK:"quickstart-state:qsv2InviteTeammateCompleted",QSV2_INTEGRATION_TASK:"quickstart-state:qsv2IntegrationCompleted",QSV2_VIDEO_TOUR_COMPLETED:"quickstart-state:qsv2SiteVideoTourCompleted",QSV2_SPOTLIGHT_COMPLETED:"quickstart-state:qsv2SpotlightCompleted",MIGRATIONS_WELCOME_TASK:"quickstart-state:migrationsWelcomeCompleted",MIGRATIONS_NEW_PAGE_TASK:"quickstart-state:migrationsNewPageCompleted",MIGRATIONS_COLLABORATE_TASK:"quickstart-state:migrationsCollaborateCompleted",MIGRATIONS_FIND_AND_ORGANIZE_PAGES_COMPLETED:"quickstart-state:migrationsFindAndOrganizePagesCompleted",MIGRATIONS_EDIT_AND_CUSTOMIZE_CONTENT_TASK:"quickstart-state:migrationsEditAndCustomizeContentCompleted",SIMPLIFY_ADMIN_RENAME_TASK:"quickstart-state:simplifyAdminRenameSiteCompleted",NQSV2_HELP_TASK_COMPLETED:"quickstart-state:nqsv2HelpCompleted",NQSV2_CREATE_TASK_COMPLETED:"quickstart-state:nqsv2CreateCompleted",NQSV2_COLLABORATE_TASK_COMPLETED:"quickstart-state:nqsv2CollaborateCompleted",NQSV2_CONFLUENCE_101_TASK:"quickstart-state:nqsv2Confluence101Completed"},i="quickstart-checklist.invite-teammate",r="quickstart-checklist.integration",a="quickstart-checklist.jsw-xflow-switcher-tour",s="quickstart-checklist.jsw-conf-intro",l="quickstart-checklist.jswXFlowModalCompleted",d="SHOW_SWITCHER_SPOTLIGHT_ONLY",c="quickstart-checklist.invite-teammate-v2",u="quickstart-checklist.confluence-guide-v2",p="quickstart-checklist.integration-v2",m="quickstart-checklist.site-tour-v2",g="quickstart-checklist.close-spotlight",f="quickstart-checklist.migrations.welcome",C="quickstart-checklist.migrations.new-page",v="quickstart-checklist.migrations.collaborate",E="quickstart-checklist.migrations.find-and-organize-pages",h="quickstart-checklist.migrations.edit-and-customize-content",k="quickstart-checklist.simplify.admin.rename-site",S="quickstart-checklist.nth-user-v2.help",b="quickstart-checklist.nth-user-v2.confluence-101",T="quickstart-checklist.nth-user-v2.create",O="quickstart-checklist.nth-user-v2.collaborate",y={[i]:"inviteTeammateCompleted",[r]:"integrationCompleted",[a]:"jswXflowSwitcherTourCompleted",[s]:"jswConfIntroCompleted",[l]:"jswXFlowModalCompleted",[u]:"qsv2ReadConfluenceGuideCompleted",[c]:"qsv2InviteTeammateCompleted",[p]:"qsv2IntegrationCompleted",[m]:"qsv2SiteVideoTourCompleted",[g]:"qsv2SpotlightCompleted",[f]:"migrationsWelcomeCompleted",[C]:"migrationsNewPageCompleted",[v]:"migrationsCollaborateCompleted",[E]:"migrationsFindAndOrganizePagesCompleted",[h]:"migrationsEditAndCustomizeContentCompleted",[k]:"simplifyAdminRenameSiteCompleted",[T]:"nqsv2CreateCompleted",[O]:"nqsv2CollaborateCompleted",[S]:"nqsv2HelpCompleted",[b]:"nqsv2Confluence101Completed"},I=new Set([i,s,u,c,p,m,f,C,v,h,E,k,O,b]),_={ONBOARDING_ATTRIBUTES_UPDATED:"onboardingAttributesUpdated",CACHE_UPDATE_FAILED:"cacheUpdateFailed"}},564441:(e,t,n)=>{n.d(t,{K:()=>r,o:()=>i});var o=n(779076);const i=o.ZP`query GetOnboardingState($key:[String]){onboardingState(key:$key){key value}}`,r=o.ZP`mutation SetOnboardingState($states:[OnboardingStateInput!]!){setOnboardingState(states:$states){key value}}`},928782:(e,t,n)=>{n.d(t,{B8:()=>m,Gs:()=>u,Hi:()=>c,Si:()=>p,wA:()=>g});var o=n(779076),i=n(840506),r=n(167347),a=n(649233),s=n(582463),l=n(906040),d=n(564441);const c=e=>{const t={},{onboardingState:n}=e||{};return void 0!==n&&n.forEach((({key:e,value:n})=>{const o=e.split(":")[1]||e;n&&(/(true|false)/g.test(n)?t[o]="true"===n:t[o]=n)})),t},u=()=>{const[e,{error:t,called:n}]=(0,r.Db)(d.K,{update(e,{data:t}){t.setOnboardingState.forEach((({key:t,value:n})=>{e.writeFragment({id:`OnboardingState:${t}`,fragment:o.ZP`fragment myKey on OnboardingState{key value}`,data:{key:t,value:n,__typename:"OnboardingState"}})}))},onError:e=>{(0,l.Y)(e)&&(0,a.Xb)(e)}});return{setOnboardingState:(0,i.useCallback)((t=>{let n;n=Array.isArray(t)?t:[t],e({variables:{states:n},optimisticResponse:{setOnboardingState:n.map((({key:e,value:t})=>({key:e,value:t,__typename:"OnboardingState"})))}})}),[e]),error:t,called:n}},p=(e,t=!1)=>{const{isLoggedIn:n,isLicensed:o}=(0,s.D)(),i=t||(!n||!o),{data:a,error:l,loading:c,refetch:u}=(0,r.aM)(d.o,{variables:{key:e},skip:i});return{data:a,error:l,loading:c,refetch:u}},m=async(e,t)=>await e.query({query:d.o,variables:{key:t}}),g=async(e,{key:t,value:n})=>await e.mutate({mutation:d.K,variables:{key:t,value:n},update(e){e.writeFragment({id:t,fragment:o.ZP`fragment myKey on OnboardingState{key value}`,data:{key:t,value:n,__typename:"OnboardingState"}})}})},906040:(e,t,n)=>{n.d(t,{Y:()=>r});var o=n(483647),i=n(722755);function r(e){var t;return"unauthorized"===(null==e||null===(t=e.graphQLErrors)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.message)||(0,i.T)(e)||(0,o.S)(e)}},780025:(e,t,n)=>{n.r(t),n.d(t,{ELEMENTS_NOT_IN_NAV:()=>h,OnboardingNudge:()=>b,OnboardingNudgeComponent:()=>S,autoAdjustPosition:()=>k});var o=n(615919),i=n(840506),r=n(2142),a=n(486889),s=n(649233),l=n(190206),d=n(400318),c=n(152853),u=n(722755),p=n(627521),m=n(27461),g=n(9019),f=n(897785),C=n(22710);const v="nudgeTooltip",E=(e,{contentId:t,actionSubjectId:n,actionSubject:i,source:r,action:a,type:s})=>{e({type:s,data:{actionSubject:i,action:a,actionSubjectId:n,source:r,attributes:(0,o.Z)((0,o.Z)({},{contentId:t}),{},{nudgeTarget:n,componentName:v})}}).fire()},h={},k=(e,{interval:t=500,cycles:n=10})=>{let o=0;const i=setInterval((()=>{null==e||e(),o++,o===n&&clearInterval(i)}),t);return i};const S=e=>{const{createAnalyticsEvent:t}=(0,a._)(),{hidden:n,children:m,source:g,actionSubjectId:v,heading:h,content:S,width:b=320,wrapper:T,zIndex:O=r.ug.blanket(),position:y,offset:I,onShow:_,onHide:w,onClick:A,onOutsideClick:q,onboardingErrors:N}=e,x=T||i.Fragment,R=`onboarding-nudge-${v}`,P=(0,i.useContext)(l.F),D=(0,i.useRef)(null),[M,L]=(0,i.useState)(!1),[Z,$]=(0,i.useState)(!1);(0,i.useEffect)((()=>{n||P.start({name:d.HnA})}),[n,P]),(0,i.useEffect)((()=>{let e;const t=()=>{e&&window.clearTimeout(e),e=setTimeout((()=>{const e=document.getElementById(R);if(!e)return;let t=(0,f.PZ)(e);t=e.getBoundingClientRect().top>40,$(!t)}),250)};return n||window.addEventListener("scroll",t,!0),()=>{window.removeEventListener("scroll",t,!0)}}),[n,M]),(0,i.useEffect)((()=>{let e;var t;!n&&D&&D.current&&(e=k(null==D||null===(t=D.current)||void 0===t?void 0:t.forceUpdateCardPosition,{interval:500,cycles:10}));return()=>{clearInterval(e)}}),[D,n]);if(N&&N.length){const e=N.filter((e=>!function(e){var t;return!(!(0,u.T)(e)&&"unauthorized"!==(null==e||null===(t=e.graphQLErrors)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.message)||((0,s.Xb)(e),0))}(e))).map((e=>i.createElement(i.Fragment,null,i.createElement(p.X,{error:e,key:e.message}),i.createElement(c.D,{name:d.HnA,error:e,key:e.message,attributes:{source:g,actionSubjectId:v}}))));return i.createElement(i.Fragment,null,m,e)}return n||Z?i.createElement(i.Fragment,null,m):i.createElement(x,null,i.createElement(C.W,(0,o.Z)((0,o.Z)({},e),{},{ref:D,heading:h,content:S,width:b,hidden:n||Z,hideNudgeOnClick:!0,hideSpotlightCardOnOutsideClick:!0,onHide:()=>{E(t,{type:"sendTrackEvent",source:g,actionSubjectId:v,actionSubject:"nudgeTooltip",action:"hidden"}),null==w||w()},onShow:()=>{E(t,{type:"sendTrackEvent",source:g,actionSubjectId:v,actionSubject:"nudgeTooltip",action:"shown"}),null==_||_()},onClick:()=>{E(t,{type:"sendTrackEvent",source:g,actionSubjectId:v,actionSubject:"nudgeTooltip",action:"clicked"}),null==A||A(),P.succeed({name:d.HnA})},onOutsideClick:()=>{null==q||q(),L(!0)},zIndex:O,position:y,offset:I}),m))},b=e=>{const t=(0,i.useContext)(l.F),n=(0,i.useCallback)((e=>{t.fail({name:d.HnA,error:e})}),[t]);return i.createElement(m.O,{attribution:g.x.CC_ONBOARDING,onError:n,renderOnError:()=>i.createElement(i.Fragment,null,e.children)},i.createElement(S,(0,o.Z)({},e)))};b.displayName="OnboardingNudge"},998718:(e,t,n)=>{n.r(t),n.d(t,{OnboardingCTANudge:()=>c});var o=n(615919),i=n(840506),r=n(780025),a=n(851239),s=n(928782),l=n(278102),d=n(582463);const c=e=>{const{hidden:t,actionSubjectId:n,children:c}=e,{isVisible:u,onboardingProps:p}=(e=>{const[t,n]=(0,i.useState)(!1),[o,r]=(0,i.useState)([]),{actionSubjectId:c}=e,{featureFlagClient:u}=(0,d.D)(),p=(0,a.C)(u,!1),{data:m,loading:g,error:f}=(0,s.Si)(Object.values(l.$x)),{setOnboardingState:C}=(0,s.Gs)(),v=(0,s.Hi)(m),{openTaskId:E,openComponentId:h}=v,k=l.RG[E],S=h===c,b=p&&S;return(0,i.useEffect)((()=>{b&&n(!0)}),[b]),(0,i.useEffect)((()=>{!g&&f&&r((e=>[...e,f]))}),[g,f]),{isVisible:t,onboardingProps:{setHidden:()=>{v[k]||C({key:k,value:"true"}),S&&C({key:l.$x.OPEN_COMPONENT_ID,value:"none"}),n(!1)},onShow:()=>{"none"!==h&&C({key:l.$x.OPEN_COMPONENT_ID,value:"none"})},onboardingErrors:o}}})({actionSubjectId:n});return i.createElement(r.OnboardingNudge,(0,o.Z)((0,o.Z)((0,o.Z)({},p),e),{},{hidden:!u&&Boolean(null==t||t)}),c)};c.displayName="OnboardingCTANudge"},379525:(e,t,n)=>{n.d(t,{r:()=>l});var o=n(840506),i=n(394049);const r=[{name:"flip",options:{flipVariations:!1,padding:5,boundary:"clippingParents",rootBoundary:"viewport"}},{name:"preventOverflow",options:{padding:5,rootBoundary:"document"}}];function a(){return null}const s=[0,8];function l({children:e=a,offset:t=s,placement:n="bottom-start",referenceElement:l,modifiers:d,strategy:c="fixed"}){const[u,p]=t,m=(0,o.useMemo)((()=>[...r,{name:"offset",options:{offset:[u,p]}}]),[u,p]),g=(0,o.useMemo)((()=>null==d?m:[...m,...d]),[m,d]);return o.createElement(i.r,{modifiers:g,placement:n,strategy:c,referenceElement:l},e)}l.displayName="Popper"},22710:(e,t,n)=>{n.d(t,{W:()=>x});var o=n(615919),i=n(872342),r=n(840506),a=n(546033);const s=["children","nudgeTestId"],l=(0,r.forwardRef)(((e,t)=>{let{children:n,nudgeTestId:l}=e,d=(0,i.Z)(e,s);return r.createElement(a.j,(0,o.Z)((0,o.Z)({},d),{},{ref:t,"data-testid":l}),n)}));var d=n(136342),c=n(379525),u=n(393242),p=n(16728),m=n(39030);const g=["index"],f={color:`var(--ds-text-inverse, ${p.N0})`,boxShadow:`var(--ds-shadow-overlay, 0 4px 8px -2px ${p.Nx}, 0 0 1px ${p.VG})`,backgroundColor:`var(--ds-background-discovery-bold, ${p.Wn})`,borderRadius:"3px",overflow:"auto"},C={display:"flex",flexDirection:"column",padding:"var(--ds-space-200, 16px) var(--ds-space-250, 20px)"},v=m.iv`
  font-size: 1.42857em;
  font-style: inherit;
  line-height: 1.2;
  font-weight: 500;
  letter-spacing: -0.008em;
  margin-top: 28;
  color: inherit;

  &:first-child {
    margin-top: 0;
  }
`,E={display:"flex",paddingBottom:"var(--ds-space-100, 8px)",alignItems:"baseline",justifyContent:"space-between"},h={display:"flex",paddingTop:"var(--ds-space-100, 8px)",alignItems:"center",justifyContent:"space-between"},k=e=>m.iv`
  margin: 0 ${"var(--ds-space-050, 4px)"};
  cursor: pointer;
  align-items: baseline;
  border-width: 0px;
  border-radius: 3px;
  box-sizing: border-box;
  display: inline-flex;
  font-size: inherit;
  font-style: normal;
  font-family: inherit;
  font-weight: 500;
  max-width: 100%;
  position: relative;
  text-align: center;
  text-decoration: none;
  transition: background 0.1s ease-out 0s,
    box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38) 0s;
  white-space: nowrap;
  background: ${e?`var(--ds-background-discovery-bold, ${p.Wn})`:`var(--ds-background-inverse-subtle, ${p.HD})`};
  height: 2.28571em;
  line-height: 2.28571em;
  padding: 0px 10px;
  vertical-align: middle;
  width: auto;
  justify-content: center;
  color: ${`var(--ds-text-inverse, ${p.N0})`};
  &:hover {
    background-color: ${`var(--ds-interaction-hovered, ${p.vJ})`};
  }
  &:active {
    background-color: ${`var(--ds-interaction-pressed, ${p.vJ})`};
  }
`,S=e=>{let{index:t}=e,n=(0,i.Z)(e,g);return(0,m.tZ)("button",(0,o.Z)({css:k(t)},n))};S.displayName="ActionItem";const b={display:"flex",margin:"var(--ds-space-negative-050, -4px)",flexDirection:"row-reverse"},T=(0,r.forwardRef)((({image:e,heading:t,actions:n,actionsBeforeElement:i,width:a=300,cardTestId:s,content:l},d)=>{const c=(0,r.useMemo)((()=>null==n?void 0:n.map((({text:e,onClick:t},n)=>(0,m.tZ)(S,{index:n,onClick:t,key:`${e}-${n}`},e)))),[n]),u=!!t,p=!!i||!!n;return(0,m.tZ)("div",{ref:d,style:(0,o.Z)((0,o.Z)({},f),{},{width:`${a}px`}),"data-testid":s},"string"==typeof e?(0,m.tZ)("img",{src:e,alt:""}):e,(0,m.tZ)("div",{style:C},u&&(0,m.tZ)("div",{style:E},(0,m.tZ)("div",{id:"nudge-spot-light-card-heading",css:v},t)),l,p&&(0,m.tZ)("div",{style:h},i||(0,m.tZ)("span",null),(0,m.tZ)("div",{style:b},c))))}));var O=n(830665);const y=["containerStyles","showSpotlight","shouldBlink","zIndex","stopBlink","ariaLabelledBy"],I={opacity:0,transitionProperty:"opacity",transitionTimingFunction:"ease-in-out",transitionDuration:"200ms"},_={entering:{},entered:{opacity:1},exiting:{transitionDuration:"120ms",opacity:0},exited:{},unmounted:{}},w={enter:0,exit:120},A=(0,r.forwardRef)(((e,t)=>{let{containerStyles:n,showSpotlight:a,shouldBlink:s,zIndex:l,stopBlink:c,ariaLabelledBy:u}=e,p=(0,i.Z)(e,y);return r.createElement(O.ZP,{appear:!0,in:a&&!s,timeout:w,onExited:c,unmountOnExit:!s},(e=>r.createElement(d.Z,{zIndex:l},r.createElement("div",(0,o.Z)({style:(0,o.Z)((0,o.Z)((0,o.Z)({},n),I),_[e]),ref:t,"aria-labelledby":u},p)))))}));var q=n(214248);const N=["hidden","setHidden","hideNudgeOnClick","hideSpotlightCardOnOutsideClick","concealSpotlightOnReferenceHidden","showSpotlightCardOnFirstRender","children","spotlightCard","nudge","position","offset","zIndex","onRender","onShow","onHide","onClick","onOutsideClick","pulseColor","pulseShadowColor","pulseBorderRadius","nudgeBlinkId","nudgeTestId","nudgeTag","headingId"],x=(0,r.forwardRef)(((e,t)=>{let{hidden:n,setHidden:a,hideNudgeOnClick:s=!0,hideSpotlightCardOnOutsideClick:p=!0,concealSpotlightOnReferenceHidden:m=!1,showSpotlightCardOnFirstRender:g=!0,children:f,spotlightCard:C=T,nudge:v=l,position:E="bottom",offset:h,zIndex:k=800,onRender:S,onShow:b,onHide:O,onClick:y,onOutsideClick:I,pulseColor:_,pulseShadowColor:w,pulseBorderRadius:x,nudgeBlinkId:R,nudgeTestId:P,nudgeTag:D,headingId:M}=e,L=(0,i.Z)(e,N);const Z=(0,r.useRef)();Z.current={onRender:S,onHide:O,onShow:b,onClick:y,onOutsideClick:I};const $=(0,r.useRef)(null),H=(0,r.useRef)(null),B=!n,[F,j]=(0,r.useState)(g),[G,V]=(0,r.useState)(!1),[z,K]=(0,r.useState)(!1),U=(0,r.useCallback)((()=>K(!1)),[]),W=(0,r.useRef)({fn:()=>{}});(0,r.useImperativeHandle)(t,(()=>({toggleCardVisibility:j,forceUpdateCardPosition:()=>W.current.fn()})),[j]);const Q=(0,r.useCallback)((()=>B&&j(!0)),[B]),X=(0,r.useCallback)((e=>{var t,o;n||(s&&a(e),null===(t=Z.current)||void 0===t||null===(o=t.onClick)||void 0===o||o.call(t))}),[n,s,a,Z]);(0,r.useEffect)((()=>{V(B&&F)}),[B,F]),(0,r.useEffect)((()=>{var e,t;if(!n)return null===(e=Z.current)||void 0===e||null===(t=e.onRender)||void 0===t||t.call(e),()=>{var e,t;return null===(e=Z.current)||void 0===e||null===(t=e.onHide)||void 0===t?void 0:t.call(e)}}),[n,Z]),(0,r.useEffect)((()=>{var e,t;G&&(null===(e=Z.current)||void 0===e||null===(t=e.onShow)||void 0===t||t.call(e))}),[G,Z]),(0,r.useEffect)((()=>{n&&j(g)}),[n,g]),(0,r.useEffect)((()=>{let e,t;return G&&p&&(t=window.setTimeout((()=>{e=(0,u.ak)(window,{type:"click",listener:t=>{const n=t.target;if($.current&&H.current&&n instanceof Node&&!$.current.contains(n)&&!H.current.contains(n)){var o,i,r;if(R){const e=((e,t,n)=>{const o=Array.from(document.querySelectorAll(`[data-nudge-blink='${e}']`));return!!(null==o?void 0:o.some((e=>e&&e.contains(t))))&&(n(!0),!0)})(R,n,K);if(e)return}j(!1),null===(o=Z.current)||void 0===o||null===(i=o.onOutsideClick)||void 0===i||i.call(o),null===(r=e)||void 0===r||r()}},options:{capture:!0,passive:!0}})}))),()=>{var n;null===(n=e)||void 0===n||n(),window.clearTimeout(t)}}),[G,p,a,Z,R]);const J=e=>m&&e?{display:"none"}:{},Y=(0,r.useMemo)((()=>C===T?(0,o.Z)({},L):{cardTestId:L.cardTestId}),[C,L]);return r.createElement(r.Fragment,null,r.createElement(v,{ref:$,hasPulse:B,onClickCapture:X,onMouseEnter:Q,pulseColor:_,pulseShadowColor:w,pulseBorderRadius:x,nudgeTestId:P,tag:D},f),r.createElement(d.Z,{zIndex:k},r.createElement(c.r,{placement:E,referenceElement:$.current||void 0,offset:h},(({ref:e,style:t,forceUpdate:n,isReferenceHidden:i})=>r.createElement(A,{showSpotlight:G,shouldBlink:z,stopBlink:U,zIndex:k,ref:e,containerStyles:(0,o.Z)((0,o.Z)({},t),J(i)),role:"dialog",ariaLabelledBy:M||"nudge-spot-light-card-heading"},r.createElement(q.ZP,null,W.current.fn=n,r.createElement(C,(0,o.Z)((0,o.Z)({},Y),{},{ref:H}))))))))}))},546033:(e,t,n)=>{n.d(t,{j:()=>C});var o=n(615919),i=n(872342),r=n(840506),a=n(39030),s=n(16728),l=n(2142);const d=["hasPulse","pulseBorderRadius","pulseColor","pulseShadowColor","tag"],c="0 0 0 3px",u=`var(--ds-border-accent-purple, ${s.kJ})`,p="var(--ds-border-accent-purple, rgba(101, 84, 192, 1))",m=a.iv`
  @keyframes pulseKeyframes {
    0% {
      opacity: 0;
    }

    50% {
      opacity: 1;
    }

    100% {
      opacity: 0;
    }
  }

  animation: pulseKeyframes 3000ms ${"cubic-bezier(0.55, 0.055, 0.675, 0.19)"} infinite;
`,g=a.iv`
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`,f=({hasPulse:e,pulseBorderRadius:t,pulseColor:n,pulseShadowColor:o})=>a.iv`
  display: block;
  > * {
    position: relative;

    &::before {
      ${g}
      border-radius: ${t}px;
      box-shadow: ${c} ${n};
      opacity: ${e?1:0};
      transition: opacity 0.1s ease-in-out;
      pointer-events: none;
    }

    &::after {
      ${g}
      border-radius: ${t}px;
      box-shadow: ${c} ${n}, 0 0 11px ${o};
      opacity: 0;
      pointer-events: none;
      ${e&&m}
    }
  }
`,C=(0,r.forwardRef)(((e,t)=>{let{hasPulse:n,pulseBorderRadius:r=(0,l.E0)(),pulseColor:s=u,pulseShadowColor:c=p,tag:m="span"}=e,g=(0,i.Z)(e,d);const C=m;return(0,a.tZ)(C,(0,o.Z)({css:f({hasPulse:n,pulseBorderRadius:r,pulseColor:s,pulseShadowColor:c}),ref:t},g))}))}}]);
//# sourceMappingURL=67079.Go4sHSjxV-.js.map