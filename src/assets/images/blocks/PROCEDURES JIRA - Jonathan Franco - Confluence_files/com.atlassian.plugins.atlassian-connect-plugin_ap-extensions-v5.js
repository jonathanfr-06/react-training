WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-extensions-v5', location = 'v5/js/core/connect-host-cookie.js' */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).connectHostCookie=e()}}((function(){return function e(n,t,r){function o(f,a){if(!t[f]){if(!n[f]){var c="function"==typeof require&&require;if(!a&&c)return c(f,!0);if(i)return i(f,!0);var u=new Error("Cannot find module '"+f+"'");throw u.code="MODULE_NOT_FOUND",u}var l=t[f]={exports:{}};n[f][0].call(l.exports,(function(e){var t=n[f][1][e];return o(t||e)}),l,l.exports,e,n,t,r)}return t[f].exports}for(var i="function"==typeof require&&require,f=0;f<r.length;f++)o(r[f]);return o}({1:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="AJS.conglomerate.cookie",o=/(\\|^"|"$)/g,i=/\|\|+/g,f=/"/g,a=/[.*+?|^$()[\]{\\]/g,c=encodeURIComponent("|"),u=encodeURIComponent("|").toLowerCase(),l="**PIPE**",p="**PIPE_PERCENT_ENCODED_UPPER**",E="**PIPE_PERCENT_ENCODED_LOWER**",g="**PERCENT**",d="**EQUALS**";function s(e){if("string"!=typeof e)return e;if(-1!==e.indexOf(l)||-1!==e.indexOf(p)||-1!==e.indexOf(E))throw new Error("Cannot use cookies that contain **PIPE** or **PIPE_PERCENT_ENCODED_UPPER****PIPE_PERCENT_ENCODED_LOWER**");if(-1!==e.indexOf(g))throw new Error("Cannot use cookies that contain **PERCENT**");if(-1!==e.indexOf(d))throw new Error("Cannot use cookies that contain **EQUALS**");return e=(e=(e=(e=(e=e.replace(new RegExp(x("|"),"g"),l)).replace(new RegExp(c,"g"),p)).replace(new RegExp(u,"g"),E)).replace(new RegExp("%","g"),g)).replace(new RegExp("=","g"),d)}function w(e){return"string"!=typeof e?e:e=(e=(e=(e=(e=e.replace(new RegExp(x(l),"g"),"|")).replace(new RegExp(x(p),"g"),c)).replace(new RegExp(x(E),"g"),u)).replace(new RegExp(x(g),"g"),"%")).replace(new RegExp(x(d),"g"),"=")}function x(e){return e.replace(a,"\\$&")}function v(e){var n=new RegExp("\\b"+x(e)+"=((?:[^\\\\;]+|\\\\.)*)(?:;|$)"),t=document.cookie.match(n);return t&&function(e){return e.replace(o,"")}(t[1])}function m(e,n,t){var o=v(r);o=function(e,n,t){var r=new RegExp("(\\s|\\|)*\\b"+x(e)+"=[^|]*[|]*");t=(t=t||"").replace(r,"|");if(""!==n){var o=e+"="+n;t.length+o.length<4020&&(t+="|"+o)}return t.replace(i,"|")}(e,n,o);!function(e,n,t){var r,o="",i='"'+n.replace(f,'\\"')+'"';if(t){(r=new Date).setTime(+r+24*t*60*60*1e3);o="; expires="+r.toGMTString()}document.cookie=e+"="+i+o+";path=/"}(r,o,t||365)}function R(e,n){var t=function(e,n){n=n||"";var t=new RegExp(x(e)+"=([^|]+)"),r=n.match(t);return r&&r[1]}(e,v(r));return null!=t?t:n}function P(e){m(e,"")}function h(e,n){if(!e||0===e.length)throw new Error("addon key must be defined on cookies");if(!n||0===n.length)throw new Error("Name must be defined")}function y(e,n){h(e,n);return e+"$$"+n}function _(e,n){h(e,n);return"connect.cookie:"+e+"$$"+n}function C(e){if(e&&e._context)return e._context.extension.addon_key;throw new Error("addon key not found in callback")}function O(e,n,t,r){var o=new Date;o.setTime(o.getTime()+24*(r||365)*60*60*1e3);localStorage.setItem(_(e,n),JSON.stringify({expiry:o.getTime(),value:t}))}function N(e,n){var t=localStorage.getItem(_(e,n));if(null!==t){var r=JSON.parse(t);if(!(r.expiry&&(new Date).getTime()>r.expiry)){var o=r.value;return"string"==typeof o?o:JSON.stringify(o)}localStorage.removeItem(n)}}t.default={save:function(e,n,t){var r=arguments[arguments.length-1],o=C(r);r._context&&O(o,e,n,t)},read:function(e,n){var t=N(C(n=arguments[arguments.length-1]),e);if(void 0!==t){n(t);return t}var r=y(C(n),s(e)),o=w(R(r));n(o);return o},erase:function(e){var n=arguments[arguments.length-1],t=y(C(n),s(e));P(t);localStorage.removeItem(_(C(n),e))}};n.exports=t.default},{}]},{},[1])(1)}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-extensions-v5', location = 'v5/js/core/connect-host-history.js' */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).connectHostHistory=t()}}((function(){return function t(e,n,r){function o(a,i){if(!n[a]){if(!e[a]){var h="function"==typeof require&&require;if(!i&&h)return h(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};e[a][0].call(l.exports,(function(t){var n=e[a][1][t];return o(n||t)}),l,l.exports,t,e,n,r)}return n[a].exports}for(var s="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./constants"),o=t("./models"),s=t("./utils");function a(t,e){(0,s.callConnectHost)((function(n){(0,s.values)(n.getExtensions()).forEach((function(r){var s=r.extension.addon_key,a=new o.Current({url:window.location.href,state:e.state}),i=new o.Route(a);n.broadcastEvent(t,{addon_key:s},i.render(s))}))}))}var i=!1;function h(t){var e=t.state.render(),n=t.url.render();window.history.pushState((0,s.wrapState)(e),n.title,n.url)}function u(t){var e=t.state.render(),n=t.url.render();window.history.replaceState((0,s.wrapState)(e),n.title,n.url)}n.default={_registerWindowListeners:function(){!function(){if(!i){window.addEventListener("popstate",(function(t){var e=(0,s.createEvent)("ap_popstate");e.state=(0,s.unwrapState)(t.state);window.dispatchEvent(e)}));window.addEventListener("ap_popstate",(function(t){var e=(0,s.createEvent)("ap_changestate");e.state=t.state;window.dispatchEvent(e);a(r.HISTORY_POPSTATE,t)}));window.addEventListener("ap_pushstate",(function(t){var e=(0,s.createEvent)("ap_changestate");e.state=t.state;window.dispatchEvent(e);a(r.HISTORY_PUSHSTATE,t)}));window.addEventListener("ap_replacestate",(function(t){var e=(0,s.createEvent)("ap_changestate");e.state=t.state;window.dispatchEvent(e);a(r.HISTORY_REPLACESTATE,t)}));window.addEventListener("ap_changestate",(function(t){a(r.HISTORY_CHANGESTATE,t)}));i=!0}}()},back:function(t){t=arguments[arguments.length-1];this.go(-1,t)},forward:function(t){t=arguments[arguments.length-1];this.go(1,t)},go:function(t){var e=arguments[arguments.length-1];e._context.extension.options.isFullPage?window.history.go(t):(0,s.log)("History is only available to page modules")},getState:function(t,e){var n=(e=arguments[arguments.length-1])._context.extension.addon_key,r=new o.Current({url:window.location.href,state:(0,s.unwrapState)(window.history.state)}),a=new o.Route(r),i=a.render(n);if("hash"===(t=t&&"string"==typeof t?t:"hash"))e(i.hash);else{if("all"!==t)throw new Error("invalid type for getState");e(i)}},pushState:function(t,e){var n=(e=arguments[arguments.length-1])._context.extension.addon_key,r=new o.Current({url:window.location.href,state:(0,s.unwrapState)(window.history.state)}),a=new o.Route(r),i=new o.Change(t,n),l=new o.Route(i);if(e._context.extension.options.isFullPage){if(l.url.isURLEqual(a.url)){a.merge(l);u(a)}else if(l.url.isPathnameEqual(a.url)){a.merge(l);h(a)}else h(l);var f=(0,s.createEvent)("ap_pushstate");f.state=(0,s.unwrapState)(window.history.state);window.dispatchEvent(f)}else(0,s.log)("History is only available to page modules")},replaceState:function(t,e){var n=(e=arguments[arguments.length-1])._context.extension.addon_key,r=new o.Current({url:window.location.href,state:(0,s.unwrapState)(window.history.state)}),a=new o.Route(r),i=new o.Change(t,n),h=new o.Route(i);if(e._context.extension.options.isFullPage){if(h.url.isURLEqual(a.url)){a.merge(h);u(a)}else if(h.url.isPathnameEqual(a.url)){a.merge(h);u(a)}else u(h);var l=(0,s.createEvent)("ap_replacestate");l.state=(0,s.unwrapState)(window.history.state);window.dispatchEvent(l)}else(0,s.log)("History is only available to page modules")}};e.exports=n.default},{"./constants":7,"./models":8,"./utils":9}],2:[function(t,e,n){(function(t){!function(r){var o="object"==typeof n&&n,s="object"==typeof e&&e&&e.exports==o&&e,a="object"==typeof t&&t;a.global!==a&&a.window!==a||(r=a);var i,h,u=2147483647,l=36,f=/^xn--/,c=/[^ -~]/,p=/\x2E|\u3002|\uFF0E|\uFF61/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,m=String.fromCharCode;function v(t){throw RangeError(d[t])}function w(t,e){for(var n=t.length;n--;)t[n]=e(t[n]);return t}function g(t,e){return w(t.split(p),e).join(".")}function E(t){for(var e,n,r=[],o=0,s=t.length;o<s;)if((e=t.charCodeAt(o++))>=55296&&e<=56319&&o<s)if(56320==(64512&(n=t.charCodeAt(o++))))r.push(((1023&e)<<10)+(1023&n)+65536);else{r.push(e);o--}else r.push(e);return r}function _(t){return w(t,(function(t){var e="";if(t>65535){e+=m((t-=65536)>>>10&1023|55296);t=56320|1023&t}return e+=m(t)})).join("")}function b(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function A(t,e,n){var r=0;t=n?y(t/700):t>>1;t+=y(t/e);for(;t>455;r+=l)t=y(t/35);return y(r+36*t/(t+38))}function x(t){var e,n,r,o,s,a,i,h,f,c,p,d=[],m=t.length,w=0,g=128,E=72;(n=t.lastIndexOf("-"))<0&&(n=0);for(r=0;r<n;++r){t.charCodeAt(r)>=128&&v("not-basic");d.push(t.charCodeAt(r))}for(o=n>0?n+1:0;o<m;){for(s=w,a=1,i=l;;i+=l){o>=m&&v("invalid-input");((h=(p=t.charCodeAt(o++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:l)>=l||h>y((u-w)/a))&&v("overflow");w+=h*a;if(h<(f=i<=E?1:i>=E+26?26:i-E))break;a>y(u/(c=l-f))&&v("overflow");a*=c}E=A(w-s,e=d.length+1,0==s);y(w/e)>u-g&&v("overflow");g+=y(w/e);w%=e;d.splice(w++,0,g)}return _(d)}function R(t){var e,n,r,o,s,a,i,h,f,c,p,d,w,g,_,x=[];d=(t=E(t)).length;e=128;n=0;s=72;for(a=0;a<d;++a)(p=t[a])<128&&x.push(m(p));r=o=x.length;o&&x.push("-");for(;r<d;){for(i=u,a=0;a<d;++a)(p=t[a])>=e&&p<i&&(i=p);i-e>y((u-n)/(w=r+1))&&v("overflow");n+=(i-e)*w;e=i;for(a=0;a<d;++a){(p=t[a])<e&&++n>u&&v("overflow");if(p==e){for(h=n,f=l;!(h<(c=f<=s?1:f>=s+26?26:f-s));f+=l){_=h-c;g=l-c;x.push(m(b(c+_%g,0)));h=y(_/g)}x.push(m(b(h,0)));s=A(n,w,r==o);n=0;++r}}++n;++e}return x.join("")}i={version:"1.2.4",ucs2:{decode:E,encode:_},decode:x,encode:R,toASCII:function(t){return g(t,(function(t){return c.test(t)?"xn--"+R(t):t}))},toUnicode:function(t){return g(t,(function(t){return f.test(t)?x(t.slice(4).toLowerCase()):t}))}};if(o&&!o.nodeType)if(s)s.exports=i;else for(h in i)i.hasOwnProperty(h)&&(o[h]=i[h]);else r.punycode=i}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,n){var r=t("punycode");n.parse=v;n.resolve=function(t,e){return v(t,!1,!0).resolve(e)};n.resolveObject=function(t,e){return t?v(t,!1,!0).resolveObject(e):e};n.format=function(t){w(t)&&(t=v(t));return t instanceof o?t.format():o.prototype.format.call(t)};n.Url=o;function o(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(i),u=["%","/","?",";","#"].concat(h),l=["/","?","#"],f=/^[a-z0-9A-Z_-]{0,63}$/,c=/^([a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},d={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=t("querystring");function v(t,e,n){if(t&&g(t)&&t instanceof o)return t;var r=new o;r.parse(t,e,n);return r}o.prototype.parse=function(t,e,n){if(!w(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t;o=o.trim();var a=s.exec(o);if(a){var i=(a=a[0]).toLowerCase();this.protocol=i;o=o.substr(a.length)}if(n||a||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var v="//"===o.substr(0,2);if(v&&(!a||!d[a])){o=o.substr(2);this.slashes=!0}}if(!d[a]&&(v||a&&!y[a])){for(var g,E,_=-1,b=0;b<l.length;b++){-1!==(A=o.indexOf(l[b]))&&(-1===_||A<_)&&(_=A)}if(-1!==(E=-1===_?o.lastIndexOf("@"):o.lastIndexOf("@",_))){g=o.slice(0,E);o=o.slice(E+1);this.auth=decodeURIComponent(g)}_=-1;for(b=0;b<u.length;b++){var A;-1!==(A=o.indexOf(u[b]))&&(-1===_||A<_)&&(_=A)}-1===_&&(_=o.length);this.host=o.slice(0,_);o=o.slice(_);this.parseHost();this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var R=this.hostname.split(/\./),O=(b=0,R.length);b<O;b++){var j=R[b];if(j&&!j.match(f)){for(var q="",S=0,C=j.length;S<C;S++)j.charCodeAt(S)>127?q+="x":q+=j[S];if(!q.match(f)){var P=R.slice(0,b),I=R.slice(b+1),T=j.match(c);if(T){P.push(T[1]);I.unshift(T[2])}I.length&&(o="/"+I.join(".")+o);this.hostname=P.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase();if(!x){var k=this.hostname.split("."),H=[];for(b=0;b<k.length;++b){var U=k[b];H.push(U.match(/[^A-Za-z0-9_-]/)?"xn--"+r.encode(U):U)}this.hostname=H.join(".")}var Y=this.port?":"+this.port:"",Q=this.hostname||"";this.host=Q+Y;this.href+=this.host;if(x){this.hostname=this.hostname.substr(1,this.hostname.length-2);"/"!==o[0]&&(o="/"+o)}}if(!p[i])for(b=0,O=h.length;b<O;b++){var L=h[b],K=encodeURIComponent(L);K===L&&(K=escape(L));o=o.split(L).join(K)}var F=o.indexOf("#");if(-1!==F){this.hash=o.substr(F);o=o.slice(0,F)}var M=o.indexOf("?");if(-1!==M){this.search=o.substr(M);this.query=o.substr(M+1);e&&(this.query=m.parse(this.query));o=o.slice(0,M)}else if(e){this.search="";this.query={}}o&&(this.pathname=o);y[i]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search){Y=this.pathname||"",U=this.search||"";this.path=Y+U}this.href=this.format();return this};o.prototype.format=function(){var t=this.auth||"";if(t){t=(t=encodeURIComponent(t)).replace(/%3A/i,":");t+="@"}var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,s="";if(this.host)o=t+this.host;else if(this.hostname){o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]");this.port&&(o+=":"+this.port)}this.query&&g(this.query)&&Object.keys(this.query).length&&(s=m.stringify(this.query));var a=this.search||s&&"?"+s||"";e&&":"!==e.substr(-1)&&(e+=":");if(this.slashes||(!e||y[e])&&!1!==o){o="//"+(o||"");n&&"/"!==n.charAt(0)&&(n="/"+n)}else o||(o="");r&&"#"!==r.charAt(0)&&(r="#"+r);a&&"?"!==a.charAt(0)&&(a="?"+a);return e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+r};o.prototype.resolve=function(t){return this.resolveObject(v(t,!1,!0)).format()};o.prototype.resolveObject=function(t){if(w(t)){var e=new o;e.parse(t,!1,!0);t=e}var n=new o;Object.keys(this).forEach((function(t){n[t]=this[t]}),this);n.hash=t.hash;if(""===t.href){n.href=n.format();return n}if(t.slashes&&!t.protocol){Object.keys(t).forEach((function(e){"protocol"!==e&&(n[e]=t[e])}));y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/");n.href=n.format();return n}if(t.protocol&&t.protocol!==n.protocol){if(!y[t.protocol]){Object.keys(t).forEach((function(e){n[e]=t[e]}));n.href=n.format();return n}n.protocol=t.protocol;if(t.host||d[t.protocol])n.pathname=t.pathname;else{for(var r=(t.pathname||"").split("/");r.length&&!(t.host=r.shift()););t.host||(t.host="");t.hostname||(t.hostname="");""!==r[0]&&r.unshift("");r.length<2&&r.unshift("");n.pathname=r.join("/")}n.search=t.search;n.query=t.query;n.host=t.host||"";n.auth=t.auth;n.hostname=t.hostname||t.host;n.port=t.port;if(n.pathname||n.search){var s=n.pathname||"",a=n.search||"";n.path=s+a}n.slashes=n.slashes||t.slashes;n.href=n.format();return n}var i,h=n.pathname&&"/"===n.pathname.charAt(0),u=t.host||t.pathname&&"/"===t.pathname.charAt(0),l=u||h||n.host&&t.pathname,f=l,c=n.pathname&&n.pathname.split("/")||[],p=(r=t.pathname&&t.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(p){n.hostname="";n.port=null;n.host&&(""===c[0]?c[0]=n.host:c.unshift(n.host));n.host="";if(t.protocol){t.hostname=null;t.port=null;t.host&&(""===r[0]?r[0]=t.host:r.unshift(t.host));t.host=null}l=l&&(""===r[0]||""===c[0])}if(u){n.host=t.host||""===t.host?t.host:n.host;n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname;n.search=t.search;n.query=t.query;c=r}else if(r.length){c||(c=[]);c.pop();c=c.concat(r);n.search=t.search;n.query=t.query}else if(!(i=t.search,null==i)){if(p){n.hostname=n.host=c.shift();if(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@")){n.auth=A.shift();n.host=n.hostname=A.shift()}}n.search=t.search;n.query=t.query;E(n.pathname)&&E(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:""));n.href=n.format();return n}if(!c.length){n.pathname=null;n.search?n.path="/"+n.search:n.path=null;n.href=n.format();return n}for(var m=c.slice(-1)[0],v=(n.host||t.host)&&("."===m||".."===m)||""===m,g=0,_=c.length;_>=0;_--)if("."==(m=c[_]))c.splice(_,1);else if(".."===m){c.splice(_,1);g++}else if(g){c.splice(_,1);g--}if(!l&&!f)for(;g--;g)c.unshift("..");!l||""===c[0]||c[0]&&"/"===c[0].charAt(0)||c.unshift("");v&&"/"!==c.join("/").substr(-1)&&c.push("");var b=""===c[0]||c[0]&&"/"===c[0].charAt(0);if(p){n.hostname=n.host=b?"":c.length?c.shift():"";var A;if(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@")){n.auth=A.shift();n.host=n.hostname=A.shift()}}(l=l||n.host&&c.length)&&!b&&c.unshift("");if(c.length)n.pathname=c.join("/");else{n.pathname=null;n.path=null}E(n.pathname)&&E(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:""));n.auth=t.auth||n.auth;n.slashes=n.slashes||t.slashes;n.href=n.format();return n};o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);if(e){":"!==(e=e[0])&&(this.port=e.substr(1));t=t.substr(0,t.length-e.length)}t&&(this.hostname=t)};function w(t){return"string"==typeof t}function g(t){return"object"==typeof t&&null!==t}function E(t){return null===t}},{punycode:2,querystring:6}],4:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,s){e=e||"&";n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var i=/\+/g;t=t.split(e);var h=1e3;s&&"number"==typeof s.maxKeys&&(h=s.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var l=0;l<u;++l){var f,c,p,d,y=t[l].replace(i,"%20"),m=y.indexOf(n);if(m>=0){f=y.substr(0,m);c=y.substr(m+1)}else{f=y;c=""}p=decodeURIComponent(f);d=decodeURIComponent(c);r(a,p)?o(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],5:[function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,i){e=e||"&";n=n||"=";null===t&&(t=void 0);return"object"==typeof t?s(a(t),(function(a){var i=encodeURIComponent(r(a))+n;return o(t[a])?s(t[a],(function(t){return i+encodeURIComponent(r(t))})).join(e):i+encodeURIComponent(r(t[a]))})).join(e):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function s(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],6:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode");n.encode=n.stringify=t("./encode")},{"./decode":4,"./encode":5}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.STATE_AP_KEY="_AP";n.QUERY_KEY_PREFIX="ac";n.QUERY_KEY_DELIMITER=".";n.ANCHOR_PREFIX="!";n.HISTORY_POPSTATE="history_popstate";n.HISTORY_PUSHSTATE="history_pushstate";n.HISTORY_REPLACESTATE="history_replacestate";n.HISTORY_CHANGESTATE="history_changestate"},{}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.Addon=i;n.Addons=h;n.Current=function(t){if(!(t=t||{}).url)throw new Error("missing url");var e=s.default.parse(t.url),n=new h,r=(0,a.parseQuery)(e.query).map(a.stripAddonQueryPrefix),o=(0,a.normalizeQueryByAddons)(r),f=o.filter((function(t){return t.key})),c=o.filter((function(t){return!t.key}));f.forEach((function(t){var e=new i(t);n.add(e)}));this.url=new l({url:t.url,addons:n,global:c});this.state=new u(t.state);return this};n.Change=function(t,e){var n=typeof t,r=s.default.parse(window.location.href),o={},f={};if("string"===n){o.protocol=r.protocol;o.slashes=r.slashes;o.hostname=r.hostname;o.pathname=r.pathname;o.port=r.port;o.search=r.search;o.query=r.query;o.hash=(0,a.addHash)((0,a.addHashPrefix)(t))}else{if("object"!==n)throw new Error("invalid option type");var c=t.href?s.default.parse(t.href):r;o.protocol=r.protocol;o.slashes=r.slashes;o.hostname=r.hostname;o.port=r.port;o.pathname=c.pathname||r.pathname;o.search=null;o.query=null;o.hash=t.hash?(0,a.addHash)((0,a.addHashPrefix)(t.hash)):null;f.state=t.state;f.query=t.query}var p=new h,d=new h;if(f.state){var y=new i({key:e,state:f.state});p.add(y)}if(f.query){var m=new i({key:e,query:f.query});d.add(m)}var v=new u({addons:p}),w=new l({url:s.default.format(o),addons:d});this.state=v;this.url=w;return this};n.State=u;n.URL=l;n.Route=f;var r,o=t("url"),s=(r=o)&&r.__esModule?r:{default:r},a=t("./utils");function i(t){if(!(t=t||{}).key)throw new Error("missing key for addon");this.key=t.key;this.state=t.state;this.query=t.query||{};return this}function h(t){(t=t||{}).models=t.models||[];t.models instanceof Array||(t.models=[t.models]);t.models=t.models.map((function(t){return t instanceof i?t:new i(t)}));this.models=t.models;return this}h.prototype.add=function(t){this.models.push(t)};h.prototype.remove=function(t){this.models.splice(this.models.indexOf(t),1)};h.prototype.find=function(t){return(0,a.find)(this.models,(function(e){return e.key===t}))};h.prototype.merge=function(t){var e=this.find(t.key);e&&this.remove(e);this.add(t)};function u(t){(t=t||{}).addons=t.addons||[];t.addons instanceof h||(t.addons=new h(t.addons));this.addons=t.addons;return this}u.prototype.merge=function(t){var e=this;t.addons.models.forEach((function(t){e.addons.merge(t)}))};u.prototype.render=function(){return(0,a.deepCopy)(this)};function l(t){(t=t||{}).addons=t.addons||[];t.global=t.global||[];t.parsed instanceof s.default.Url||(t.parsed=s.default.parse(t.url));t.addons instanceof h||(t.addons=new h(t.addons));this.parsed=t.parsed;this.addons=t.addons;this.global=t.global;this.title=t.title||window.document.title}l.prototype.isURLEqual=function(t){return this.render().url===t.render().url};l.prototype.isPathnameEqual=function(t){var e=this.parsed.protocol===t.parsed.protocol,n=this.parsed.slashes===t.parsed.slashes,r=this.parsed.hostname===t.parsed.hostname,o=this.parsed.pathname===t.parsed.pathname;return e&&n&&r&&o};l.prototype.merge=function(t){var e=this;e.parsed.hash=t.parsed.hash;t.addons.models.forEach((function(t){e.addons.merge(t)}))};l.prototype.render=function(){var t=(0,a.deepCopy)(this),e=t.parsed,n=(0,a.denormalizeQueryByAddons)(this.addons.models),r=(0,a.denormalizeQueryByAddons)(this.global),o=n.concat(r).map(a.addAddonQueryPrefix),i=(0,a.formatQuery)(o);e.query=i;e.search=e.query?"?"+e.query:null;t.url=s.default.format(e);return t};function f(t){if(!(t=t||{}).url)throw new Error("missing url option");t.url instanceof l||(t.url=new l(t.url));if(!t.state)throw new Error("missing state option");t.state instanceof u||(t.state=new u(t.state));this.url=t.url;this.state=t.state}f.prototype.merge=function(t){this.url.merge(t.url);this.state.merge(t.state)};f.prototype.render=function(t){return(0,a.deepCopy)({key:t,hash:(0,a.stripHashPrefix)((0,a.stripHash)(this.url.parsed.hash)),query:this.url.addons.find(t)?this.url.addons.find(t).query:null,title:this.url.title,href:this.url.parsed.href,state:this.state.addons.find(t)?this.state.addons.find(t).state:null})}},{"./utils":9,url:3}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.find=function(t,e){for(var n=0,r=t.length;n<r;n+=1)if(e(t[n]))return t[n]};n.values=function(t){var e=[];if(!t)return e;for(var n in t)e.push(t[n]);return e};n.stripHash=function(t){return t?t.slice(t.search("#")+1):null};n.stripHashPrefix=s;n.addHash=function(t){return"#"+t};n.addHashPrefix=function(t){if(null==t)throw"You must supply text to prefix";return o.ANCHOR_PREFIX+s(t)};n.splitQueryParam=a;n.joinQueryParam=i;n.parseQuery=function(t){return(t?t.split("&"):[]).map((function(t){return a(t)})).filter((function(t){return t}))};n.formatQuery=function(t){var e=t.map((function(t){return i(t)})).filter((function(t){return t}));return e.length?e.join("&"):null};n.stripAddonQueryPrefix=function(t){var e=t.key?t.key.split(o.QUERY_KEY_DELIMITER):[],n=o.QUERY_KEY_PREFIX;if(e.length>=3){if(n===e[0]){var r=e.slice(1,e.length-1).join(o.QUERY_KEY_DELIMITER),s=e.slice(e.length-1).join(o.QUERY_KEY_DELIMITER);return{addonKey:r,key:s,value:t.value}}return t}return t};n.addAddonQueryPrefix=function(t){var e=o.QUERY_KEY_PREFIX;if("addonKey"in t&&t.addonKey){return{key:[e,t.addonKey,t.key].join(o.QUERY_KEY_DELIMITER),value:t.value}}return t};n.normalizeQueryByAddons=function(t){var e=[];t.forEach((function(t){var n=t.key,o=t.value,s=t.addonKey,a=e.filter((function(t){return t.key===s}));if(a&&a.length){a[0].query[n]=o}else e.push({key:s,query:r({},n,o)})}));return e};n.denormalizeQueryByAddons=function(t){var e=[];t.forEach((function(t){var n=t.key;Object.keys(t.query).forEach((function(r){var o=t.query[r];e.push({addonKey:n,key:r,value:o})}))}));return e};n.deepCopy=function(t){return JSON.parse(JSON.stringify(t))};n.wrapState=function(t){var e={};e[o.STATE_AP_KEY]=t;return e};n.unwrapState=function(t){return t&&t[o.STATE_AP_KEY]?t[o.STATE_AP_KEY]:null};n.createEvent=function(t){if("function"==typeof Event){return e=new Event(t)}var e;(e=document.createEvent("Event")).initEvent(t,!1,!1);return e};n.callConnectHost=function(e){t&&t.amd?t(["connect-host"],(function(t){e(t)})):e(window.connectHost)};n.log=function(t,e){e||(e="log");console[e].call(null,"Atlassian Connect JS History: ",t)};function r(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n;return t}var o=t("./constants");function s(t){return null==t||""===t?"":t.toString().replace(new RegExp("^"+o.ANCHOR_PREFIX),"")}function a(t){var e=t?t.split("="):[];e[0],e[1];if(2===e.length){return{key:e[0],value:e[1]}}return null}function i(t){return"key"in t&&"value"in t?[t.key,"=",t.value].join(""):null}},{"./constants":7}]},{},[1])(1)}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-connect-plugin:ap-extensions-v5', location = 'v5/js/core/connect-host-request.js' */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).connectHostRequest=e()}}((function(){return function e(t,n,a){function o(s,c){if(!n[s]){if(!t[s]){var i="function"==typeof require&&require;if(!c&&i)return i(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[s]={exports:{}};t[s][0].call(f.exports,(function(e){var n=t[s][1][e];return o(n||e)}),f,f.exports,e,t,n,a)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<a.length;s++)o(a[s]);return o}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a,o=["status","statusText","responseText"],r=["status","statusText","response"],s=["Content-Type","ETag","Link"];if(function(e,t){if(window.connectHost&&window.connectHost.getBooleanFeatureFlag)return window.connectHost.getBooleanFeatureFlag(e);return t}("com.atlassian.connect.acjs.hc-43-whitelist-language-headers",!1))var c=["If-Match","If-None-Match","X-Atlassian-Force-Account-ID","X-Force-Accept-Language","Accept-Language"];else c=["If-Match","If-None-Match","X-Atlassian-Force-Account-ID"];function i(){if(window.AJS&&window.AJS.contextPath)return window.AJS.contextPath();var e=document.querySelector("meta[name=ajs-context-path]");return e?e.getAttribute("content"):""}function u(e){return e.replace(/(http[s]?:\/\/[^"]*?&jwt=[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*.*?)\\"/gi,'\\"')}function f(e,t){var n={headers:{}};t?r.forEach((function(t,a){n[t]=e[t];if("response"===t)try{JSON.parse(e[t]);n[t]=u(e[t])}catch(e){}}),this):o.forEach((function(t,a){n[t]=e[t];if("responseText"===t)try{JSON.parse(e[t]);n[t]=u(e[t])}catch(e){}}),this);s.forEach((function(t,a){n.headers[t]=e.getResponseHeader(t)}),this);return n}function d(e,t,n){n._isBlob&&n.blob&&n.name?e.append(t,n.blob,n.name):e.append(t,n);return e}function p(e){e.contentType=!1;e.processData=!1;if(!e.data||"object"!=typeof e.data)throw new Error("For a Multipart request, data must to be an Object");var t=new FormData;Object.keys(e.data).forEach((function(n){var a=e.data[n];Array.isArray(a)?a.forEach((function(e,a){t=d(t,n+"["+a+"]",e)})):t=d(t,n,a)}));e.data=t;e.headers["X-Atlassian-Token"]="no-check";return e}n.stripJWTUrls=u;n.addRequestMarshal=function(e){if("function"!=typeof e)throw new Error("ACJS request marshal must be a function");a=e};n.removeRequestMarshal=function(){a=void 0};n.default={request:function(e,t){var n=i(),o={},r=(t=arguments[arguments.length-1])._context.extension,s=r.addon_key,u=r.key,d=r.options.allowPathTraversal;"string"==typeof e&&(e={url:e});var l=n+e.url;if(!d){var h=new URL(l,document.baseURI);if(!h.pathname.startsWith(n)){window.connectHost&&window.connectHost.trackAnalyticsEvent&&window.connectHost.trackAnalyticsEvent("jsapi.request.prevent-path-traversal",{addonKey:s,moduleKey:u,url:l});return t("Request url must include context path '"+n+"'",{})}}e.headers=e.headers||{};Object.getOwnPropertyNames(e.headers).forEach((function(t){o[t.toLowerCase()]=e.headers[t]}),this);function y(e,n,a){t(!1,f(a,x),e)}function w(e,n,a){t(a,f(e,x),a)}var m={url:l,type:e.type||"GET",data:e.data,dataType:"text",contentType:e.contentType,cache:void 0!==e.cache?!!e.cache:void 0,headers:{Accept:o.accept||"*/*","AP-Client-Key":s}};"multipart/form-data"===m.contentType&&(m=p(m));m.data&&"object"==typeof m.data&&"GET"===m.type.toUpperCase()&&Object.keys(m.data).forEach((function(e){m.url+=(m.url.indexOf("?")>=0?"&":"?")+encodeURIComponent(e)+"="+encodeURIComponent(m.data[e])}));!0===e.experimental&&(m.headers["X-ExperimentalApi"]="opt-in");c.forEach((function(e,t){o[e.toLowerCase()]&&(m.headers[e]=o[e.toLowerCase()])}),this);m.cache||(m.url+=(m.url.indexOf("?")>=0?"&":"?")+"_r="+(new Date).getTime());var v=new XMLHttpRequest;v.open(m.type,m.url,!0);var x=!1;if(e.binaryAttachment){x=!0;v.responseType="arraybuffer"}m.contentType&&(m.headers["Content-type"]=m.contentType);Object.getOwnPropertyNames(m.headers).forEach((function(e){v.setRequestHeader(e,m.headers[e])}));v.onload=function(){this.status>=200&&this.status<300?y(x?v.response:v.responseText,v.statusText,v):w(v,v.statusText,x?v.response:v.responseText)};v.onerror=function(){w(v,v.statusText,x?v.response:v.responseText)};try{var T=!0;a&&(T=a.call(null,m));if(!0===T)v.send(m.data||null);else{v.abort();w(v,0,T)}}catch(e){v.abort();w(v,0,e);console.error("ACJS Request: ",e.message,e)}}}},{}]},{},[1])(1)}));
}catch(e){WRMCB(e)};