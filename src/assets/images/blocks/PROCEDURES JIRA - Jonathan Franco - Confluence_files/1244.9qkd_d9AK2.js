"use strict";(self._cf=self._cf||[]).push([[1244],{101244:(e,t,i)=>{i.d(t,{Z:()=>Z,r:()=>D});var r=i(199009),s=function(){function e(){}return e.prototype.expandToken=function(e){for(var t=[],i="",r=0,s=e.length;r<s;++r)i+=e.charAt(r),t.push(i);return t},e}(),n=function(){function e(){}return e.prototype.sanitize=function(e){return e?e.toLocaleLowerCase().trim():""},e}();function o(e,t){t=t||[];for(var i=e=e||{},r=0;r<t.length;r++)if(null==(i=i[t[r]]))return null;return i}var a=function(){function e(e){this._uidFieldName=e,this._tokenToIdfCache={},this._tokenMap={}}var t=e.prototype;return t.indexDocument=function(e,t,i){this._tokenToIdfCache={};var r,s=this._tokenMap;"object"!=typeof s[e]?s[e]=r={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(r=s[e]).$totalNumOccurrences++;var n=r.$uidMap;"object"!=typeof n[t]?(r.$numDocumentOccurrences++,n[t]={$document:i,$numTokenOccurrences:1}):n[t].$numTokenOccurrences++},t.search=function(e,t){for(var i={},r=0,s=e.length;r<s;r++){var n=e[r],o=this._tokenMap[n];if(!o)return[];if(0===r)for(var a=0,c=(u=Object.keys(o.$uidMap)).length;a<c;a++){i[h=u[a]]=o.$uidMap[h].$document}else{var u;for(a=0,c=(u=Object.keys(i)).length;a<c;a++){var h=u[a];"object"!=typeof o.$uidMap[h]&&delete i[h]}}}var d=[];for(var h in i)d.push(i[h]);var m=this._createCalculateTfIdf();return d.sort((function(i,r){return m(e,r,t)-m(e,i,t)}))},t._createCalculateIdf=function(){var e=this._tokenMap,t=this._tokenToIdfCache;return function(i,r){if(!t[i]){var s=void 0!==e[i]?e[i].$numDocumentOccurrences:0;t[i]=1+Math.log(r.length/(1+s))}return t[i]}},t._createCalculateTfIdf=function(){var e=this._tokenMap,t=this._uidFieldName,i=this._createCalculateIdf();return function(r,s,n){for(var a=0,c=0,u=r.length;c<u;++c){var h,d=r[c],m=i(d,n);m===1/0&&(m=0),h=t instanceof Array?s&&o(s,t):s&&s[t],a+=(void 0!==e[d]&&void 0!==e[d].$uidMap[h]?e[d].$uidMap[h].$numTokenOccurrences:0)*m}return a}},e}(),c=function(){function e(){this._tokenToUidToDocumentMap={}}var t=e.prototype;return t.indexDocument=function(e,t,i){"object"!=typeof this._tokenToUidToDocumentMap[e]&&(this._tokenToUidToDocumentMap[e]={}),this._tokenToUidToDocumentMap[e][t]=i},t.search=function(e,t){for(var i={},r=this._tokenToUidToDocumentMap,s=0,n=e.length;s<n;s++){var o=r[e[s]];if(!o)return[];if(0===s)for(var a=0,c=(u=Object.keys(o)).length;a<c;a++){i[d=u[a]]=o[d]}else for(a=0,c=(u=Object.keys(i)).length;a<c;a++){"object"!=typeof o[d=u[a]]&&delete i[d]}}var u,h=[];for(s=0,c=(u=Object.keys(i)).length;s<c;s++){var d=u[s];h.push(i[d])}return h},e}(),u=/[^a-zа-яё0-9\-']+/i,h=function(){function e(){}return e.prototype.tokenize=function(e){return e.split(u).filter((function(e){return e}))},e}();function d(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(e){if(!e)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=e,this._indexStrategy=new s,this._searchIndex=new a(e),this._sanitizer=new n,this._tokenizer=new h,this._documents=[],this._searchableFields=[]}var t,i,r,c=e.prototype;return c.addDocument=function(e){this.addDocuments([e])},c.addDocuments=function(e){this._documents=this._documents.concat(e),this.indexDocuments_(e,this._searchableFields)},c.addIndex=function(e){this._searchableFields.push(e),this.indexDocuments_(this._documents,[e])},c.search=function(e){var t=this._tokenizer.tokenize(this._sanitizer.sanitize(e));return this._searchIndex.search(t,this._documents)},c.indexDocuments_=function(e,t){this._initialized=!0;for(var i=this._indexStrategy,r=this._sanitizer,s=this._searchIndex,n=this._tokenizer,a=this._uidFieldName,c=0,u=e.length;c<u;c++){var h,d=e[c];h=a instanceof Array?o(d,a):d[a];for(var m=0,p=t.length;m<p;m++){var l,f=t[m];if(null!=(l=f instanceof Array?o(d,f):d[f])&&"string"!=typeof l&&l.toString&&(l=l.toString()),"string"==typeof l)for(var y=n.tokenize(r.sanitize(l)),g=0,v=y.length;g<v;g++)for(var T=y[g],w=i.expandToken(T),S=0,k=w.length;S<k;S++){var I=w[S];s.indexDocument(I,h,d)}}}},t=e,(i=[{key:"indexStrategy",set:function(e){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=e},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(e){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=e},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(e){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=e},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(e){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=e},get:function(){return this._tokenizer}}])&&d(t.prototype,i),r&&d(t,r),e}(),p=i(2422),l=i(126614),f=i(531461);const y=new RegExp("[⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶵一-鿯豈-舘並-龎]|[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞹꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ|0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９]+[̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৾ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣૺ-૿ଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ఀఄా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഀഁ഻഼ു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷹᷻-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꣄ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯|']*[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞹꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]*","gi");class g{constructor(...e){(0,r.Z)(this,"chain",void 0),this.chain=e}compare(e,t){for(let i=0;i<this.chain.length;i++){const r=this.chain[i].compare(e,t);if(0!==r)return r}return 0}}class v{constructor(e){(0,r.Z)(this,"query",void 0),this.query=e}compare(e,t){const i=e.ascii&&-1!==e.ascii.indexOf(this.query),r=t.ascii&&-1!==t.ascii.indexOf(this.query);return i&&!r?-1:!i&&r?1:0}}class T{constructor(e){(0,r.Z)(this,"colonQuery",void 0),(0,r.Z)(this,"typeComparator",void 0),this.colonQuery=`:${e}:`,this.typeComparator=new w(!0)}compare(e,t){return e.shortName===this.colonQuery&&t.shortName===this.colonQuery?this.typeComparator.compare(e,t):e.shortName===this.colonQuery?-1:t.shortName===this.colonQuery?1:0}}class w{constructor(e){(0,r.Z)(this,"typeToNumber",void 0),this.typeToNumber=e?new Map([["SITE",0],["ATLASSIAN",1],["STANDARD",2]]):new Map([["STANDARD",0],["ATLASSIAN",1],["SITE",2]])}compare(e,t){return this.emojiTypeToOrdinal(e)-this.emojiTypeToOrdinal(t)}emojiTypeToOrdinal(e){let t=this.typeToNumber.get(e.type);return void 0===t&&(t=10),t}}class S{constructor(e){(0,r.Z)(this,"positionLookup",void 0),this.positionLookup=new Map,e.map(((e,t)=>this.positionLookup.set(e,t+1)))}compare(e,t){if(!e.id||!t.id)return 0;return this.getPositionInOrder(e)-this.getPositionInOrder(t)}getPositionInOrder(e){let t=e.id?e.id:"0";(0,l.q0)(e)&&(t=e.baseId);const i=this.positionLookup.get(t);return i||p.BT}}class k{constructor(e,t){if((0,r.Z)(this,"propertyName",void 0),(0,r.Z)(this,"query",void 0),this.query=e,!t)throw new Error("propertyToCompare is required");this.propertyName=t}getScore(e){const t=e[this.propertyName],i=t?t.indexOf(this.query):p.BT;return-1===i?p.BT:i}compare(e,t){return this.getScore(e)-this.getScore(t)}}class I{constructor(){}static get Instance(){return this.INSTANCE||(this.INSTANCE=new this)}compare(e,t){return(e.order?e.order:p.BT)-(t.order?t.order:p.BT)}}(0,r.Z)(I,"INSTANCE",void 0);class _{constructor(){}static get Instance(){return this.INSTANCE||(this.INSTANCE=new this)}compare(e,t){return e.shortName.localeCompare(t.shortName)}}(0,r.Z)(_,"INSTANCE",void 0);var x=i(615919);class M{constructor(e){if((0,r.Z)(this,"maximumSize",void 0),(0,r.Z)(this,"perItemSize",void 0),(0,r.Z)(this,"items",void 0),(0,r.Z)(this,"itemCountMap",void 0),(0,r.Z)(this,"itemsOrderedByFrequency",void 0),e.maxDuplicates<1)throw new RangeError("The maxDuplicates option must be at least 1");if(e.minUniqueItems<1)throw new RangeError("The minUniqueItems option must be at least 1");this.maximumSize=e.maxDuplicates*e.minUniqueItems,this.perItemSize=e.maxDuplicates,this.createEmptyState()}enqueue(e){this.enqueueWithoutOrdering(e),this.itemsOrderedByFrequency=this.orderItemsByFrequency()}getItemsOrderedByDuplicateCount(){return this.itemsOrderedByFrequency}clear(){this.createEmptyState()}bulkEnqueue(e){e.map((e=>this.enqueueWithoutOrdering(e))),this.itemsOrderedByFrequency=this.orderItemsByFrequency()}getItems(){return this.items}createEmptyState(){this.items=new Array,this.itemCountMap=new Map,this.itemsOrderedByFrequency=new Array}enqueueWithoutOrdering(e){const t=this.itemCountMap.get(e);t&&t>=this.perItemSize?this.removeFirstOccurrence(e):this.items.length>=this.maximumSize&&this.remove(),this.add(e)}orderItemsByFrequency(){return Array.from(this.itemCountMap.entries()).sort(((e,t)=>t[1]-e[1])).map((e=>e[0]))}decrementCount(e){let t=this.itemCountMap.get(e);t&&(t--,t>0?this.itemCountMap.set(e,t):this.itemCountMap.delete(e))}removeFirstOccurrence(e){const t=this.items.indexOf(e);-1!==t&&(this.items.splice(t,1),this.decrementCount(e))}remove(){const e=this.items.shift();return void 0!==e&&this.decrementCount(e),e}add(e){this.items.push(e);const t=this.itemCountMap.get(e);t?this.itemCountMap.set(e,t+1):this.itemCountMap.set(e,1)}}var O=i(324855);class N extends M{constructor(e){super(e),(0,r.Z)(this,"storage",void 0),(0,r.Z)(this,"prefixedStorageKey",void 0),this.storage=e.storage,this.prefixedStorageKey=`${e.storagePrefix}.${N.storageKey}`,this.load()}enqueue(e){super.enqueue(e),this.save()}clear(){super.clear(),this.storage.removeItem(this.prefixedStorageKey)}load(){const e=this.storage.getItem(this.prefixedStorageKey);if(e)try{const t=JSON.parse(e);this.bulkEnqueue(t)}catch(t){(0,O.ZP)(`Error parsing the queue stored as ${this.prefixedStorageKey} key from storage`,t)}}save(){const e=JSON.stringify(this.getItems());try{this.storage.setItem(this.prefixedStorageKey,e)}catch(t){(0,O.ZP)(`Error saving the queued items as ${this.prefixedStorageKey}`,t)}}}(0,r.Z)(N,"storageKey","lastUsed");var C=i(466011);class q{constructor(e=!0){(0,r.Z)(this,"queue",void 0),(0,r.Z)(this,"gateway",void 0);const t=q.queueOptions;if(e&&t.storage){const e=(0,x.Z)((0,x.Z)({},t),{},{storage:t.storage});this.queue=new N(e)}else this.queue=new M(t);this.gateway=new b(10)}recordUsage(e){let t=e.id;t&&((0,l.q0)(e)&&(t=e.baseId),this.gateway.submit((()=>{t&&this.queue.enqueue(t)})))}getOrder(){return this.queue.getItemsOrderedByDuplicateCount()}clear(){this.queue.clear()}}(0,r.Z)(q,"queueOptions",{storage:(0,C.Z)("localStorage")?window.localStorage:void 0,storagePrefix:p.lD,maxDuplicates:25,minUniqueItems:5});class b{constructor(e){if((0,r.Z)(this,"maximumPermitted",void 0),(0,r.Z)(this,"count",void 0),e<1)throw new RangeError("The maximumPermitted parameter must be 1 or more.");this.maximumPermitted=e,this.count=0}submit(e){if(this.count>=this.maximumPermitted)return!1;this.count++;const t=()=>{try{e()}finally{this.completed()}};return"undefined"!=typeof window&&window.setTimeout(t),!0}completed(){this.count--}}class A{tokenize(e){return this.tokenizeAsTokens(e).map((e=>e.token))}tokenizeAsTokens(e){let t,i=[];for(y.lastIndex=0;null!==(t=y.exec(e));)t[0]&&i.push({token:t[0],start:t.index});return i}}const z=(e,t,i)=>{const r=t(e);i.has(r)||i.set(r,[]);const s=i.get(r);if(s&&s.push(e),(0,l.Hf)(e)){const r=e.skinVariations;r&&r.forEach((e=>z(e,t,i)))}},E=(e,t)=>{const i=e.get(t);if(i&&i.length)return i[i.length-1]},D=(e,t)=>{if((0,l.Hf)(e)&&t){const i=t.skinTone;if(i&&e.skinVariations&&e.skinVariations.length){const t=e.skinVariations[i-1];if(t)return t}}return e};class Z{constructor(e,t){(0,r.Z)(this,"emojis",void 0),(0,r.Z)(this,"fullSearch",void 0),(0,r.Z)(this,"shortNameMap",void 0),(0,r.Z)(this,"idMap",void 0),(0,r.Z)(this,"asciiMap",void 0),(0,r.Z)(this,"dynamicCategoryList",void 0),(0,r.Z)(this,"usageTracker",void 0),this.emojis=e,this.initMembers(t)}all(){const e={sort:f.Gr.None};return this.search("",e)}search(e,t){let i=[];const{nameQuery:r,asciiQuery:s}=((e="")=>0===e.indexOf(":")?{nameQuery:e.slice(1),asciiQuery:e}:{nameQuery:e,asciiQuery:""})(e);return r?(i=this.fullSearch.search(r),s&&(i=this.withAsciiMatch(s,i))):i=this.getAllSearchableEmojis(),i=this.applySearchOptions(i,e,t),{emojis:i,query:e}}findAllMatchingShortName(e){return this.shortNameMap.get(e)||[]}findByShortName(e){return E(this.shortNameMap,e)}findById(e){return E(this.idMap,e)}findByAsciiRepresentation(e){return this.asciiMap.get(e)}findInCategory(e){return e===p.Ap?this.getFrequentlyUsed():this.all().emojis.filter((t=>t.category===e))}addUnknownEmoji(e){this.emojis=[...this.emojis,e],this.fullSearch.addDocuments([e]),this.addToMaps(e),this.addToDynamicCategories(e)}getAsciiMap(){return this.asciiMap}getFrequentlyUsed(e){let t=this.usageTracker.getOrder().map((e=>this.findById(e))).filter((e=>void 0!==e));return e&&(t=this.applySearchOptions(t,"",e)),t}getDynamicCategoryList(){return this.dynamicCategoryList.slice()}used(e){if(this.usageTracker.recordUsage(e),-1===this.dynamicCategoryList.indexOf(p.Ap)){if("undefined"==typeof window)return;window.setTimeout((()=>{this.dynamicCategoryList.push(p.Ap)}))}}delete(e){const t=((e,t)=>{const i=t.id;let r=-1;return e.forEach(((e,s)=>{(e.id&&e.id===i||!e.id&&!i&&e.shortName===t.shortName)&&(r=s)})),r})(this.emojis,e);-1!==t&&(this.emojis.splice(t,1),this.initMembers(this.usageTracker))}withAsciiMatch(e,t){let i=t;const r=this.findByAsciiRepresentation(e);return r&&(i=t.filter((e=>e.id!==r.id)),i=[r,...i]),i}applySearchOptions(e,t,i){let r;return i||(i={}),void 0===i.sort&&(i.sort=f.Gr.Default),i.sort===f.Gr.Default?r=function(e,t){const i=e?e.replace(/:/g,"").toLowerCase().trim():void 0,r=[];e&&r.push(new v(e)),i&&r.push(new T(i)),t&&t.length&&r.push(new S(t)),i&&r.push(new k(i,"shortName"),new k(i,"name")),r.push(I.Instance,_.Instance);const s=new g(...r);return s.compare=s.compare.bind(s),s}(t,this.usageTracker.getOrder()):i.sort===f.Gr.UsageFrequency&&(r=function(e){const t=new g(new S(e),new w,I.Instance);return t.compare=t.compare.bind(t),t}(this.usageTracker.getOrder())),r&&(r.compare=r.compare.bind(r),e=e.sort(r.compare)),i.limit&&i.limit>0&&(e=e.slice(0,i.limit)),i.skinTone?e.map((e=>D(e,i))):e}initMembers(e){this.usageTracker=e||new q,this.initRepositoryMetadata(),this.initSearchIndex()}initRepositoryMetadata(){this.shortNameMap=new Map,this.idMap=new Map,this.asciiMap=new Map;const e=new Set;this.emojis.forEach((t=>{e.add(t.category),this.addToMaps(t)})),this.usageTracker.getOrder().length&&e.add(p.Ap),this.dynamicCategoryList=Array.from(e).filter((e=>-1===p.D$.indexOf(e)))}initSearchIndex(){this.fullSearch=new m("id"),this.fullSearch.tokenizer=new A,this.fullSearch.searchIndex=new c,this.fullSearch.addIndex("name"),this.fullSearch.addIndex("shortName"),this.fullSearch.addDocuments(this.getAllSearchableEmojis())}getAllSearchableEmojis(){return this.emojis.filter((e=>e.searchable))}addToMaps(e){void 0!==e.order&&-1!==e.order||(e.order=Z.defaultEmojiWeight),void 0===e.id&&(e.id=Z.defaultEmojiWeight.toString()),z(e,(e=>e.shortName),this.shortNameMap),z(e,(e=>e.id),this.idMap),e.ascii&&e.ascii.forEach((t=>this.asciiMap.set(t,e)))}addToDynamicCategories(e){const t=(0,l.WN)(e);-1===p.D$.indexOf(t)&&-1===this.dynamicCategoryList.indexOf(t)&&this.dynamicCategoryList.push(t)}}(0,r.Z)(Z,"defaultEmojiWeight",1e6)},466011:(e,t,i)=>{function r(e){if("undefined"==typeof window)return!1;var t;try{t=window[e];var i="__storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(r){return r instanceof DOMException&&(22===r.code||1014===r.code||"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name)&&t&&0!==t.length}}i.d(t,{Z:()=>r})}}]);
//# sourceMappingURL=1244.9qkd_d9AK2.js.map