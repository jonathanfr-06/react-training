"use strict";(self._cf=self._cf||[]).push([[73088],{165650:(e,t,r)=>{r.d(t,{L:()=>n});const n=()=>{const e=Array.from(document.getElementsByClassName("atlaskit-portal")).filter((e=>e.firstChild));return Boolean(e.filter((e=>e.querySelectorAll('[role="dialog"]').length)).length)}},152853:(e,t,r)=>{r.d(t,{D:()=>o});var n=r(840506),a=r(190206);function o({name:e,error:t,attributes:r}){const o=(0,n.useContext)(a.F);return(0,n.useEffect)((()=>o.fail({name:e,error:t,attributes:r})),[o,e,t,r]),null}},791173:(e,t,r)=>{r.r(t),r.d(t,{FavouriteButton:()=>h});var n=r(840506),a=r(822464),o=r(140263),l=r(400318),s=r(758370),c=r(865072),i=r(115613),u=r(301540),T=r(904148),d=r(234461),E=r(9019),S=r(582463),_=r(615919),m=r(872342),O=r(767001),v=r(167347),C=r(152853),R=r(155049),I=r(627521),f=r(870797),U=r(533374),H=r(15325),b=r(271825);const y=r(779076).ZP`query FavouriteButtonQuery($contentId:ID!){singleContent(id:$contentId){id type metadata{currentuser{favourited{isFavourite}}}operations{operation targetType}}}`;var p=r(878210);const A=["as","style"];r(183705);const g=(0,n.forwardRef)(((e,t)=>{let{as:r="div",style:a}=e,o=(0,m.Z)(e,A);return n.createElement(r,(0,_.Z)((0,_.Z)({},o),{},{style:a,ref:t,className:(0,O.Z)(["_1ul91ul9",o.className])}))}));const N=({contentId:e,onRender:t})=>{var r,a,o;const{data:s,loading:c,error:i}=(0,v.aM)(y,{variables:{contentId:e},fetchPolicy:"cache-first"}),u=null==s||null===(r=s.singleContent)||void 0===r?void 0:r.type,T=Boolean(null==s||null===(a=s.singleContent)||void 0===a||null===(a=a.operations)||void 0===a?void 0:a.filter((e=>(null==e?void 0:e.targetType)===u&&"read"===(null==e?void 0:e.operation))).length);if((0,n.useEffect)((()=>{t&&s&&t()})),i)return n.createElement(n.Fragment,null,n.createElement(C.D,{name:l.p3J,error:i}),n.createElement(I.X,{error:i}));if(c)return n.createElement(b.p,null);const d=Boolean(null==s||null===(o=s.singleContent)||void 0===o||null===(o=o.metadata.currentuser)||void 0===o||null===(o=o.favourited)||void 0===o?void 0:o.isFavourite);return n.createElement(n.Fragment,null,T&&n.createElement(g,null,n.createElement(U.z,{contentId:e,isStarred:d,shortcut:H.STAR_BUTTON_SHORTCUT,tooltipPosition:"bottom",analytics:{source:"FavouriteButton",attributes:{componentVersion:"v3",pageType:u}}})),n.createElement(R.F,{name:l.p3J,attributes:{isFavouritedByCurrentUser:d}}),n.createElement(f.M,{key:e,metric:p.Z,customData:{isVisible:T}}))},h=({contentId:e})=>{const{isLoggedIn:t}=(0,S.D)(),r=(0,n.useRef)(!1),_=(0,n.useRef)(),m=(0,n.useCallback)((()=>{!r.current&&_.current&&(r.current=!0,_.current(s.k.PAGE_FAVOURITE))}),[]);return t?n.createElement(d.S,{attribution:E.x.DISCO},n.createElement(i.q,{key:e,metric:p.Z}),n.createElement(o.U,{id:e,name:l.p3J}),n.createElement(a.xs,{to:[c.F]},(({addItem:t,markItem:r})=>(t(s.k.PAGE_FAVOURITE),_.current=r,n.createElement(u.u,{metricName:T.xl},n.createElement(N,{contentId:e,onRender:m})))))):null};h.displayName="FavouriteButton"},198300:(e,t,r)=>{r.d(t,{C:()=>n,e:()=>a});const n="live",a="live-pages-store"},881584:(e,t,r)=>{r.d(t,{U:()=>n,q:()=>a});const n="confluence.frontend.livepages.enable",a="confluence.frontend.livepages.liveview"},170560:(e,t,r)=>{r.d(t,{k:()=>o});var n=r(179640),a=r(881584);const o=()=>(0,n.T)(a.U)},410941:(e,t,r)=>{r.d(t,{d:()=>c});var n=r(944547),a=r(834232),o=r(198300);const l={setIsLive:e=>({setState:t})=>{t({isLive:e})}},s=(0,a.M)({initialState:{isLive:!1},actions:l,name:o.e}),c=(0,n.Bi)(s)},446251:(e,t,r)=>{r.d(t,{d:()=>l});var n=r(840506),a=r(284186),o=r(734233);const l=()=>{const{match:e}=(0,n.useContext)(o.M);return!!e&&(e.name===a.uV.name||e.name===a.tz.name)}},219263:(e,t,r)=>{r.d(t,{E:()=>R});var n=r(840506),a=r(167347),o=r(410941),l=r(170560),s=r(634554),c=r(722755),i=r(627521),u=r(582463),T=r(649233),d=r(483647),E=r(446251);const S=r(779076).ZP`query GeneralShortcutsEnabledQuery@experimental{experimentalKeyboardShortcutsStatus{enabled}}`;var _=r(953901),m=r(486889),O=r(381484);const v=(0,n.memo)((({accelerator:e,listener:t})=>{const{createAnalyticsEvent:r}=(0,m._)(),a=(0,n.useCallback)((n=>{const a="string"==typeof e?e:e.find((e=>e.endsWith(n.key)))||e[0];!1!==t(n)&&r({type:"sendUIEvent",data:{action:"pressed",actionSubject:"keyboardShortcut",source:"globalNavigation",attributes:{key:a,navVersion:"3",navdexPointType:O.yo}}}).fire()}),[r,t,e]);return n.createElement(_.S,{accelerator:e,listener:a})}));var C=r(188225);const R=({accelerator:e,listener:t,isAppNavigationShortcut:r=!1,shortcutType:m=_.P.Confluence,allowInDialog:O=!1})=>{var R,I;const[f,U]=(0,n.useState)(!1),{isLoggedIn:H,isLicensed:b}=(0,u.D)(),y=(0,E.d)(),[p]=(0,o.d)(),A=(0,l.k)(),[,g]=(0,C.B)(),N=y||A&&p.isLive,h=!H||!b||f||N,{loading:M,error:L,data:B}=(0,a.aM)(S,{skip:h,onError(e){var t;const r=null==e||null===(t=e.graphQLErrors)||void 0===t?void 0:t.some((e=>(0,s.j6)(e,"401")||(0,c.T)(e)));U(r),(r||(0,d.S)(e))&&(0,T.Xb)(e)}});if((0,n.useEffect)((()=>{var e;const t=null==B||null===(e=B.experimentalKeyboardShortcutsStatus)||void 0===e?void 0:e.enabled;g.setKeyboardShortcutsEnabled(t)}),[null==B||null===(R=B.experimentalKeyboardShortcutsStatus)||void 0===R?void 0:R.enabled,g]),M)return null;if(L)return(0,s.j6)(L,"401")||(0,c.T)(L)||(0,d.S)(L)?((0,T.Xb)(L),null):n.createElement(i.X,{error:L});return(null==B||null===(I=B.experimentalKeyboardShortcutsStatus)||void 0===I?void 0:I.enabled)?r?n.createElement(v,{accelerator:e,listener:t}):n.createElement(_.S,{accelerator:e,listener:t,shortcutType:m,allowInDialog:O}):null}},15325:(e,t,r)=>{r.r(t),r.d(t,{AI_MATE_SHORTCUT:()=>y,AUTOMATION_SHORTCUT:()=>P,BLOG_SHORTCUT:()=>s,BROWSER_SAVE_SHORTCUT:()=>a,CLOSE_INLINE_COMMENTS_SHORTCUT:()=>N,COMMENT_EDITOR_SHORTCUT:()=>o,CREATE_COMMENT_SHORTCUT:()=>u,EDITOR2_SHORTCUTS:()=>n,EDIT_SHORTCUT:()=>d,GLOBAL_CREATE_SHORTCUT:()=>c,GO_HOME_SHORTCUT:()=>f,GO_TO_RECENT_SHORTCUT:()=>H,HELP_SHORTCUT:()=>B,INLINE_COMMENTS_SHORTCUT:()=>l,LABELS_SHORTCUT:()=>m,LINK_TO_THIS_PAGE_SHORTCUT:()=>T,NAVIGATION_SHORTCUT:()=>I,NAVIGATION_SLASH_SHORTCUT:()=>p,NEXT_COMMENT_SHORTCUT:()=>v,NEXT_TEMPLATE_SHORTCUT:()=>L,NOTIFICATIONS_SHORTCUT:()=>U,PRESENTATION_MODE_SHORTCUT:()=>E,PREV_COMMENT_SHORTCUT:()=>C,PREV_TEMPLATE_SHORTCUT:()=>M,SHARE_PAGE_SHORTCUT:()=>_,SIDE_NAVIGATION_SHORTCUT:()=>A,SIDE_NAVIGATION_SHORTCUT_IN_EDIT:()=>g,SPACE_OVERVIEW_SHORTCUT:()=>b,STAR_BUTTON_SHORTCUT:()=>i,SUBMIT_FEEDBACK_SHORTCUT:()=>R,UNDO_SHORTCUT:()=>h,VIEW_ATTACHMENTS_SHORTCUT:()=>O,WATCH_PAGE_SHORTCUT:()=>S});const n={PUBLISH:"mod+enter",PUBLISH_WITH_COMMENT:"mod+shift+enter",EDIT:"e",PREVIEW:"mod+shift+e"},a="mod+s",o="command+enter",l="mod+enter",s="b",c="c",i="f",u="m",T="k",d="e",E="r",S="w",_="s",m="l",O="t",v="n",C="p",R="g f",I="g g",f="g d",U="g n",H="g r",b="g s",y="g a",p="/",A="[",g="ctrl+[",N="]",h="mod+z",M="left",L="right",B="?",P="a"},145183:(e,t,r)=>{r.d(t,{j3:()=>o,Mm:()=>l,qX:()=>s,fK:()=>c,HU:()=>i});var n=r(15325);const a=(e,t)=>("string"==typeof t?e.push(t):"object"==typeof t&&e.push(...Object.values(t).reduce(a,[])),e),o="shortcuts-are-allowed",l="shortcuts-are-allowed-in-modal",s=["ProseMirror-focused",o],c=[l],i=Object.values(n).reduce(a,[])},188225:(e,t,r)=>{r.d(t,{B:()=>l});var n=r(834232),a=r(944547);const o=(0,n.M)({initialState:{areKeyboardShortcutsEnabled:!1},actions:{setKeyboardShortcutsEnabled:e=>({setState:t})=>{t({areKeyboardShortcutsEnabled:e})}},name:"areKeyboardShortcutsEnabled"}),l=(0,a.Bi)(o,{selector:e=>e.areKeyboardShortcutsEnabled})},621130:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(840506),a=r(781775),o=r(362868);const l=()=>{const[e,t]=(0,n.useState)((0,a.Z)());return(0,n.useEffect)((()=>{const e=new o.Z((e=>t(e)));return e.observe(),()=>e.disconnect()}),[]),e}}}]);
//# sourceMappingURL=73088.-OEyyE2YOr.js.map