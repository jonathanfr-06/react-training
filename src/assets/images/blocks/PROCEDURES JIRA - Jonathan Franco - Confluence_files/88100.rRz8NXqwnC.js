"use strict";(self._cf=self._cf||[]).push([[88100],{543755:(e,t,a)=>{a.d(t,{i:()=>s});var r=a(840506),i=a(394367),n=a.n(i);const s=()=>{const e="object"==typeof window,t=()=>({width:e?window.innerWidth:0,height:e?window.innerHeight:0}),[a,i]=(0,r.useState)(t);return(0,r.useEffect)((()=>{const e=n()((()=>{i(t())}),200);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),e.cancel()}}),[]),a}},267182:(e,t,a)=>{a.d(t,{M:()=>r});const r=a(779076).ZP`fragment UserPermissionFragment on Query{user(current:true){id confluence{permissionType}}}`},980452:(e,t,a)=>{a.d(t,{F:()=>r});const r=e=>{var t;return null==e||null===(t=e.user)||void 0===t||null===(t=t.confluence)||void 0===t?void 0:t.permissionType}},851239:(e,t,a)=>{a.d(t,{C:()=>r});const r=(e,t=!0)=>e.getBooleanValue("confluence.frontend.onboarding.experience",{default:!1,shouldTrackExposureEvent:t})},719323:(e,t,a)=>{a.d(t,{H:()=>r});let r=function(e){return e.ENROLLED="enrolled",e.NOT_ENROLLED="not-enrolled",e.CONTROL="control",e.EXPERIMENT="experiment",e.EXPERIMENT_VARIATION_1="experiment-1",e.EXPERIMENT_VARIATION_2="experiment-2",e}({})},278102:(e,t,a)=>{a.d(t,{$J:()=>C,$g:()=>o,$x:()=>r,Fj:()=>v,Gd:()=>y,Gf:()=>s,Iv:()=>c,LE:()=>g,QL:()=>n,REFETCH_EVENTS:()=>I,RG:()=>_,SY:()=>p,VR:()=>u,Vg:()=>m,Wp:()=>d,dA:()=>l,gD:()=>A,n$:()=>f,r8:()=>k,vT:()=>O,w:()=>b,z1:()=>T,zo:()=>E});const r={IS_PANEL_OPEN:"quickstart-state:isPanelOpen",IS_DISMISSED:"quickstart-state:isDismissed",OPEN_TASK_ID:"quickstart-state:openTaskId",OPEN_COMPONENT_ID:"quickstart-state:openComponentId",JSW_CONFLUENCE_INTRO_TASK:"quickstart-state:jswConfIntroCompleted",HELP_COMPLETED:"quickstart-state:helpCompleted",SPACE_MODAL_COMPLETED:"quickstart-state:spaceModalCompleted",SPACE_TOUR_COMPLETED:"quickstart-state:spaceTourCompleted",COLLABORATE_COMPLETED:"quickstart-state:collaborateCompleted",HOME_MODAL_COMPLETED:"quickstart-state:homeModalCompleted",HOME_TOUR_COMPLETED:"quickstart-state:homeTourCompleted",MOBILE_COMPLETED:"quickstart-state:mobileCompleted",HAS_SEEN_DISMISSED_FLAG:"quickstart-state:hasSeenDismissedFlag",IS_MIGRATED_USER_V2:"quickstart-state:isMigratedUserV2",JSW_XFLOW_SWITCHER_TOUR_TASK:"quickstart-state:jswXflowSwitcherTourCompleted",ORIGIN_ATTRIBUTES:"onboarding-origin-state:attributes",JSW_CONFLUENCE_MODAL:"quickstart-state:jswXFlowModalCompleted",EDITOR_TUTORIAL_TASK_COMPLETED:"quickstart-state:editorTutorialTaskCompleted",QSV2_READ_GUIDE_COMPLETED:"quickstart-state:qsv2ReadConfluenceGuideCompleted",QSV2_INVITE_TEAMMATE_TASK:"quickstart-state:qsv2InviteTeammateCompleted",QSV2_INTEGRATION_TASK:"quickstart-state:qsv2IntegrationCompleted",QSV2_VIDEO_TOUR_COMPLETED:"quickstart-state:qsv2SiteVideoTourCompleted",QSV2_SPOTLIGHT_COMPLETED:"quickstart-state:qsv2SpotlightCompleted",MIGRATIONS_WELCOME_TASK:"quickstart-state:migrationsWelcomeCompleted",MIGRATIONS_NEW_PAGE_TASK:"quickstart-state:migrationsNewPageCompleted",MIGRATIONS_COLLABORATE_TASK:"quickstart-state:migrationsCollaborateCompleted",MIGRATIONS_FIND_AND_ORGANIZE_PAGES_COMPLETED:"quickstart-state:migrationsFindAndOrganizePagesCompleted",MIGRATIONS_EDIT_AND_CUSTOMIZE_CONTENT_TASK:"quickstart-state:migrationsEditAndCustomizeContentCompleted",SIMPLIFY_ADMIN_RENAME_TASK:"quickstart-state:simplifyAdminRenameSiteCompleted",NQSV2_HELP_TASK_COMPLETED:"quickstart-state:nqsv2HelpCompleted",NQSV2_CREATE_TASK_COMPLETED:"quickstart-state:nqsv2CreateCompleted",NQSV2_COLLABORATE_TASK_COMPLETED:"quickstart-state:nqsv2CollaborateCompleted",NQSV2_CONFLUENCE_101_TASK:"quickstart-state:nqsv2Confluence101Completed"},i="quickstart-checklist.invite-teammate",n="quickstart-checklist.integration",s="quickstart-checklist.jsw-xflow-switcher-tour",o="quickstart-checklist.jsw-conf-intro",c="quickstart-checklist.jswXFlowModalCompleted",l="SHOW_SWITCHER_SPOTLIGHT_ONLY",d="quickstart-checklist.invite-teammate-v2",u="quickstart-checklist.confluence-guide-v2",p="quickstart-checklist.integration-v2",g="quickstart-checklist.site-tour-v2",E="quickstart-checklist.close-spotlight",b="quickstart-checklist.migrations.welcome",m="quickstart-checklist.migrations.new-page",k="quickstart-checklist.migrations.collaborate",f="quickstart-checklist.migrations.find-and-organize-pages",v="quickstart-checklist.migrations.edit-and-customize-content",S="quickstart-checklist.simplify.admin.rename-site",T="quickstart-checklist.nth-user-v2.help",C="quickstart-checklist.nth-user-v2.confluence-101",y="quickstart-checklist.nth-user-v2.create",O="quickstart-checklist.nth-user-v2.collaborate",_={[i]:"inviteTeammateCompleted",[n]:"integrationCompleted",[s]:"jswXflowSwitcherTourCompleted",[o]:"jswConfIntroCompleted",[c]:"jswXFlowModalCompleted",[u]:"qsv2ReadConfluenceGuideCompleted",[d]:"qsv2InviteTeammateCompleted",[p]:"qsv2IntegrationCompleted",[g]:"qsv2SiteVideoTourCompleted",[E]:"qsv2SpotlightCompleted",[b]:"migrationsWelcomeCompleted",[m]:"migrationsNewPageCompleted",[k]:"migrationsCollaborateCompleted",[f]:"migrationsFindAndOrganizePagesCompleted",[v]:"migrationsEditAndCustomizeContentCompleted",[S]:"simplifyAdminRenameSiteCompleted",[y]:"nqsv2CreateCompleted",[O]:"nqsv2CollaborateCompleted",[T]:"nqsv2HelpCompleted",[C]:"nqsv2Confluence101Completed"},A=new Set([i,o,u,d,p,g,b,m,k,v,f,S,O,C]),I={ONBOARDING_ATTRIBUTES_UPDATED:"onboardingAttributesUpdated",CACHE_UPDATE_FAILED:"cacheUpdateFailed"}},564441:(e,t,a)=>{a.d(t,{K:()=>n,o:()=>i});var r=a(779076);const i=r.ZP`query GetOnboardingState($key:[String]){onboardingState(key:$key){key value}}`,n=r.ZP`mutation SetOnboardingState($states:[OnboardingStateInput!]!){setOnboardingState(states:$states){key value}}`},928782:(e,t,a)=>{a.d(t,{B8:()=>g,Gs:()=>u,Hi:()=>d,Si:()=>p,wA:()=>E});var r=a(779076),i=a(840506),n=a(167347),s=a(649233),o=a(582463),c=a(906040),l=a(564441);const d=e=>{const t={},{onboardingState:a}=e||{};return void 0!==a&&a.forEach((({key:e,value:a})=>{const r=e.split(":")[1]||e;a&&(/(true|false)/g.test(a)?t[r]="true"===a:t[r]=a)})),t},u=()=>{const[e,{error:t,called:a}]=(0,n.Db)(l.K,{update(e,{data:t}){t.setOnboardingState.forEach((({key:t,value:a})=>{e.writeFragment({id:`OnboardingState:${t}`,fragment:r.ZP`fragment myKey on OnboardingState{key value}`,data:{key:t,value:a,__typename:"OnboardingState"}})}))},onError:e=>{(0,c.Y)(e)&&(0,s.Xb)(e)}});return{setOnboardingState:(0,i.useCallback)((t=>{let a;a=Array.isArray(t)?t:[t],e({variables:{states:a},optimisticResponse:{setOnboardingState:a.map((({key:e,value:t})=>({key:e,value:t,__typename:"OnboardingState"})))}})}),[e]),error:t,called:a}},p=(e,t=!1)=>{const{isLoggedIn:a,isLicensed:r}=(0,o.D)(),i=t||(!a||!r),{data:s,error:c,loading:d,refetch:u}=(0,n.aM)(l.o,{variables:{key:e},skip:i});return{data:s,error:c,loading:d,refetch:u}},g=async(e,t)=>await e.query({query:l.o,variables:{key:t}}),E=async(e,{key:t,value:a})=>await e.mutate({mutation:l.K,variables:{key:t,value:a},update(e){e.writeFragment({id:t,fragment:r.ZP`fragment myKey on OnboardingState{key value}`,data:{key:t,value:a,__typename:"OnboardingState"}})}})},678110:(e,t,a)=>{a.d(t,{z:()=>u});var r=a(615919),i=a(486889),n=a(582463),s=a(179640),o=a(111783),c=a(908990),l=a(278102),d=a(928782);const u=()=>{var e;const{isLicensed:t,isLoggedIn:a,cloudId:u}=(0,n.D)(),{createAnalyticsEvent:p}=(0,i._)(),{setOnboardingState:g}=(0,d.Gs)(),E=(0,s.T)("confluence.frontend.onboarding.experience");let b=!1;const{data:m,loading:k}=(0,d.Si)(Object.values(l.$x),!a||!t),f=l.$x.IS_MIGRATED_USER_V2,v=(null==m||null===(e=m.onboardingState)||void 0===e||null===(e=e.find((e=>e.key===f)))||void 0===e?void 0:e.value)||void 0,S=!E||!("true"===v||void 0===v)||k,{loading:T,error:C,attributes:y}=(0,o.$)({cloudId:u,skip:S}),O=null==y?void 0:y.reduce(((e,t)=>(0,r.Z)((0,r.Z)({},e),{},{[t.name]:t.value})),{}),_=null==O?void 0:O.confluence_entitlement_type,A=null==O?void 0:O["confluence.ondemand.activationDate"],I=null==O?void 0:O.confluence_migration_status;if(k||T||S||C)return{isMigratedUser:!1,isMigratedUserReady:!0,error:C,skipQuery:S};const h=null==O?void 0:O.confluence_first_migration_signal_date,q="true"===I,N=q?h:A;if(!(q||"EXTENDED_TRIAL"===_))return void 0===I&&"true"!==v||"false"!==v&&g({key:f,value:"false"}),{isMigratedUser:b,isMigratedUserReady:!T&&!C,error:C,skipQuery:S};if(N){const e=(0,c.iJ)(N,c.IP.ADD,3);if(!(new Date<e))return"false"!==v&&g({key:f,value:"false"}),{isMigratedUser:b,isMigratedUserReady:!T&&!C,error:C,skipQuery:S};b=!0,"true"!==v&&(g({key:f,value:"true"}),((e,t)=>{p({type:"sendOperationalEvent",data:{source:"useMigratedUser",actionSubject:"isMigratedUser",action:e,attributes:t}}).fire()})("addedMigratedUserTag",{isMigratedUser:b}))}return{isMigratedUser:!(T||C||S)&&b,isMigratedUserReady:!T&&!C,error:C,skipQuery:S}}},111783:(e,t,a)=>{a.d(t,{$:()=>l});var r=a(167347),i=a(582463),n=a(634554),s=a(722755);const o=a(779076).ZP`query SitePersonalizationQuery($cloudId:String!)@experimental{experimentalSitePersonalization(cloudId:$cloudId){attributes{name value}}}`;let c=!1;const l=({cloudId:e,skip:t,fetchPolicy:a})=>{var l;const{isLoggedIn:d,isLicensed:u}=(0,i.D)(),p=t||!d||!u||c,{data:g,loading:E,error:b}=(0,r.aM)(o,{variables:{cloudId:e},fetchPolicy:a||"cache-first",skip:p,onError(e){var t;c=null==e||null===(t=e.graphQLErrors)||void 0===t?void 0:t.some((e=>{var t,a,r;return(null==e||null===(t=e.path)||void 0===t?void 0:t.includes("experimentalSitePersonalization"))&&((null==e||null===(a=e.message)||void 0===a?void 0:a.includes("/personalization Received status 401"))||(null==e||null===(r=e.message)||void 0===r?void 0:r.includes("/personalization Received status 403"))||(0,n.j6)(e,"401")||(0,s.T)(e))}))}});return{loading:E,error:b,attributes:(null==g||null===(l=g.experimentalSitePersonalization)||void 0===l?void 0:l.attributes)||[]}}},180735:(e,t,a)=>{a.d(t,{q:()=>i});var r=a(719323);const i=(e,t,a)=>e.getVariantValue(t,{default:r.H.NOT_ENROLLED,oneOf:Object.values(r.H),shouldTrackExposureEvent:a})},906040:(e,t,a)=>{a.d(t,{Y:()=>n});var r=a(483647),i=a(722755);function n(e){var t;return"unauthorized"===(null==e||null===(t=e.graphQLErrors)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.message)||(0,i.T)(e)||(0,r.S)(e)}},92560:(e,t,a)=>{a.d(t,{df:()=>c,nJ:()=>o,w4:()=>l});var r=a(654927),i=a.n(r),n=a(719323),s=a(908990);function o({featureFlagClient:e,flagName:t,isUserLocaleCorrect:a,shouldTrackExposureEvent:r=!0,isStatSig:s=!1,exposureData:o}){const c=n.H.NOT_ENROLLED,l=a&&r,d=s?function(e,t,a){try{return i().getExperimentValue(e,"cohort",t,{fireExperimentExposure:a})}catch(r){return t}}(t,c,l):e.getVariantValue(t,{default:c,oneOf:Object.values(n.H),shouldTrackExposureEvent:l,exposureData:o});return d===n.H.EXPERIMENT&&a?a:d===n.H.ENROLLED}const c=(e,t,a,r=!0,i)=>o({featureFlagClient:e,flagName:t,isUserLocaleCorrect:(0,s.RV)(a),shouldTrackExposureEvent:r,exposureData:i}),l=(e,t,a=!0,r)=>o({featureFlagClient:e,flagName:t,isUserLocaleCorrect:!0,shouldTrackExposureEvent:a,exposureData:r})},908990:(e,t,a)=>{a.d(t,{IP:()=>i,RV:()=>r,iJ:()=>n});const r=e=>{let t=!0,a=!0;return e&&(t=-1!==e.toLowerCase().indexOf("en",0)),"undefined"!=typeof window&&navigator&&(a=navigator.language.includes("en")),a&&t};let i=function(e){return e.ADD="ADD",e.SUBTRACT="SUBTRACT",e}({});const n=(e,t,a)=>{const r=new Date(e),i=r;let n=r.getMonth();const s=r.getDate();return"ADD"===t?n+=a:"SUBTRACT"===t&&(n-=a),i.setMonth(n),s!=i.getDate()&&i.setDate(0),i}},389908:(e,t,a)=>{a.d(t,{QF:()=>g,QQ:()=>u,lm:()=>p});var r=a(615919),i=a(840506),n=a(486889),s=a(190206),o=a(400318),c=a(851058),l=a(251220);const d=(e,t,a,r)=>e?"migrationsQuickstart":r?"nthUserQuickstartV2":t?"xflowAdminUserQuickstart":a?"xflowNthUserQuickstart":"adminQuickstart",u=()=>{const e=(0,i.useContext)(s.F),{isNthUserQSV2Eligible:t,isMigrationsQuickstartEligible:a,isJswXflowUserQSEligible:r,isAdmin:n}=(0,l.d)(),c=d(a(),n&&r(),!n&&r(),t());return{experienceTracker:e,startOnboardingQuickstart:()=>{e.start({name:o.apt,attributes:{quickstartType:c}})},failOnboardingQuickstart:t=>{e.fail({name:o.apt,error:t||new Error("Experience Tracker: Onboarding Quickstart Failed"),attributes:{quickstartType:c}})},finishOnboardingQuickstart:()=>{e.succeed({name:o.apt,attributes:{quickstartType:c}})}}},p=()=>{const{createAnalyticsEvent:e}=(0,n._)(),{isMigrationsQuickstartEligible:t,isJswXflowUserQSEligible:a,isAdmin:s,isNthUserQSV2Eligible:o}=(0,l.d)(),u=d(t(),s&&a(),!s&&a(),o()),p=(0,i.useCallback)(((t,a)=>{e({type:"sendTrackEvent",data:{action:"ineligible",actionSubject:"quickstart",source:t,attributes:{inEligibleReasons:a,quickstartType:u}}}).fire()}),[e,u]),g=(0,i.useCallback)((t=>{e({data:{attributes:(0,r.Z)({namespaces:c.up,quickstartType:u},t),name:c.up},type:"sendScreenEvent"}).fire()}),[e,u]),E=(0,i.useCallback)((t=>{e({type:"sendUIEvent",data:{source:c.up,actionSubject:"button",action:t?"opened":"closed",actionSubjectId:c.nU,attributes:{namespaces:c.up,quickstartType:u}}}).fire()}),[e,u]),b=(0,i.useCallback)((t=>{e({type:"sendScreenEvent",data:{attributes:{products:t},name:"exploreIntegrationsQuickstartDrawer"}}).fire()}),[e]),m=(0,i.useCallback)((t=>{e({type:"sendScreenEvent",data:{attributes:{products:t},name:"adminQSV2ExploreIntegrationsQuickstartDrawer"}}).fire()}),[e]),k=(0,i.useCallback)((()=>{e({type:"sendScreenEvent",data:{attributes:{quickstartType:u},name:c.VU}}).fire()}),[e,u]),f=(0,i.useCallback)(((t,a)=>{e({type:"sendOperationalEvent",data:{source:t,action:"added",actionSubject:"onboardingQuickstartCard",actionSubjectId:a,attributes:{quickstartType:u}}}).fire()}),[e,u]),v=(0,i.useCallback)((()=>{e({type:"sendUIEvent",data:{source:c.VU,actionSubject:"button",action:"clicked",actionSubjectId:c.Ux,attributes:{namespaces:`navigationNextScreen.${c.VU}`,quickstartType:u}}}).fire()}),[e,u]),S=(0,i.useCallback)(((t,a,r,i)=>{e({type:"sendUIEvent",data:{source:c.up,actionSubject:"checklistItem",action:t?"opened":"closed",actionSubjectId:i,attributes:{taskPosition:a,taskId:r,namespaces:c.up,quickstartType:u}}}).fire()}),[e,u]),T=(0,i.useCallback)(((t,a,r)=>{const i={namespaces:c.up,quickstartType:u};t&&(i.completedTasks=a,i.totalTasks=r),e({type:"sendUIEvent",data:{source:c.up,actionSubject:"button",action:t?"dismissed":"reactivated",actionSubjectId:c.nU,attributes:i}}).fire()}),[e,u]);return{firePanelViewed:g,firePanelToggled:E,fireExploreIntegrationsExpanded:b,fireAdminQSV2ExploreIntegrationsExpanded:m,fireButtonViewed:k,fireCardAdded:f,fireButtonClicked:v,fireTaskToggled:S,fireQuickstartError:(0,i.useCallback)(((t,a,r)=>{e({type:"sendOperationalEvent",data:{source:t,action:"failed",actionSubject:"onboardingQuickstart",actionSubjectId:a,attributes:{message:JSON.stringify(r),quickstartType:u}}}).fire()}),[e,u]),fireDismissToggled:T,fireCtaClicked:(0,i.useCallback)((t=>{e({type:"sendUIEvent",data:{source:t,action:"clicked",actionSubject:"button",actionSubjectId:c.KI,attributes:{namespaces:c.up,quickstartType:u}}}).fire()}),[e,u]),fireCarouselActionEvent:(0,i.useCallback)(((t,a,r,i)=>{e({type:"sendUIEvent",data:{action:t,actionSubject:"carousel",actionSubjectId:c.zc,source:r,attributes:{taskId:a,index:i,quickstartType:u}}}).fire()}),[e,u]),fireVideoEvent:(0,i.useCallback)(((t,a,r,i)=>{e({type:"sendTrackEvent",data:{action:t,actionSubject:a,source:r,attributes:{namespaces:c.up,videoProgress:i}}}).fire()}),[e]),fireCacheUpdateSuccess:(0,i.useCallback)(((t,a)=>{e({type:"sendOperationalEvent",data:{source:"useSaveState",action:"success",actionSubject:"useSaveState update",attributes:{stateKey:t,stateValue:a,quickstartType:u}}}).fire()}),[e,u]),fireCacheUpdateError:(0,i.useCallback)(((t,a,{name:r,message:i})=>{e({type:"sendOperationalEvent",data:{source:"useSaveState",action:"failed",actionSubject:"useSaveState update",attributes:{stateKey:t,stateValue:a,errorName:r,errorMessage:i,quickstartType:u}}}).fire()}),[e,u]),fireLoadStateRefetchSuccess:(0,i.useCallback)((t=>{e({type:"sendOperationalEvent",data:{source:"useLoadState",action:"success",actionSubject:"useLoadState refetch",attributes:{quickstartType:u,refetchEventType:t}}}).fire()}),[e,u]),fireLoadStateRefetchError:(0,i.useCallback)(((t,{name:a,message:r})=>{e({type:"sendOperationalEvent",data:{source:"useLoadState",action:"failed",actionSubject:"useLoadState refetch",attributes:{errorName:a,errorMessage:r,quickstartType:u,refetchEventType:t}}}).fire()}),[e,u]),fireIneligibleQS:p}},g=()=>{const{createAnalyticsEvent:e}=(0,n._)(),{isMigrationsQuickstartEligible:t,isJswXflowUserQSEligible:a,isAdmin:r,isNthUserQSV2Eligible:s}=(0,l.d)(),o=d(t(),r&&a(),!r&&a(),s());return{fireOperationalSpotlightError:(0,i.useCallback)(((t,a,r)=>{e({type:"sendOperationalEvent",data:{source:a,action:"errored",actionSubject:"onboardingSpotlight",actionSubjectId:r,attributes:{message:t.message,quickstartType:o}}}).fire()}),[e,o])}}},439790:(e,t,a)=>{a.d(t,{bX:()=>k,S4:()=>m});a(840506);var r=a(167347),i=a(649233),n=a(278102),s=a(906040),o=a(980452),c=a(582463),l=a(779076),d=a(267182);const u=l.ZP`query GetQuickstartState($key:[String]){onboardingState(key:$key){key value}...UserPermissionFragment}${d.M}`,p=l.ZP`mutation SetQuickstartState($states:[OnboardingStateInput!]!){setOnboardingState(states:$states){key value}}`;let g=function(e){return e.ANONYMOUS="ANONYMOUS",e.APP="APP",e.EXTERNAL="EXTERNAL",e.INTERNAL="INTERNAL",e.JSD="JSD",e}({});var E=a(389908);const b=e=>{const{onboardingState:t}=e,a={},r=(0,o.F)(e)===g.EXTERNAL;return r&&(a.isExternalCollaborator=r),void 0!==t&&t.forEach((({key:e,value:t})=>{const r=e.split(":")[1];t&&(/(true|false)/g.test(t)?a[r]="true"===t:a[r]=t)})),a},m=()=>{const{fireCacheUpdateSuccess:e,fireCacheUpdateError:t}=(0,E.lm)(),[a]=(0,r.Db)(p,{onError:e=>{(0,s.Y)(e)&&(0,i.Xb)(e)},update(a,{data:r}){const{key:i,value:s}=r.setOnboardingState[0],o={key:Object.values(n.$x)};try{const t=a.readQuery({query:u,variables:o});t&&t.onboardingState&&(t.onboardingState.forEach((e=>{e.key===i&&(e.value=s)})),a.writeQuery({query:u,data:t,variables:o}),e(i,s))}catch(c){const{CACHE_UPDATE_FAILED:e}=n.REFETCH_EVENTS;t(i,s,c),window.dispatchEvent(new Event(e))}}});return[(e,t,r="quickstart-state:")=>{a({variables:{states:[{key:r+e,value:`${t}`}]},optimisticResponse:{setOnboardingState:[{key:r+e,value:`${t}`,__typename:"OnboardingState"}]}})}]},k=()=>{const{isLoggedIn:e,isLicensed:t}=(0,c.D)(),{data:a,error:o,loading:l}=(0,r.aM)(u,{variables:{key:Object.values(n.$x)},skip:!e||!t});let d;return!a||l||o||(d=b(a)),o&&(0,s.Y)(o)&&(0,i.Xb)(o),{state:d,error:o,loading:l}}},851058:(e,t,a)=>{a.d(t,{KI:()=>c,My:()=>r,Ux:()=>s,VU:()=>o,lG:()=>d,nU:()=>i,up:()=>n,zc:()=>l});const r=1130,i="confluenceOnboardingQuickstart",n="confluenceOnboardingQuickstartDrawer",s="confluenceOnboardingQuickstartButton",o="confluenceOnboardingQuickstartButtonDrawer",c="confluenceOnboardingQuickstartCta",l="confluenceOnboardingQuickstartCarouselAction",d={en:"https://player.vimeo.com/progressive_redirect/playback/676035490/rendition/1080p?loc=external&signature=1ce9207d5a6a8957d85834336f59c42c45b099c8320d3c60cdbfe2f526136ec2",jp:"https://player.vimeo.com/progressive_redirect/playback/738398214/rendition/1080p/file.mp4?loc=external&signature=b1d49a7d7a517d7d245e0d4018b4f4dba97d97c481ced019807dc97fa45631db",de:"https://player.vimeo.com/progressive_redirect/playback/738398180/rendition/1080p/file.mp4?loc=external&signature=29b5a66a0b5a5bc2ef65c6d11048328650ae4c963b29877ac9ab5abac47ef4a4",cn:"https://player.vimeo.com/progressive_redirect/playback/738398158/rendition/1080p/file.mp4?loc=external&signature=3f0f01307ffd26e49240387deb9b703d45cf59359b862dd8d1b68542c5d35166",br:"https://player.vimeo.com/progressive_redirect/playback/738398131/rendition/1080p/file.mp4?loc=external&signature=36299800fdbeefd42b2da49a887e804dbb9c2df500acaab07627f8d01521770f",ru:"https://player.vimeo.com/progressive_redirect/playback/738398112/rendition/1080p/file.mp4?loc=external&signature=26c0364851f5cb0d38d4396e5067473d825e8e633fd0cc204982fd3773f235b2",es:"https://player.vimeo.com/progressive_redirect/playback/738398078/rendition/1080p/file.mp4?loc=external&signature=596aa393f72a91d1485f7b36edf5a9e03e25a1350a923a870181c7cd1e92c21c",nl:"https://player.vimeo.com/progressive_redirect/playback/738398054/rendition/1080p/file.mp4?loc=external&signature=3927a84841c8b9bc1812797a72885a30c45c1749f661bbd15c01f09b067b5915",kr:"https://player.vimeo.com/progressive_redirect/playback/738398022/rendition/1080p/file.mp4?loc=external&signature=ab4e580c57f4f9ca990f1cd917a55a43ad0ed3f3c87cdc3e5592634eb5a6b213",pl:"https://player.vimeo.com/progressive_redirect/playback/738397991/rendition/1080p/file.mp4?loc=external&signature=869e4a87dc2f8d5bd49843d6066c8370dd3f1ca0a2a41e7d9334c9b63bab3d07",it:"https://player.vimeo.com/progressive_redirect/playback/738397952/rendition/1080p/file.mp4?loc=external&signature=1b7a167fff2b5c656f349ed89aac9c88a9224329d7c68835c76e519a7a5b713b",fr:"https://player.vimeo.com/progressive_redirect/playback/738397906/rendition/1080p/file.mp4?loc=external&signature=41b38194e902626c4a55d6ca7ec5ab4e267b395be78bcd15f5f1d0e86b083081"}},251220:(e,t,a)=>{a.d(t,{d:()=>k});var r=a(840506),i=a(582463),n=a(734233),s=a(851239),o=a(678110),c=a(543755),l=a(423128);var d=a(719323),u=a(180735);var p=a(929766),g=a(365091),E=a(856389),b=a(851058),m=a(439790);const k=()=>{const{location:e,matchRoute:t}=(0,r.useContext)(n.M),{featureFlagClient:a,userId:k,isLicensed:f,edition:v,locale:S}=(0,i.D)(),{isSiteAdmin:T}=(()=>{const{isSiteAdmin:e,loading:t,error:a}=(0,r.useContext)(l.wu);return{isSiteAdmin:e&&!t&&!a}})(),{isMigratedUser:C,isMigratedUserReady:y}=(0,o.z)(),{state:O}=(0,m.bX)(),{name:_}=e&&e.pathname&&t(e.pathname)||{},A=(e=>!!e&&([/WHITEBOARD_HOME/,/WHITEBOARD_BOARD/,/LEGACY/,/ADMIN/,/^CALENDAR$/].every((t=>!t.test(e)))||[/VIEW_BLOG_DATE_LEGACY/].some((t=>t.test(e)))))(_),{width:I}=(0,c.i)(),h=I>=b.My,q=T,N=A&&!(!k||!f)&&h,{reverseTrialCohort:D,loading:L,error:R}=(0,p.$)({skip:!q}),M=D===g.F.CONTROL||D===g.F.VARIANT,U=q&&!L&&!R&&(M||v===E.m.STANDARD||v===E.m.PREMIUM),P=T&&((e,t,a=!1)=>{const r=-1!==t.toLowerCase().indexOf("en",0),i=(0,u.q)(e,"confluence.frontend.onboarding.quickstart-as-a-page-experiment",r&&Boolean(a));return i===d.H.EXPERIMENT?r:i===d.H.ENROLLED})(a,S);let w;try{w=(null==O?void 0:O.attributes)&&JSON.parse(null==O?void 0:O.attributes).originProduct}catch(H){w=""}const x="jira"===w,Q=(0,s.C)(a,!1),V=()=>Q&&N&&!q,j=()=>Q&&N&&q,F=()=>Q&&N&&!q&&y&&C,G=(e=!1,t=!1)=>(x||t)&&Q&&N&&"experiment"===a.getVariantValue("confluence.frontend.onboarding.xflow.jsw",{default:"control",shouldTrackExposureEvent:e,oneOf:["control","experiment","enrolled"]});return{isTarget:N,isAdmin:q,isOnboardingEligible:Q,isQuickstartEligible:()=>!U&&Q&&N&&!P&&(G()||j()||F()||V()),isNthUserQSV2Eligible:V,isAdminQuickStartV2Eligible:j,isMigrationsQuickstartEligible:F,isJswXflowUserQSEligible:G}}},365091:(e,t,a)=>{a.d(t,{F:()=>r});let r=function(e){return e.CONTROL="CONTROL",e.NOT_ENROLLED="NOT_ENROLLED",e.VARIANT="VARIANT",e}({})},929766:(e,t,a)=>{a.d(t,{$:()=>E,D:()=>g});var r=a(840506),i=a(167347),n=a(486889),s=a(92560);var o=a(582463),c=a(179640),l=a(423128),d=a(856389);const u=a(779076).ZP`query SignUpProperties{signUpProperties{reverseTrial}}`;var p=a(365091);const g=(e=!1)=>{const{createAnalyticsEvent:t}=(0,n._)(),{featureFlagClient:a,edition:i}=(0,o.D)(),u=i===d.m.PREMIUM,{isSiteAdmin:g}=(0,r.useContext)(l.wu),{reverseTrialCohort:b,loading:m,error:k}=E({skip:!g||!u}),f=(0,c.T)("confluence.frontend.onboarding.experience"),v=g&&u&&f&&((e,t)=>(0,s.w4)(e,"confluence.frontend.onboarding.reverse-trial",t))(a,e),S=!m&&!k&&b===p.F.VARIANT;return(0,r.useEffect)((()=>{!k&&!m&&g&&e&&t({type:"sendTrackEvent",data:{source:"onboardingReverseTrial",action:"exposed",actionSubject:"feature",attributes:{type:"signUpProperties",servedValue:b}}}).fire()}),[t,m,k,g,b,e]),{isReverseTrialEligible:v&&S}};function E({skip:e}={}){var t;const{data:a,loading:r,error:n}=(0,i.aM)(u,{skip:e});return{reverseTrialCohort:null==a||null===(t=a.signUpProperties)||void 0===t?void 0:t.reverseTrial,loading:!e&&r,error:e?null:n}}}}]);
//# sourceMappingURL=88100.rRz8NXqwnC.js.map