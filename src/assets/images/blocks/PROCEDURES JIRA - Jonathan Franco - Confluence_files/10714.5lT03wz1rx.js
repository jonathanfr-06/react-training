(self._cf=self._cf||[]).push([[10714,29245],{334806:function(e,t){!function(e){const t=Symbol("newer"),n=Symbol("older");class i{constructor(e,t){"number"!=typeof e&&(t=e,e=0),this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap=new Map,t&&(this.assign(t),e<1&&(this.limit=this.size))}_markEntryAsUsed(e){e!==this.newest&&(e[t]&&(e===this.oldest&&(this.oldest=e[t]),e[t][n]=e[n]),e[n]&&(e[n][t]=e[t]),e[t]=void 0,e[n]=this.newest,this.newest&&(this.newest[t]=e),this.newest=e)}assign(e){let i,a=this.limit||Number.MAX_VALUE;this._keymap.clear();let s=e[Symbol.iterator]();for(let o=s.next();!o.done;o=s.next()){let e=new r(o.value[0],o.value[1]);if(this._keymap.set(e.key,e),i?(i[t]=e,e[n]=i):this.oldest=e,i=e,0==a--)throw new Error("overflow")}this.newest=i,this.size=this._keymap.size}get(e){var t=this._keymap.get(e);return t?(this._markEntryAsUsed(t),t.value):void 0}set(e,i){var a=this._keymap.get(e);return a?(a.value=i,this._markEntryAsUsed(a),this):(this._keymap.set(e,a=new r(e,i)),this.newest?(this.newest[t]=a,a[n]=this.newest):this.oldest=a,this.newest=a,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var e=this.oldest;if(e)return this.oldest[t]?(this.oldest=this.oldest[t],this.oldest[n]=void 0):(this.oldest=void 0,this.newest=void 0),e[t]=e[n]=void 0,this._keymap.delete(e.key),--this.size,[e.key,e.value]}find(e){let t=this._keymap.get(e);return t?t.value:void 0}has(e){return this._keymap.has(e)}delete(e){var i=this._keymap.get(e);return i?(this._keymap.delete(i.key),i[t]&&i[n]?(i[n][t]=i[t],i[t][n]=i[n]):i[t]?(i[t][n]=void 0,this.oldest=i[t]):i[n]?(i[n][t]=void 0,this.newest=i[n]):this.oldest=this.newest=void 0,this.size--,i.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new s(this.oldest)}values(){return new o(this.oldest)}entries(){return this}[Symbol.iterator](){return new a(this.oldest)}forEach(e,n){"object"!=typeof n&&(n=this);let i=this.oldest;for(;i;)e.call(n,i.value,i.key,this),i=i[t]}toJSON(){for(var e=new Array(this.size),n=0,i=this.oldest;i;)e[n++]={key:i.key,value:i.value},i=i[t];return e}toString(){for(var e="",n=this.oldest;n;)e+=String(n.key)+":"+n.value,(n=n[t])&&(e+=" < ");return e}}function r(e,i){this.key=e,this.value=i,this[t]=void 0,this[n]=void 0}function a(e){this.entry=e}function s(e){this.entry=e}function o(e){this.entry=e}e.LRUMap=i,a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:[e.key,e.value]}):{done:!0,value:void 0}},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.key}):{done:!0,value:void 0}},o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.value}):{done:!0,value:void 0}}}(t)},904148:(e,t,n)=>{"use strict";n.d(t,{$u:()=>E,Ci:()=>I,Ck:()=>m,EE:()=>b,Ex:()=>d,GR:()=>g,Ho:()=>p,Ku:()=>F,OX:()=>h,Qf:()=>_,Up:()=>f,cT:()=>c,ck:()=>i,cu:()=>a,fZ:()=>l,gX:()=>y,hM:()=>u,l$:()=>w,lr:()=>v,o2:()=>r,p$:()=>S,qi:()=>T,xl:()=>o,yG:()=>s});const i="SSR_COMMENT_BUTTON",r="SSR_SHARE_BUTTON",a="SSR_REACTIONS_BUTTON",s="SSR_WATCH_BUTTON",o="SSR_FAVORITE_BUTTON",l="SSR_EDIT_BUTTON",d="SSR_RESTRICTIONS_BUTTON",u="SSR_NAV_APP_SWITCHER",c="SSR_NAV_APPS_BUTTON",m="SSR_NAV_CREATE",p="SSR_NAV_CUSTOM_HOMEPAGE_BUTTON",h="SSR_NAV_CUSTOM_HOMEPAGE_BUTTON",g="SSR_NAV_HELP",E="SSR_NAV_HOME_BUTTON",f="SSR_NAV_NOTIFICATIONS",v="SSR_NAV_PAGES_BUTTON",y="SSR_NAV_PEOPLE_BUTTON",b="SSR_NAV_PROFILE",S="SSR_NAV_SETTINGS",F="SSR_NAV_SPACES_BUTTON",_="SSR_NAV_TEMPLATES_BUTTON",T="SSR_PAGE_TREE_NON_LINK",I="SSR_ADMIN_ANNOUNCEMENT_BANNER_DISMISS_BUTTON",w="SSR_ADMIN_ANNOUNCEMENT_BANNER_CONTENT_LINK"},272070:(e,t,n)=>{"use strict";n.d(t,{H:()=>E});var i=n(615919),r=n(872342),a=n(840506),s=n(920839),o=n(767001),l=n(474168),d=n(16728),u=n(946972),c=n(141593);const m=(0,u.Z)("span",{target:"e1o0kwod0"})((0,c.nk)(),";display:flex;justify-content:center;align-items:center;"),p=["as","style"],h=["margin"];n(698297),n(593940),n(410258),n(416473),n(350308),n(234119),n(494),n(266528),n(883603),n(684940),n(778289),n(563952);const g=(0,a.forwardRef)(((e,t)=>{let{as:n="span",style:l}=e,u=(0,r.Z)(e,p);const{margin:c}=u,m=(0,r.Z)(u,h);return a.createElement(n,(0,i.Z)((0,i.Z)({},m),{},{style:(0,i.Z)((0,i.Z)({},l),{},{"--_1xysrii":(0,s.Z)(`var(--ds-background-neutral, ${d.os})`),"--_1frub2c":(0,s.Z)(u.size),"--_10ukn7g":(0,s.Z)(u.margin)}),ref:t,className:(0,o.Z)(["_1e0c1o8l _11q71c3z _1bsb1vpm _4t3i1vpm _1wyb1vpm _vwz41vpm _2rko1l7b",u.margin?"_18s8xa0v":"_19pkidpf _2hwxidpf _otyridpf _18u0idpf",u.className])}))}));const E=e=>a.createElement(l.ZP,{entranceDirection:"left"},(t=>a.createElement(m,(0,i.Z)((0,i.Z)({},t),{},{"data-testid":"emoji-placeholder","data-css-target":"emoji-placeholder"}),a.createElement(g,{size:`${e.height||26}px`,margin:e.loadingMargin}))));E.displayName="EmojiPlaceholder"},978308:(e,t,n)=>{"use strict";n.d(t,{Jd:()=>p,To:()=>c,_P:()=>d,kC:()=>m});var i=n(615919),r=n(394367),a=n.n(r),s=n(784569),o=n(301777),l=n(609137);const d=(e,{eventType:t,element:n,action:r,actionSubject:a,actionSubjectId:s,attributes:o={}})=>{e({type:t,data:{action:r,source:"EmojiTitleSection",actionSubject:a,actionSubjectId:s,attributes:(0,i.Z)({element:n},o)}}).fire()},u=a()(d,500),c=async({createAnalyticsEvent:e,contentId:t,isLivePage:n,isSwapDraftCreateEventEnabled:i})=>{const{data:r}=await(0,s.WQ)().query({query:l.G,variables:{contentId:t,status:["current","draft"],skipPublishedFragment:!1}}),a=(0,o.pp)(r);a.length>=0&&""!==a&&d(e,{eventType:"sendTrackEvent",element:"",action:"created",actionSubject:i?"draftWithEmoji":"draft",actionSubjectId:"",attributes:{emojiId:a,isLivePage:n}})},m=({createAnalyticsEvent:e,emoji:t,context:n,error:i={message:""},isLivePage:r})=>{d(e,{eventType:"sendTrackEvent",element:"emoji",action:"error",actionSubject:"renderEmoji",actionSubjectId:"renderEmojiError",attributes:{emojiShortName:t&&t.shortName,emojiId:t&&t.id,context:n,errorMessage:i.message,isLivePage:r}})},p=({createAnalyticsEvent:e,context:t,isLivePage:n})=>{u(e,{eventType:"sendUIEvent",element:"emoji",action:"rendered",actionSubject:"EmojiComponent",actionSubjectId:"emojiComponent_emoji",attributes:{context:t,isLivePage:n}})}},609137:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var i=n(779076);const r=i.ZP`fragment emojiTitleInnerFragment on PaginatedJsonContentPropertyList{nodes{id key value version{number}}}`,a=i.ZP`query getEmojiTitleProperty($contentId:ID$status:[String]$draftShareId:String$skipPublishedFragment:Boolean!){content(id:$contentId draftShareId:$draftShareId status:$status){nodes{id emojiTitlePublished:properties(key:"emoji-title-published")@skip(if:$skipPublishedFragment){...emojiTitleInnerFragment}emojiTitleDraft:properties(key:"emoji-title-draft"){...emojiTitleInnerFragment}}}}${r}`},959360:(e,t,n)=>{"use strict";n.d(t,{FB:()=>g,Qk:()=>m,SJ:()=>h,ZG:()=>u,_C:()=>d,du:()=>p,dz:()=>c,u2:()=>E});var i=n(615919),r=n(305227),a=n(978308),s=n(301777),o=n(609137);const l="emoji-title-draft",d=async({userId:e,cloudId:t,emojiId:n})=>{const i=await(0,s.T5)(t,e);if(i){const e=await i.findById(n);if(e)return i.loadMediaEmoji(e)}return Promise.resolve(null)},u=/([a-z\d_-]+):/,c=async({selectedEmoji:e,emojiProvider:t,onUpdateStartEmoji:n,createAnalyticsEvent:d,emojiTitleState:u,onEmojiUpdated:c,onUpdateEndEmoji:m,updateContentPropertyMutation:p,contentId:h,componentName:g,isLivePage:E},f)=>{n&&n(),(0,a._P)(d,{eventType:"sendUIEvent",element:"button",action:"clicked",actionSubject:"emojiPicker",actionSubjectId:"emoji",attributes:{emojiId:e.id,inputMethod:"title",isLivePage:E}});const v=await t.loadMediaEmoji(e,!0);return u.setOpenSecondEmojiPicker(!1),u.setSelectedEmoji(v),c().then((({data:t})=>{var n;const a=(0,s.L1)(t),d=a?a+1:1,c=null==e||null===(n=e.id)||void 0===n?void 0:n.replace(/['"]+/g,"");return p({variables:{contentId:h,propertyKey:l,propertyValue:c,versionNumber:String(d)},update:e=>{try{const n=e.readQuery({query:o.G,variables:{contentId:h,status:["current","draft"],skipPublishedFragment:!0,draftShareId:(0,r.e)()}});n.content.nodes[0].emojiTitleDraft.nodes[0]=(0,i.Z)((0,i.Z)({},n.content.nodes[0].emojiTitleDraft.nodes[0]),{},{id:h,key:l,value:c,version:{number:d,__typename:"Version"}}),e.writeQuery({query:o.G,variables:{contentId:h,status:["current","draft"],skipPublishedFragment:!0,draftShareId:(0,r.e)()},data:t})}catch(n){throw new Error(`${g} failed to write to cache while updating ${l} content property after user selecting emoji ${n.message}`)}},optimisticResponse:{__typename:"Mutation",experimentalUpdateContentProperty:{__typename:"ExperimentalUpdateContentProperty",success:!0,id:h,key:l,value:c}}}).then((()=>{m&&m(),u.setSelectedEmoji(v)})).catch((e=>{throw new Error(`${g} failed to update ${l} content property after user selecting emoji ${e.message}`)}))}))},m=(e,{onUpdateStartEmoji:t,onUpdateEndEmoji:n,onEmojiUpdated:i,contentId:a,updateContentPropertyMutation:s,componentName:d=""})=>(t&&t(),i().then((()=>s({variables:{contentId:a,propertyKey:l,isDelete:!0},update:e=>{try{const t=e.readQuery({query:o.G,variables:{contentId:a,status:["current","draft"],skipPublishedFragment:!0,draftShareId:(0,r.e)()}});t.content.nodes[0].emojiTitleDraft={nodes:[],__typename:"PaginatedJsonContentPropertyList"},e.writeQuery({query:o.G,variables:{contentId:a,status:["current","draft"],skipPublishedFragment:!0,draftShareId:(0,r.e)()},data:t})}catch(t){throw new Error(`${d} failed to write to cache while updating content property after user removing emoji ${t.message}`)}},optimisticResponse:{__typename:"Mutation",experimentalUpdateContentProperty:{__typename:"ExperimentalUpdateContentProperty",success:!0}}}).finally((()=>{n&&n()})).catch((e=>{throw new Error(`${d} failed to update ${l} content property after user removing emoji ${e.message}`)}))))),p=/^([\u{1F1E6}-\u{1F1FF}][\u{1F1E6}-\u{1F1FF}]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F000}-\u{1F0FF}\u{1F10D}-\u{1F10F}\u{1F12F}\u{1F16C}-\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1AD}-\u{1F1E5}\u{1F201}-\u{1F20F}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F23C}-\u{1F23F}\u{1F249}-\u{1F3FA}\u{1F400}-\u{1F53D}\u{1F546}-\u{1F64F}\u{1F680}-\u{1F6FF}\u{1F774}-\u{1F77F}\u{1F7D5}-\u{1F7FF}\u{1F80C}-\u{1F80F}\u{1F848}-\u{1F84F}\u{1F85A}-\u{1F85F}\u{1F888}-\u{1F88F}\u{1F8AE}-\u{1F8FF}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1FAFF}\u{1FC00}-\u{1FFFD}]([\u{1F3FB}-\u{1F3FF}]|\uFE0F\u20E3?|[\u{E0020}-\u{E007E}]+\u{E007F})?(\u200D[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299\u{1F000}-\u{1F0FF}\u{1F10D}-\u{1F10F}\u{1F12F}\u{1F16C}-\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1AD}-\u{1F1E5}\u{1F201}-\u{1F20F}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F23C}-\u{1F23F}\u{1F249}-\u{1F3FA}\u{1F400}-\u{1F53D}\u{1F546}-\u{1F64F}\u{1F680}-\u{1F6FF}\u{1F774}-\u{1F77F}\u{1F7D5}-\u{1F7FF}\u{1F80C}-\u{1F80F}\u{1F848}-\u{1F84F}\u{1F85A}-\u{1F85F}\u{1F888}-\u{1F88F}\u{1F8AE}-\u{1F8FF}\u{1F90C}-\u{1F93A}\u{1F93C}-\u{1F945}\u{1F947}-\u{1FAFF}\u{1FC00}-\u{1FFFD}]([\u{1F3FB}-\u{1F3FF}]|\uFE0F\u20E3?|[\u{E0020}-\u{E007E}]+\u{E007F})?)*)/u,h=e=>e&&e.replace(p,"").trimLeft()||"",g=e=>{var t;return e&&(null===(t=p.exec(e))||void 0===t?void 0:t[0])||""},E=(e="",t="",n="",i="",r="",a=!0)=>{const s=a?g(e):"";let o="";a&&(o="draft"===(null==i?void 0:i.toLowerCase())?n:t);const l=s.length>0,d=o.length>0,u=d?o:s;let c=l&&!d?h(e):e;return"draft"!==i||c||(c=r),{text:c,emoji:u,selectedEmoji:o}}},117229:(e,t,n)=>{"use strict";n.d(t,{Am:()=>r,iy:()=>a});var i=n(940155);const r=(0,i.ZR)({__loadable_id__:"-qW0J",name:"ContentIconLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(34641),n.e(67131),n.e(30951)]).then(n.bind(n,134641))).ContentIcon}),a=(0,i.ZR)({__loadable_id__:"ILklv",name:"ContentTreeIconLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(34641),n.e(67131),n.e(30951)]).then(n.bind(n,446613))).ContentTreeIcon})},100543:(e,t,n)=>{"use strict";n.d(t,{I6:()=>r,rN:()=>a});const i=["whiteboard","database"],r=e=>"string"==typeof e&&i.includes(e),a=e=>{const t=r(n=e)?n:void 0;var n;return!!t&&i.includes(t)}},887430:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var i=n(840506),r=n(332072);const a=({children:e,title:t,isQuickActionsOpen:n})=>i.createElement(r.Z,{content:!n&&t?t:null,position:"top",delay:750,hideTooltipOnMouseDown:!0},e);a.displayName="PageTreeTooltip";const s=({isHoverPageCardOptedIn:e,children:t,title:n,isQuickActionsOpen:r})=>e?i.createElement(i.Fragment,null,t):i.createElement(a,{title:n,isQuickActionsOpen:r},t)},468879:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});const i=(0,n(940155).ui)({__loadable_id__:"bxNNr",name:"PageTreeAfterIconLoader",loader:async()=>(await Promise.all([n.e(12705),n.e(61769),n.e(34641),n.e(67131),n.e(30951)]).then(n.bind(n,555829))).PageTreeAfterIcon})},278576:(e,t,n)=>{"use strict";n.d(t,{t:()=>Ee,x:()=>Te});var i=n(615919),r=n(199009),a=n(946972),s=n(840506),o=n(142807),l=n(328167),d=n(795675),u=n(618305),c=n(301540),m=n(904148),p=n(872342),h=n(767001),g=n(50776),E=n(785286),f=n(492921);const v=e=>t=>e===t,y=v("scroll"),b=v("auto"),S=(e,t)=>t(e.overflowX)||t(e.overflowY),F=e=>e?e===document.body||e===document.documentElement?null:(e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return S(n,y)||S(n,b)})(e)?e:F(e.parentElement):null,_=["as","style"],T=["as","style"];n(953305),n(523254),n(698297),n(416473);const I=(0,s.forwardRef)(((e,t)=>{let{as:n="li",style:r}=e,a=(0,p.Z)(e,_);return s.createElement(n,(0,i.Z)((0,i.Z)({},a),{},{style:r,ref:t,className:(0,h.Z)(["_19pkidpf _18u0idpf _19bvidpf",a.className])}))}));const w=(0,s.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,a=(0,p.Z)(e,T);return s.createElement(n,(0,i.Z)((0,i.Z)({},a),{},{style:r,ref:t,className:(0,h.Z)(["_kqswh2mm",a.className])}))}));function x({children:e,item:t,renderItem:n,offsetPerLevel:r,currentLevel:a,isExpanded:o,onExpand:l,onCollapse:d,ariaLabel:u,dropIndicator:c,dragHandleProps:m,draggableState:p},h){const g=(0,s.useRef)(null),E=(0,s.useRef)(null);(0,s.useImperativeHandle)(h,(()=>({containerLiRef:g,draggableDivRef:E})));const f=r*a;return s.createElement(I,(0,i.Z)({ref:g,role:"treeitem"},t.children.length&&{"aria-expanded":t.isExpanded}),s.createElement(w,{ref:E,"aria-label":u},n({item:t,offset:f,onExpand:l,onCollapse:d,draggableState:p,dragHandleProps:m}),c),o&&e)}x.displayName="TreeItemBaseInner";const D=(0,s.memo)((0,s.forwardRef)(x));var k=n(93972),C=n(747472),A=n(884499),R=n(150030),P=n(719998),Z=n(906337);const N=["block"],L=Symbol("tree-item-instruction");function B({client:e,borderBox:t}){const n=t.height/4;return e.y<=t.top+n?"reorder-above":e.y>=t.bottom-n?"reorder-below":"make-child"}function O(e,t){return e.type===t.type&&("instruction-blocked"===e.type&&"instruction-blocked"===t.type?O(e.desired,t.desired):function(e,t){const n=Object.keys(e).sort(),i=Object.keys(t).sort();return n.length===i.length&&n.every((n=>e[n]===t[n]))}(e,t))}const j=(()=>{let e=null;return t=>e&&O(e,t)?e:(e=t,t)})();function M(e,t){let{block:n}=t;const r=function({desired:e,block:t}){if(null!=t&&t.includes(e.type)&&"instruction-blocked"!==e.type)return{type:"instruction-blocked",desired:e};return e}({desired:function({element:e,input:t,currentLevel:n,indentPerLevel:i,mode:r}){const a={x:t.clientX,y:t.clientY},s=e.getBoundingClientRect();if("standard"===r)return{type:B({borderBox:s,client:a}),indentPerLevel:i,currentLevel:n};const o={x:((l=s).right+l.left)/2,y:(l.bottom+l.top)/2};var l;if("expanded"===r){const e=B({borderBox:s,client:a});return{type:"reorder-above"===e?e:"make-child",indentPerLevel:i,currentLevel:n}}const d=i*n;if(a.x<s.left+d){if(a.y<o.y)return{type:"reorder-above",indentPerLevel:i,currentLevel:n};const e=(a.x-s.left)/i;return{type:"reparent",desiredLevel:Math.max(Math.floor(e),0),indentPerLevel:i,currentLevel:n}}return{type:B({borderBox:s,client:a}),indentPerLevel:i,currentLevel:n}}((0,p.Z)(t,N)),block:n}),a=j(r);return(0,i.Z)((0,i.Z)({},e),{},{[L]:a})}function U(e){var t;return null!==(t=e[L])&&void 0!==t?t:null}var $=n(39030),z=n(81453);const V=(0,$.iv)({"--terminal-size":"8px",position:"absolute",top:0,right:0,left:"var(--horizontal-indent)",bottom:0,pointerEvents:"none","::before":{display:"block",content:'""',position:"absolute",zIndex:2,boxSizing:"border-box",width:"var(--terminal-size)",height:"var(--terminal-size)",left:0,background:"transparent",borderColor:"var(--indicator-color)",borderWidth:z.j.thickness,borderRadius:"50%",borderStyle:"solid"},"::after":{display:"block",content:'""',position:"absolute",zIndex:1,background:"var(--indicator-color)",left:"calc(var(--terminal-size) / 2)",height:z.j.thickness,right:0}}),G=(0,$.iv)({"::before":{top:0,transform:"translate(calc(-0.5 * var(--terminal-size)), calc(-0.5 * var(--terminal-size)))"},"::after":{top:-.5*z.j.thickness+"px"}}),H=(0,$.iv)({"::before":{bottom:0,transform:"translate(calc(-0.5 * var(--terminal-size)), calc(0.5 * var(--terminal-size)))"},"::after":{bottom:-.5*z.j.thickness+"px"}}),W=(0,$.iv)({position:"absolute",top:0,right:0,left:"var(--horizontal-indent)",bottom:0,pointerEvents:"none",border:`${z.j.thickness}px solid var(--indicator-color)`,borderRadius:"3px"});function q({instruction:e,isBlocked:t}){const n={"--horizontal-indent":e.currentLevel*e.indentPerLevel+"px","--indicator-color":t?"var(--ds-border-warning, #E34935)":z.j.backgroundColor};return"reorder-above"===e.type?(0,$.tZ)("div",{css:[V,G],style:n}):"reorder-below"===e.type?(0,$.tZ)("div",{css:[V,H],style:n}):"make-child"===e.type?(0,$.tZ)("div",{css:[W],style:n}):"reparent"===e.type?(n["--horizontal-indent"]=e.desiredLevel*e.indentPerLevel+"px",(0,$.tZ)("div",{css:[V,H],style:n})):null}function Q({instruction:e}){return"instruction-blocked"===e.type?q({instruction:e.desired,isBlocked:!0}):q({instruction:e,isBlocked:!1})}var X=n(248153);const K=["onDragStart","onDragEnd","dragPreview","index","isLastInGroup","path","itemType","isDragEnabled","renderItem"],Y=(0,k.defineMessages)({draggableItemLabel:{id:"tree.draggable-item.label",defaultMessage:"{title} draggable item"}});function J(e,t){return t.isExpanded&&t.hasChildren?"expanded":e?"last-in-group":"standard"}const ee=e=>"instruction-blocked"===e.type?ee(e.desired):"reparent"===e.type?e.desiredLevel-1:e.currentLevel-1,te={type:"idle"},ne={type:"parent-of-instruction"};function ie(e){let{onDragStart:t,onDragEnd:n,dragPreview:r,index:a,isLastInGroup:o,path:l,itemType:d,isDragEnabled:u,renderItem:c}=e,m=(0,p.Z)(e,K);const{item:h,offsetPerLevel:g,currentLevel:v,onExpand:y,onCollapse:b}=m,{parentId:S}=l[v],[F,_]=(0,s.useState)(te),[T,I]=(0,s.useState)(null),w=!u||"function"==typeof u&&!u(h),x=(0,s.useRef)(null),k=(0,s.useRef)(null),N=(0,C.Z)(),L=(0,s.useCallback)((()=>{_((e=>"parent-of-instruction"===e.type?te:e))}),[]),B=(0,s.useCallback)((e=>(0,f.En)({element:e,onGenerateDragPreview:({source:e,nativeSetDragImage:t})=>{(0,X.x)({element:e.element}),(0,P.L)({getOffset:(0,Z.N)({x:"16px",y:"8px"}),render({container:e}){_({type:"generate-preview",container:e})},nativeSetDragImage:t})},onDragStart:()=>{h.isExpanded&&(null==b||b(h.id)),_({type:"dragging"}),null==t||t()},getInitialData:()=>({id:h.id,isExpandedBeforeDrag:h.isExpanded,type:d}),onDrop:({location:e,source:t})=>{var i;if(_(te),null!=e&&null!==(i=e.current)&&void 0!==i&&i.dropTargets[0]){const{data:t}=e.current.dropTargets[0],i=U(t);if(!t||!t.id||t.type!==d||!i||t.id===h.id&&"reparent"!==i.type)return;const r="instruction-blocked"===i.type?i.desired:i;let s;switch(r.type){case"reorder-above":s={parentId:t.parentId,index:t.index};break;case"reorder-below":s={parentId:t.parentId,index:t.index+1};break;case"make-child":s={parentId:t.id,index:void 0};break;case"reparent":const e=t.path[r.desiredLevel];s={parentId:e.parentId,index:e.index+1}}S===s.parentId&&"number"==typeof s.index&&a<s.index&&s.index--;n({parentId:S,index:a},s)}t.data.isExpandedBeforeDrag&&(null==y||y(h.id))}})),[t,n,h,a,S,y,b,d]),O=(0,s.useCallback)((e=>(0,f.wO)({element:e,canDrop:({source:e})=>e.data.type===d,getData:({input:e,element:t})=>M({id:h.id,type:d,parentId:S,index:a,hasChildren:h.hasChildren,path:l},{input:e,element:t,currentLevel:v,indentPerLevel:g,mode:J(o,h),block:h.blockedInstructions}),onDrag:({self:e,source:t,location:n})=>{var i;const r=U(e.data);if(t.data.id===h.id&&"reparent"!==(null==r?void 0:r.type)||(null==n||null===(i=n.current)||void 0===i||null===(i=i.dropTargets[0])||void 0===i||null===(i=i.data)||void 0===i?void 0:i.id)!==h.id)I(null);else{if(h.hasChildren)if("make-child"!==(null==r?void 0:r.type)||h.isExpanded||k.current){if("make-child"!==(null==r?void 0:r.type)){var a;null===(a=k.current)||void 0===a||a.call(k),k.current=null}}else k.current=function({fn:e,time:t}){let n=window.setTimeout((()=>{n=null,e()}),t);return function(){n&&(window.clearTimeout(n),n=null)}}({time:500,fn:()=>{null==y||y(h.id),k.current=null}});I(r)}},onDragLeave:()=>{var e;null===(e=k.current)||void 0===e||e.call(k),k.current=null,I(null)},onDrop:()=>{var e;null===(e=k.current)||void 0===e||e.call(k),k.current=null,I(null)}})),[l,h,a,v,g,o,S,y,d]),j=(0,s.useCallback)((e=>{const t=e.current.dropTargets[0];if(!t)return!1;const n=U(t.data);if(!n)return!1;const i=t.data.id;if((0,A.Z)("string"==typeof i),i===h.id)return!1;const r=ee(n);return v===r}),[h.id,v]),$=(0,s.useCallback)((e=>{function t({location:e}){j(e)?_(ne):L()}return(0,f.wO)({element:e,onDragStart:t,onDragEnter:t,onDrag:t,onDrop(){L()},onDragLeave(){L()}})}),[j,L]);(0,s.useEffect)((()=>{var e,t;const n=null===(e=x.current)||void 0===e?void 0:e.draggableDivRef.current;(0,A.Z)(n);const i=null===(t=x.current)||void 0===t?void 0:t.containerLiRef.current;(0,A.Z)(i);const r=(0,E.$)(O(n),$(i));return w?r:(0,E.$)(B(n),r)}),[w,B,O,$]),(0,s.useEffect)((()=>()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.call(k)}),[]);const z=T?s.createElement(Q,{instruction:T}):null;return s.createElement(s.Fragment,null,s.createElement(D,(0,i.Z)({ref:x,dragHandleProps:{draggable:!1},ariaLabel:N.formatMessage(Y.draggableItemLabel,{title:h.data.title}),dropIndicator:z,draggableState:F.type,renderItem:c},m)),"generate-preview"===F.type?R.createPortal(s.createElement(s.Fragment,null,(null==r?void 0:r(h))||c({item:h,draggableState:"generate-preview"})),F.container):null)}const re=(0,s.memo)(ie),ae=["as","style"],se=["item","pathToParent","parentId","index","parentLevel","isLastInGroup","TreeItemComponent"],oe=["parent","currentPath"];n(858358),n(520700),n(523254),n(698297),n(297368);const le=(0,s.forwardRef)(((e,t)=>{let{as:n="ul",style:r}=e,a=(0,p.Z)(e,ae);return s.createElement(n,(0,i.Z)((0,i.Z)({},a),{},{style:r,ref:t,className:(0,h.Z)(["_2mzuglyw _18u0idpf _19bvidpf _1bsb1osq _102oidpf _1a7kidpf",a.className])}))}));const de=()=>{};function ue(e){var t,n,r;let{item:a,pathToParent:o,parentId:l,index:d,parentLevel:u,isLastInGroup:c,TreeItemComponent:m}=e,h=(0,p.Z)(e,se);const g=(0,s.useMemo)((()=>[...o,{parentId:l,index:d}]),[o,l,d]);return s.createElement(m,{key:`tree-item-${a.id}`,item:a,renderItem:h.renderItem,offsetPerLevel:h.offsetPerLevel,currentLevel:u,isExpanded:a.isExpanded,onExpand:h.onExpand,onCollapse:h.onCollapse,index:d,isLastInGroup:c,path:g,onDragStart:null!==(t=h.onDragStart)&&void 0!==t?t:de,onDragEnd:null!==(n=h.onDragEnd)&&void 0!==n?n:de,dragPreview:h.dragPreview,isDragEnabled:h.isDragEnabled,itemType:null!==(r=h.itemType)&&void 0!==r?r:"tree-item"},a.children.length?s.createElement(ce,(0,i.Z)({parent:a,currentPath:g,TreeItemComponent:m},h)):null)}ue.displayName="Child";const ce=(0,s.forwardRef)((function(e,t){let{parent:n,currentPath:r}=e,a=(0,p.Z)(e,oe);if(0===n.children.length)return null;const o=r.length;return s.createElement(le,{ref:t,role:0===o?"tree":"group"},n.children.map(((e,t,l)=>{const d=a.tree.items[e];return s.createElement(ue,(0,i.Z)({key:`tree-item-${d.id}`,item:d,pathToParent:r,parentLevel:o,parentId:n.id,index:t,isLastInGroup:t===l.length-1},a))})))}));function me(e){const t=(0,s.useMemo)((()=>e.isDragEnabled?re:D),[e.isDragEnabled]),[n]=(0,s.useState)([]),r=(0,s.useRef)(null);(0,s.useEffect)((()=>{let e=null;return(0,E.$)((0,f.sd)({onDragStart:()=>{if(e)return;const t=F(r.current);t&&(e=(0,g.O)({element:t,canScroll:({source:e})=>"tree-item"===e.data.type}))},canMonitor:({source:e})=>"tree-item"===e.data.type}),(()=>{var t;return null===(t=e)||void 0===t?void 0:t()}))}),[]);const a=e.tree.items[e.tree.rootId];return a?s.createElement(ce,(0,i.Z)({ref:r,parent:a,currentPath:n,TreeItemComponent:t},e)):null}me.displayName="Tree";const pe=(0,n(940155).ZR)({__loadable_id__:"YeblM",name:"TreeMonitorLoader",loader:async()=>(await n.e(40187).then(n.bind(n,371574))).TreeMonitor}),he=(0,a.Z)("div",{target:"ebxerkm0"})("display:flex;flex-direction:column;flex-grow:1;flex-shrink:0;align-items:flex-start;margin-left:",(({marginStyles:e})=>e.marginLeft),";margin-right:",(({marginStyles:e})=>e.marginRight),";margin-bottom:",(({marginStyles:e})=>e.marginBottom),";");const ge=(0,a.Z)("div",{target:"e11xs6zb0"})({name:"ukqx1j",styles:"flex-grow:1;flex-shrink:0;width:100%;display:flex;flex-direction:column;> div{flex-grow:1;width:100%;}"}),Ee=(0,a.Z)("div",{target:"e11xs6zb1"})("opacity:",(({loading:e})=>e?"0.5":"1"),";width:100%;height:100%;pointer-events:",(({loading:e})=>e?"none":"auto"),";cursor:",(({loading:e})=>e?"not-allowed":"auto"),";"),fe=(0,a.Z)(d.Z,{target:"e11xs6zb2"})("overflow:hidden;min-width:0;width:calc(100% - 5px);&:before{height:0px !important;}",(({isNudgeShowing:e})=>e&&"&:after {\n      height: 0px !important;\n    }\n  ")," display:flex;flex-grow:1;flex-direction:column;padding-left:",(({isNudgeShowing:e})=>e?"0px":"5px"),";"),ve=(0,a.Z)("div",{target:"e11xs6zb3"})({name:"1uty0ys",styles:"margin:10px 0 10px 0;width:100%;"}),ye=(0,a.Z)("div",{target:"e11xs6zb4"})({name:"1ik2tog",styles:"width:100%;min-height:200px;display:flex;justify-content:center;align-items:center;flex-grow:1;"}),be=(0,a.Z)("div",{target:"e11xs6zb5"})({name:"spuup5",styles:"width:100%;min-height:24px;display:flex;justify-content:center;align-items:center;flex-grow:1;"}),Se=(0,s.memo)((({loadMorePages:e})=>s.createElement(ve,null,s.createElement(l.Z,{shouldFitContainer:!0,spacing:"compact",onClick:e},s.createElement(o.Z,{id:"page-tree.pages.show.all",defaultMessage:"Show all pages"}))))),Fe=(0,s.memo)((({loadMorePages:e})=>s.createElement(ve,null,s.createElement(l.Z,{shouldFitContainer:!0,spacing:"compact",onClick:e},s.createElement(o.Z,{id:"page-tree.pages.show.previous",defaultMessage:"Show previous pages"}))))),_e=(0,s.memo)((({loadMorePages:e})=>s.createElement(ve,null,s.createElement(l.Z,{shouldFitContainer:!0,spacing:"compact",onClick:e},s.createElement(o.Z,{id:"page-tree.pages.show.following",defaultMessage:"Show following pages"})))));class Te extends s.PureComponent{constructor(...e){super(...e),(0,r.Z)(this,"onInitialLoadCompleteSubmitted",!1),(0,r.Z)(this,"collapsePage",(e=>{const{tree:t,onCollapse:n}=this.props;n(t.items[e])})),(0,r.Z)(this,"expandPage",(e=>{const{tree:t,onExpand:n}=this.props;n(t.items[e])})),(0,r.Z)(this,"dragEnd",(async(e,t)=>{const{onDragEnd:n}=this.props;n(e,t)}))}componentDidMount(){const{tree:e,refactor:t}=this.props;var n,i;t&&Object.keys(e.items).length&&(null===(n=(i=this.props).onInitialLoadComplete)||void 0===n||n.call(i,Object.keys(e.items).length),this.onInitialLoadCompleteSubmitted=!0)}componentDidUpdate(e){if(this.onInitialLoadCompleteSubmitted)return;const{tree:t}=this.props;var n,i;(e.loading&&!this.props.loading||window.__SSR_RENDERED__)&&(null===(n=(i=this.props).onInitialLoadComplete)||void 0===n||n.call(i,Object.keys(t.items).length),this.onInitialLoadCompleteSubmitted=!0)}render(){const{tree:e,loadMorePages:t,isTreeTruncated:n,isDirectionalPaginationEnabled:r=!1,loadPreviousPages:a,loadFollowingPages:o,isTreeTruncatedPrevious:l,isTreeTruncatedFollowing:d,isDraggable:p,dragPreview:h,treeWrapperComponent:g,loading:E,isSideNavRefreshEnabled:f=!1,isNudgeShowing:v=!1}=this.props,y={marginLeft:v&&f?"var(--ds-border-radius, 3px)":"0",marginRight:v&&f?"var(--ds-border-radius, 3px)":"0",marginBottom:v?"var(--ds-border-radius, 3px)":"0"},b=n?s.createElement(Se,{loadMorePages:t}):null,S=l?s.createElement(Fe,{loadMorePages:a}):null,F=d?s.createElement(_e,{loadMorePages:o}):null,_=f?s.Fragment:fe,T=null!=g?g:s.Fragment,I=r?Ee:s.Fragment,w={};r&&(w.loading=E,w["data-testid"]="loadingOverlay");const x=s.createElement(_,{isNudgeShowing:v},!E||r?s.createElement(I,(0,i.Z)({},w),!E&&(r?S:b),r&&E&&l?s.createElement(be,null,s.createElement(u.Z,{size:"medium",testId:"page-tree-loading"})):null,s.createElement(T,null,s.createElement(ge,{"data-testid":"tree-container-flex"},s.createElement(s.Fragment,null,s.createElement(me,{tree:e,isDragEnabled:p,renderItem:this.props.renderItem,onExpand:this.expandPage,onCollapse:this.collapsePage,onDragStart:this.props.onDragStart,onDragEnd:this.dragEnd,dragPreview:h,offsetPerLevel:this.props.isSideNavRefreshEnabled?16:24}),s.createElement(pe,{setIsDraggingItem:this.props.setIsDraggingItem})))),r&&E&&d?s.createElement(be,null,s.createElement(u.Z,{size:"medium",testId:"page-tree-loading"})):null,!E&&(r?F:b)):s.createElement(ye,{id:"page-tree-spinner"},s.createElement(u.Z,{size:"medium",testId:"page-tree-loading"})));return s.createElement(c.u,{metricName:m.qi},s.createElement(he,{marginStyles:y},x))}}Te.displayName="PageTreeComponent"},984915:(e,t,n)=>{"use strict";n.d(t,{r:()=>l});var i=n(615919),r=n(872342),a=n(840506),s=n(789913);const o=["children","isEditingTitle"],l=e=>{let{children:t,isEditingTitle:n}=e,l=(0,r.Z)(e,o);return n?a.createElement(s.Fo,(0,i.Z)((0,i.Z)({},l),{},{isEditingTitle:n}),t):a.createElement(a.Fragment,null,t)};l.displayName="ConditionalInlineRename"},789913:(e,t,n)=>{"use strict";n.d(t,{Fo:()=>a,e0:()=>r});var i=n(940155);const r=(0,i.ui)({__loadable_id__:"fKx2A",name:"PageTreeQuickActions",loader:async()=>(await Promise.all([n.e(11216),n.e(94446),n.e(31110)]).then(n.bind(n,868819))).PageTreeQuickActions}),a=(0,i.ui)({__loadable_id__:"gL9as",name:"InlineRename",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(61769),n.e(45159),n.e(31382),n.e(42434),n.e(1244),n.e(72178),n.e(70289),n.e(88699),n.e(51238),n.e(97251),n.e(94446),n.e(29466)]).then(n.bind(n,799546))).InlineRename,loading:({children:e})=>e})},305227:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});const i=()=>new URLSearchParams(window.location.search.substring(1)).get("draftShareId")||""},81453:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});const i={borderRadius:0,thickness:2,backgroundColor:"var(--ds-border-brand, #0052CC)"}},906337:(e,t,n)=>{"use strict";function i(e){return({container:t})=>(Object.assign(t.style,{borderLeft:`${e.x} solid transparent`,borderTop:`${e.y} solid transparent`}),{x:0,y:0})}n.d(t,{N:()=>i})},248153:(e,t,n)=>{"use strict";function i({element:e}){e.scrollIntoView({block:"nearest",inline:"nearest"})}n.d(t,{x:()=>i})},973673:(e,t,n)=>{"use strict";n.d(t,{Hw:()=>s,hl:()=>o});var i=n(199009);class r{constructor(){(0,i.Z)(this,"enabled",!1)}log(...e){this.enabled&&console.log(r.UFOprefix,...e)}warn(...e){this.enabled&&console.warn(r.UFOprefix,...e)}enable(){this.enabled=!0}disable(){this.enabled=!1}}(0,i.Z)(r,"UFOprefix","[ufo🛸]");const a=new r,s=(...e)=>{a.log(...e)},o=(...e)=>{a.warn(...e)}},391023:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var i=n(199009),r=n(973673),a=n(69105);class s{constructor(e,t){(0,i.Z)(this,"experienceId",void 0),(0,i.Z)(this,"config",void 0),(0,i.Z)(this,"instances",{}),this.experienceId=e,this.config=t}getInstance(e){return this.instances[e]||(this.instances[e]=new a.Q(this.experienceId,this.config,e)),this.instances[e]}release(e){(0,r.Hw)("instanceId",e),this.instances[e]&&this.instances[e].abort(),delete this.instances[e]}}},347211:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});const i={NOT_STARTED:{id:"NOT_STARTED",final:!0},STARTED:{id:"STARTED"},IN_PROGRESS:{id:"IN_PROGRESS"},BLOCKED:{id:"BLOCKED"},RECOVERED:{id:"RECOVERED"},SUCCEEDED:{id:"SUCCEEDED",final:!0,success:!0},SUCCEEDED_WAITING_FOR_DEPS:{id:"SUCCEEDED_WAITING_FOR_DEPS"},FAILED:{id:"FAILED",final:!0},ABORTED:{id:"ABORTED",final:!0}}},742685:(e,t,n)=>{"use strict";n.d(t,{R:()=>r,Z:()=>i});let i=function(e){return e.Load="load",e.Experience="experience",e.Operation="operation",e}({}),r=function(e){return e.PageLoad="page-load",e.PageSegmentLoad="page-segment-load",e.InlineResult="inline-result",e.Custom="custom",e}({})},69105:(e,t,n)=>{"use strict";n.d(t,{Q:()=>b});var i=n(615919),r=n(199009),a=n(278811);let s=function(e){return e[e.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",e[e.SUBSCRIBE=1]="SUBSCRIBE",e[e.UNSUBSCRIBE=2]="UNSUBSCRIBE",e}({}),o=function(e){return e.VISIBLE="visible",e.HIDDEN="hidden",e.MIXED="mixed",e}({});const l="__SUBSCRIBE_ALL__",d="inline-response",u=()=>{if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){const e=(()=>{const e=[];return{__buffer_only__:!0,push:t=>{e.length<250&&e.push(t)},getStream:()=>e}})();globalThis.__UFO_GLOBAL_EVENT_STREAM__=e}return globalThis.__UFO_GLOBAL_EVENT_STREAM__};var c=n(973673);const m=()=>"undefined"!=typeof window;const p=new class{constructor(){(0,r.Z)(this,"started",!1),(0,r.Z)(this,"observers",[]),(0,r.Z)(this,"broadcast",(()=>{this.observers.forEach((e=>e())),this.observers=[]}))}start(){this.started||(this.started=!0,document.addEventListener("visibilitychange",this.broadcast),m()&&window.addEventListener("pagehide",this.broadcast))}subscribe(e){this.observers.push(e)}unsubscribe(e){this.observers=this.observers.filter((t=>t!==e))}};var h=n(347211);const g={[h.h.NOT_STARTED.id]:[h.h.STARTED.id],[h.h.STARTED.id]:[h.h.IN_PROGRESS.id,h.h.BLOCKED.id,h.h.SUCCEEDED.id,h.h.SUCCEEDED_WAITING_FOR_DEPS.id,h.h.FAILED.id,h.h.ABORTED.id],[h.h.IN_PROGRESS.id]:[h.h.BLOCKED.id,h.h.SUCCEEDED.id,h.h.SUCCEEDED_WAITING_FOR_DEPS.id,h.h.FAILED.id,h.h.ABORTED.id],[h.h.BLOCKED.id]:[h.h.RECOVERED.id,h.h.ABORTED.id],[h.h.RECOVERED.id]:[h.h.STARTED.id,h.h.SUCCEEDED.id,h.h.SUCCEEDED_WAITING_FOR_DEPS.id,h.h.FAILED.id,h.h.ABORTED.id],[h.h.SUCCEEDED.id]:[h.h.STARTED.id],[h.h.SUCCEEDED_WAITING_FOR_DEPS.id]:[h.h.SUCCEEDED.id,h.h.FAILED.id,h.h.ABORTED.id],[h.h.FAILED.id]:[h.h.STARTED.id],[h.h.ABORTED.id]:[h.h.STARTED.id]};var E=n(742685);const f=()=>m()&&window.document&&"visible"!==window.document.visibilityState?o.HIDDEN:o.VISIBLE,v=e=>void 0!==e?~~e:~~performance.now();class y{constructor(e,t,n=null){(0,r.Z)(this,"state",h.h.NOT_STARTED),(0,r.Z)(this,"id",void 0),(0,r.Z)(this,"instanceId",null),(0,r.Z)(this,"parent",null),(0,r.Z)(this,"category",null),(0,r.Z)(this,"type",void 0),(0,r.Z)(this,"performanceType",void 0),(0,r.Z)(this,"metadata",{}),(0,r.Z)(this,"onDoneCallbacks",[]),(0,r.Z)(this,"childExperiences",[]),(0,r.Z)(this,"featureFlags",void 0),(0,r.Z)(this,"timings",void 0),(0,r.Z)(this,"explicitTimings",{}),(0,r.Z)(this,"isSSROutputAsFMP",!1),(0,r.Z)(this,"handleDoneBind",void 0),(0,r.Z)(this,"uuid",null),(0,r.Z)(this,"until",void 0),(0,r.Z)(this,"_until",null),(0,r.Z)(this,"pageVisibleState",void 0),(0,r.Z)(this,"metrics",{startTime:null,endTime:null,marks:[]}),(0,r.Z)(this,"performanceConfig",{}),(0,r.Z)(this,"config",void 0),(0,r.Z)(this,"setPageVisibleStateToMixed",(()=>{this.pageVisibleState=o.MIXED,p.unsubscribe(this.setPageVisibleStateToMixed)})),this.id=e,this.category=(null==t?void 0:t.category)||null,this.until=(null==t?void 0:t.until)||null,this.instanceId=n,this.handleDoneBind=this._handleDoneExperience.bind(this),this.type=t.type,this.performanceType=t.performanceType,this.performanceConfig=t.performanceConfig||{},this.config=t,this.pageVisibleState=f(),this.featureFlags=t.featureFlags||[],this.timings=t.timings||[],t.performanceType!==E.R.PageLoad&&t.performanceType!==E.R.PageSegmentLoad||(this.isSSROutputAsFMP=t.isSSROutputAsFMP||!1)}async transition(e,t){if((0,c.Hw)("async transition",this.id,this.state.id,e.id),r=this.state,o=e,g[r.id]&&g[r.id].includes(o.id)){if((0,c.Hw)(`TRANSITION: ${this.id} from ${this.state.id} to ${e.id} successful`,this.state.final,!e.final),e===h.h.STARTED&&this._reset(),this.state.final&&!e.final&&(this.metrics.startTime=v(t),this.uuid=(0,a.v4)()),this.state=e,e.final){this.metrics.endTime=v(t),this._isManualStateEnabled()||u().push((n=l,i=this.handleDoneBind,{type:s.UNSUBSCRIBE,payload:{experienceId:n,callback:i}}));const e=await this.exportData();(0,c.Hw)("this.parent",this.parent),u().push((e=>({type:s.EXPERIENCE_PAYLOAD,payload:e}))(e))}return!0}var n,i,r,o;return(0,c.Hw)(`TRANSITION: ${this.id} from ${this.state.id} to ${e.id} unsuccessful`),(0,c.hl)(`transition of ${this.id} from ${this.state} to ${e} is not possible`),!1}async start(e){var t,n;await this.transition(h.h.STARTED,e)&&(this.pageVisibleState=f(),p.subscribe(this.setPageVisibleStateToMixed),this._isManualStateEnabled()||((0,c.Hw)("subscribed",this.id),u().push((t=l,n=this.handleDoneBind,{type:s.SUBSCRIBE,payload:{experienceId:t,callback:n}}))))}mark(e,t){"fmp"!==e&&e!==d?this._mark(e,t):(0,c.hl)("please use markFMP or markInlineResponse for specialised marks")}_mark(e,t){this.metrics.marks.push({name:e,time:v(t)}),this.transition(h.h.IN_PROGRESS)}markFMP(e){this._mark("fmp",e)}markInlineResponse(e){this._mark(d,e)}_isManualStateEnabled(){return null===this.until}_validateManualState(){return!!this._isManualStateEnabled()||((0,c.hl)('manual change of state not allowed as "until" is defined'),!1)}switchToEndState(e,t){return null!=t&&t.force||this._validateManualState()?(null!=t&&t.metadata&&this.addMetadata(t.metadata),p.unsubscribe(this.setPageVisibleStateToMixed),this.transition(e)):null}async success(e){return this.switchToEndState(h.h.SUCCEEDED,e)}async failure(e){return this.switchToEndState(h.h.FAILED,e)}async abort(e){return this.switchToEndState(h.h.ABORTED,e)}addMetadata(e){Object.assign(this.metadata,e)}_handleDoneExperience(e){if((0,c.Hw)("_handleDoneExperience in",this.id,e.state,e,this._until),e.state.final&&null!==this._until){const{done:t,state:n}=this._until(e);t&&!this.state.final&&this.transition(n)}}async getId(){return this.id}async exportData(){return{id:await this.getId(),uuid:this.uuid,type:this.type,schemaVersion:"0.1.5",performanceType:this.performanceType,category:this.category,state:this.state,metadata:(0,i.Z)({},this.metadata),metrics:(0,i.Z)({},this.metrics),children:[...this.childExperiences],result:{success:!!this.state.success,startTime:this.metrics.startTime,duration:(this.metrics.endTime||0)-(this.metrics.startTime||0)},platform:this.config.platform||null,pageVisibleState:this.pageVisibleState,featureFlags:this.featureFlags,isSSROutputAsFMP:this.isSSROutputAsFMP,timings:this.timings,explicitTimings:this.explicitTimings,performanceConfig:this.performanceConfig}}_reset(){this.parent=null,this.metadata={},this.onDoneCallbacks=[],this.childExperiences=[],this.metrics={startTime:null,endTime:null,marks:[]},this._until=this.until?this.until():null}}class b extends y{}},942342:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var i=n(615919),r=n(872342),a=n(840506),s=n(39030),o=n(483039),l=n(319754),d=n(24359),u=n(16728),c=n(233006);const m=["children","testId","headingLevel","id","cssFn","className"],p=c.$G.h100.lineHeight,h=c.$G.h100.size,g=(0,s.iv)({color:`var(--ds-text-subtle, ${u.hH})`,fontSize:h,fontWeight:"var(--ds-font-weight-bold, 700)",lineHeight:p/h,paddingBlock:"var(--ds-space-0, 0px)",paddingInline:"var(--ds-space-200, 16px)",textTransform:"uppercase"}),E=(0,a.memo)((e=>{let{children:t,testId:n,headingLevel:a=2,id:u,cssFn:c=l.Z,className:p}=e,h=(0,r.Z)(e,m);(0,o.o)("platform-pkg","cssFn",c!==l.Z,"");const E=(0,d.e)("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:(0,s.iv)(c(void 0));return(0,s.tZ)("div",(0,i.Z)({css:[g,E],role:"heading","aria-level":a,"data-testid":n,"data-ds--menu--heading-item":!0,id:u,className:(0,d.e)("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:p},h),t)}))},117e3:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var i=n(615919),r=n(872342),a=n(840506),s=n(39030),o=n(483039),l=n(24359),d=n(16728),u=n(2142),c=n(233006),m=n(942342);const p=["children","overrides","title","testId","isScrollable","hasSeparator","id","isList","className"],h=(0,u.ww)(),g=2.5*h,E=.75*h,f=g+(c.$G.h100.lineHeight-h)-3,v=E+3,y=.75*h,b="--ds-menu-seperator-color",S=(0,s.iv)({"&::before, &::after":{display:"block",height:y,content:'""'},"& [data-ds--menu--heading-item]":{marginBlockEnd:E,marginBlockStart:g,"&:first-of-type":{marginBlockStart:g-y}},"& [data-ds--menu--skeleton-heading-item]":{marginBlockEnd:v,marginBlockStart:f,"&:first-of-type":{marginBlockStart:f-y}},"&:focus":{outlineOffset:-1}}),F=(0,s.iv)({flexShrink:1,overflow:"auto"}),_=(0,s.iv)({flexShrink:0}),T=(0,s.iv)({borderBlockStart:`2px solid var(${b}, var(--ds-border, ${d.kd}))`}),I=(0,s.iv)({borderBlockStart:`1px solid var(${b}, var(--ds-border, ${d.kd}))`}),w=(0,s.iv)({"[data-section] + &":{marginBlockStart:-6}}),x=(0,a.forwardRef)(((e,t)=>{let{children:n,overrides:d,title:u,testId:c,isScrollable:h,hasSeparator:g,id:E,isList:f=!1,className:v}=e,y=(0,r.Z)(e,p);(0,o.o)("platform-pkg","overrides",void 0!==d,"");const b=(0,l.e)("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:d&&d.HeadingItem&&d.HeadingItem.cssFn,x=f?(0,s.tZ)("ul",{style:{margin:0,padding:0}},a.Children.map(a.Children.toArray(n),((e,t)=>(0,s.tZ)("li",{style:{listStyleType:"none",margin:0,padding:0},key:t},e)))):n,D=void 0!==u?(0,s.tZ)(a.Fragment,null,(0,s.tZ)(m.Z,{cssFn:b,testId:c&&`${c}--heading`,"aria-hidden":!0},u),x):(0,s.tZ)(a.Fragment,null,x);return(0,s.tZ)("div",(0,i.Z)((0,i.Z)({},y),{},{className:(0,l.e)("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:v,id:E,css:[S,h?F:_,g?(0,l.e)("platform.design-system-team.section-1px-seperator-borders")?I:T:w],"aria-label":u,"data-testid":c,role:"group","data-section":!0,ref:t}),D)}))},795675:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(615919),r=n(840506),a=n(117e3),s=n(951650),o=n(193969);const l=(0,r.forwardRef)(((e,t)=>{const{shouldRender:n}=(0,o.mO)();return n?r.createElement(a.Z,(0,i.Z)((0,i.Z)({},e),{},{ref:t,overrides:{HeadingItem:{cssFn:s.NE}}})):e.children}))},453966:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var i=n(578859);const r={on(e,t){i.nA.eventEmitter&&i.nA.eventEmitter.on(e,t)},off(e,t){i.nA.eventEmitter&&i.nA.eventEmitter.off(e,t)},emit(e,t){if(i.nA.eventEmitter)return i.nA.eventEmitter.emit(e,t)}}},578859:(e,t,n)=>{"use strict";n.d(t,{pl:()=>s,Wf:()=>a,nA:()=>r});var i=n(131382);const r={streams:new(n(334806).LRUMap)(1e3),stateDeferreds:new Map,eventEmitter:new i.EventEmitter2};function a(e){return!!e.clientId}const s=e=>{if(function(e){return!!e.asapIssuer}(e))return e;return{id:e.clientId,baseUrl:e.baseUrl,token:e.token}}}}]);
//# sourceMappingURL=10714.5lT03wz1rx.js.map