(self._cf=self._cf||[]).push([[79710,27162],{576083:(e,t,n)=>{var o=n(294487);e.exports=function(e,t){return!!(null==e?0:e.length)&&o(e,t,0)>-1}},143637:e=>{e.exports=function(e,t,n){for(var o=-1,r=null==e?0:e.length;++o<r;)if(n(t,e[o]))return!0;return!1}},343047:e=>{e.exports=function(e,t,n,o){for(var r=e.length,i=n+(o?1:-1);o?i--:++i<r;)if(t(e[i],i,e))return i;return-1}},294487:(e,t,n)=>{var o=n(343047),r=n(356749),i=n(965551);e.exports=function(e,t,n){return t==t?i(e,t,n):o(e,r,n)}},356749:e=>{e.exports=function(e){return e!=e}},965551:e=>{e.exports=function(e,t,n){for(var o=n-1,r=e.length;++o<r;)if(e[o]===t)return o;return-1}},870797:(e,t,n)=>{"use strict";n.d(t,{M:()=>g});var o=n(615919),r=n(840506),i=n(147760),a=n(678213),s=n(54685),l=n(9019),d=n(740223),c=n(229230),u=n(243578);const m=()=>{},p=(0,r.memo)((({customData:e={},metric:t,onComplete:n=m,stopTime:s,timing:l,augmentCustomDataAfterComplete:p})=>{const g=(0,r.useCallback)((()=>{if(t){let r;n(),r=p?p(e):e,i.n.getPageLoadMetric().mark(`${c.T}:${t.key}`),t.stop({customData:(0,o.Z)((0,o.Z)({},r),{},{previousRoute:u.x.previousRoute,previousContentId:u.x.previousContentId,pageLoadInfo:(0,a.aX)()}),stopTime:s})}}),[t,n]);return(0,d.G)(g,l),null})),g=(0,s.m)({attribution:l.x.BACKBONE})(p)},18997:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,N:()=>i});var o=n(253439);const r=e=>{var t,n;const o=((null===(t=window.performance)||void 0===t||null===(n=t.getEntriesByType)||void 0===n?void 0:n.call(t,"mark"))||[]).filter((t=>t.name.startsWith(e)));return o.sort(((e,t)=>e.startTime-t.startTime)),o},i=e=>{const t=new o.O;for(const{name:o,startTime:i}of r(e)){const n=o.replace(/\.start|\.end$/,"").replace(e,"");o.endsWith(".start")?t.markMeasureStart(n,Math.floor(i)):t.markMeasureEnd(n,Math.floor(i),!0)}const n={};for(const[o,{duration:r}]of Object.entries(t.getMeasures()))n[o]=r;return n}},284832:(e,t,n)=>{"use strict";n.d(t,{R:()=>d});var o=n(147760),r=n(906552),i=n(857594),a=n(461527),s=n(243578),l=n(18997);const d=(e="",t,n="")=>{var d,c;o.n.startPageLoad({isInitial:0===t}),performance.mark("browser-metric.start");const u=o.n.getPageLoadMetric();s.x.transitionId=t,s.x.pageLoadStartTimestamp=null!==(d=u.getData().start)&&void 0!==d?d:performance.now(),s.x.previousRoute=s.x.routeName,s.x.routeName=e,o.n.setRoute(e),s.x.previousContentId=s.x.contentId,s.x.contentId=n,(0,i.L)(e),u.isInitialLoad()&&null!==(c=window)&&void 0!==c&&c.__SSR_RENDERED__&&u.mark("fy21-legacy-fmp",(0,r.es)("CFP-63.ssr-ttr")),u.onStop((()=>{if(u.isInitialLoad()){var e,t;const n=null===(e=window.performance)||void 0===e||null===(t=e.getEntriesByType)||void 0===t||null===(t=t.call(e,"navigation"))||void 0===t?void 0:t[0];n&&(n.domainLookupStart>=0&&n.domainLookupEnd>=n.domainLookupStart&&(a.z.markMeasureStart(a.e.DNS,n.domainLookupStart),a.z.markMeasureEnd(a.e.DNS,n.domainLookupEnd)),n.connectStart>=0&&n.connectEnd>=n.connectStart&&(a.z.markMeasureStart(a.e.CONNECT,n.connectStart),a.z.markMeasureEnd(a.e.CONNECT,n.connectEnd)),n.requestStart>=0&&n.responseStart>=n.requestStart&&(a.z.markMeasureStart(a.e.RESPONSE,n.requestStart),a.z.markMeasureEnd(a.e.RESPONSE,n.responseStart)),n.startTime>=0&&n.responseStart>=n.startTime&&(a.z.markMeasureStart(a.e.TTFB,n.startTime),a.z.markMeasureEnd(a.e.TTFB,n.responseStart)),n.requestStart>=0&&n.responseEnd>=n.requestStart&&(a.z.markMeasureStart(a.e.FULL_HTML,n.requestStart),a.z.markMeasureEnd(a.e.FULL_HTML,n.responseEnd)))}const n=o.n.getPageLoadMetric();(0,l.H)("wf/").forEach((({name:e,startTime:t})=>{n.mark(e,t)}))}),(()=>{}))}},94316:(e,t,n)=>{"use strict";n.d(t,{V:()=>E});var o=n(840506),r=n(822464),i=n(413864),a=n(758370),s=n(865072),l=n(167347),d=n(969276);var c=n(329467),u=n(940155),m=n(861791);const p=(0,u.ui)({__loadable_id__:"Sg4dx",name:"CommentButtonLazy",loader:async()=>(await Promise.all([n.e(12705),n.e(89508)]).then(n.bind(n,182978))).CommentButton,loading:({isClickedInSSR:e,isDataLoaded:t})=>e?o.createElement(m.C,{spinnerId:"inline-comment-loading-spinner",actionType:"inlineCommentButton",style:"padding: 0 1px;"}):o.createElement(c.c,{isDisabled:t})}),g=()=>{},E=(0,o.memo)((({contentId:e,isCommentButtonSSRd:t,isFabricPage:n})=>{const{data:u,error:m}=((e,t)=>{const{data:n,error:o}=(0,l.aM)(d.q,{fetchPolicy:t?"cache-first":"cache-and-network",variables:{pageId:e}});return{data:n,error:o}})(e,t),E=(0,o.useRef)(!1),f=(0,o.useRef)(null),[v,h]=(0,o.useState)(!1),S=()=>{E.current||(E.current=!0,f.current(a.k.PAGE_COMMENTS))},b=(0,o.useCallback)((e=>{t&&(window.__SSR_EVENTS_CAPTURE__||(window.__SSR_EVENTS_CAPTURE__={}),window.__SSR_EVENTS_CAPTURE__.inlineCommentButton=e),h(!0)}),[t]);return(0,o.useEffect)((()=>{var e;t&&null!==(e=window.__SSR_EVENTS_CAPTURE__)&&void 0!==e&&e.inlineCommentButton&&h(!0)}),[t]),o.createElement(r.xs,{to:[s.F]},(r=>{r.addItem(a.k.PAGE_COMMENTS),f.current=r.markItem;const s=Boolean(u&&!m);var l;return v||m?o.createElement(i.k,{pageId:e},o.createElement(p,{contentId:e,onRender:S,isClickedInSSR:t&&Boolean(null===(l=window.__SSR_EVENTS_CAPTURE__)||void 0===l?void 0:l.inlineCommentButton),isDataLoaded:s,isFabricPage:n})):o.createElement(o.Fragment,null,!1,o.createElement(i.k,{pageId:e},o.createElement(c.c,{isDisabled:!s&&!t,handleCommentButtonClick:s||t?b:g,onRender:S})))}))}))},467963:(e,t,n)=>{"use strict";n.d(t,{kT:()=>r,mB:()=>s,pm:()=>a,uZ:()=>i});var o=n(940155);const r=(0,o.ZR)({__loadable_id__:"bORT-",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(14248),n.e(21488),n.e(84185),n.e(45159),n.e(84068),n.e(36097)]).then(n.bind(n,444822))).SpaceAdminConfig,name:"SpaceAdminConfig"}),i=(0,o.ZR)({__loadable_id__:"4P4EX",name:"EditorContentState",loader:async()=>(await Promise.all([n.e(12705),n.e(66185)]).then(n.bind(n,481497))).EditorContentState}),a=((0,o.ZR)({__loadable_id__:"jP7Ys",name:"EditorContentStateComponent",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(45159),n.e(84068),n.e(53224)]).then(n.bind(n,579682))).EditorContentStateComponent}),(0,o.ZR)({__loadable_id__:"3m8g2",name:"PageHistoryContentState",loader:async()=>(await Promise.all([n.e(12705),n.e(96051)]).then(n.bind(n,859295))).PageHistoryContentState})),s=(0,o.ZR)({__loadable_id__:"lswFY",name:"RendererContentState",loader:async()=>(await Promise.all([n.e(12705),n.e(9539)]).then(n.bind(n,528516))).RendererContentState})},267371:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});const o=(0,n(940155).tM)({__loadable_id__:"tBBlp",name:"ContentToolsWrapper",loader:async()=>(await Promise.all([n.e(12705),n.e(54936),n.e(11216),n.e(61769),n.e(35824),n.e(33963),n.e(39159),n.e(57941),n.e(30327),n.e(95470),n.e(52766),n.e(25677),n.e(48512),n.e(51368),n.e(78752),n.e(6482)]).then(n.bind(n,49309))).ContentToolsWrapper})},610664:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var o=n(840506),r=n(549631),i=n(300535),a=n(429555);const s=({contentId:e,spaceKey:t,children:n,editSource:s,isEmbeddedEditor:l})=>{const d=(0,o.useContext)(a.x),[c,u]=(0,o.useState)(!1),[{editSource:m},{setEditSource:p}]=(0,i.L)();(0,o.useEffect)((()=>()=>{c&&r.T.removePreloadedId(e)}),[c,e]);const g=(0,o.useCallback)((async()=>{r.T.shouldPreload(e)&&(u(!0),p(s))}),[e,s]);return o.createElement(o.Fragment,null,o.createElement("div",{onMouseEnter:g},n),s===m&&c&&d?d({contentId:e,spaceKey:t,isEmbeddedEditor:l}):null)};s.displayName="EditContentButtonPreloader"},429555:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});const o=()=>{},r=n(840506).createContext(o);r.displayName="EditContentButtonPreloaderContext"},178845:(e,t,n)=>{"use strict";n.d(t,{A:()=>Le});var o=n(615919),r=n(199009),i=n(840506),a=n(822464),s=n(758370),l=n(865072),d=n(872342),c=n(329687),u=n.n(c),m=n(167347),p=n(328167),g=n(618305),E=n(230475),f=n(140263),v=n(400318),h=n(301540),S=n(904148),b=n(627521),_=n(54685),C=n(9019),T=n(570277),I=n(179640),y=n(825301),w=n(744209);const R="ALL_PARENT_PRODUCTS",k="NO_PARENT_PRODUCTS";function N(e){const{parentProduct:t}=(0,y.Y)()||{};return!(!t||!e)&&(e===R||e!==k&&e.split(",").some((e=>e.toUpperCase()===t.toUpperCase())))}var P=n(767001),x=n(920839),O=n(150030),B=n(93972),M=n(142807),Z=n(122529),A=n(207218),L=n(332072),D=n(16728),U=n(534564),G=n(155049),H=n(734233),$=n(756106),z=n(904698),F=n(284186),W=n(219263),j=n(15325),K=n(197949),V=n(381484),q=n(688595),Q=n(942584),J=n(446251),Y=n(252926),X=n(300535),ee=n(487696),te=n(600610),ne=n(637418),oe=n(107663);const re=e=>{const t=document.documentElement,n=document.getElementById(te.OA);n&&(t.scrollTop/t.clientHeight<.25||((e,t,n)=>{var o;if(!t)return;const r=(null===(o=t.querySelector(te.sN))||void 0===o?void 0:o.children)||[];let i=-1;if(r.length>0){const n=Array.from(r),o=e.scrollTop-t.offsetTop;n.reduce(((e,t,n)=>Math.abs(o-t.offsetTop)<Math.abs(o-e.offsetTop)?(i=n,t):e)),n.slice(0,i).map((e=>(e.classList.contains("pm-table-container")&&i--,e)))}ne.LT.setItem(oe.keys.LOCAL_STORAGE_CONTENT_VIEW_CLOSEST_ELEMENT_SCROLL_POSITION,{index:i,contentId:n})})(t,n,e))};var ie=n(482995),ae=n(95677),se=n(610664),le=n(114543),de=n(747472),ce=n(486889),ue=n(928782),me=n(86219),pe=n(975744),ge=n(527422),Ee=n(22710);const fe=(0,B.defineMessages)({editIconNudgeContent:{id:"edit-button.onboarding.edit.nudge.content",defaultMessage:"To make changes to a page, select {br} <strong>Edit</strong> ({icon}) or press <strong>e</strong>."},editIconConfirmationText:{id:"edit-button.onboarding.edit.nudge.action",defaultMessage:"Got it"}}),ve=({children:e})=>{const{formatMessage:t}=(0,de.Z)(),{createAnalyticsEvent:n}=(0,ce._)(),[r,a]=(0,i.useState)(!0),{isUserEligibleForCreatorNudge:s,isViewPage:l,cohort:d,logExperimentExposure:c,onboardingState:u}=(0,pe.r)(),{setOnboardingState:m}=(0,ue.Gs)(),{isEditPageNudgeSeen:p,hasUserPublished:g}=u,{setHasEditNudgeShownThisSession:E}=(0,ge.C)();(0,i.useEffect)((()=>{s&&l&&!p&&!g&&"not-enrolled"!==d&&(c(),"variant"===d&&(a(!1),E(!0)))}),[s,l,d,c,p,E,g]);return r?i.createElement(i.Fragment,null,e):i.createElement(Ee.W,{width:275,content:i.createElement(M.Z,(0,o.Z)((0,o.Z)({},fe.editIconNudgeContent),{},{values:{strong:(...e)=>i.createElement("strong",null,e),br:i.createElement("br",null),icon:i.createElement(A.default,{label:"",size:"small"})}})),position:"bottom-start",hideSpotlightCardOnOutsideClick:!1,concealSpotlightOnReferenceHidden:!0,hidden:r,onShow:()=>{n({type:"sendScreenEvent",data:{name:"creatorOnboardingEditNudge"}}).fire(),u&&!p&&m({key:me.G.EDIT_PAGE_NUDGE_ONBOARDING_SEEN,value:"true"})},actions:[{text:t(fe.editIconConfirmationText),onClick:()=>{a(!0),n({type:"sendUIEvent",data:{action:"dismissed",actionSubject:"button",actionSubjectId:"creatorOnboardingEditNudge",source:"EditContentButton"}}).fire()}}],setHidden:()=>null},i.createElement("div",null,e))},he=["as","style"],Se=["as","style"];n(394608),n(809923),n(679928);const be=(0,i.forwardRef)(((e,t)=>{let{as:n=p.Z,style:r}=e,a=(0,d.Z)(e,he);return i.createElement(n,(0,o.Z)((0,o.Z)({},a),{},{style:r,ref:t,className:(0,P.Z)(["_701w1ul9",a.className])}))}));const _e=(0,B.defineMessages)({editLabel:{id:"edit-button.edit.label",defaultMessage:"Edit this page"},editEmbedLabel:{id:"edit-button.edit.embed.label",defaultMessage:"Edit this embed"}}),Ce=(0,i.forwardRef)(((e,t)=>{let{as:n="div",style:r}=e,a=(0,d.Z)(e,Se);return i.createElement(n,(0,o.Z)((0,o.Z)({},a),{},{style:(0,o.Z)((0,o.Z)({},r),{},{"--_1x3gjln":(0,x.Z)(`var(--ds-surface-overlay-hovered, ${D.gt})`)}),ref:t,className:(0,P.Z)(["_l1v8tlke _7fq1aabj",a.className])}))}));const Te=()=>{},Ie=(0,i.memo)((({contentId:e,contentType:t,intl:n,isEmbeddedContent:o=!1,isFabricSupported:r,onRender:a=Te,spaceKey:s,migrateEPData:l})=>{var d;const c=(0,i.useRef)(null),[u,m]=(0,i.useState)(""),{loadEditor:p}=(0,Y.hA)(),[,{setEditSource:g}]=(0,X.L)(),E=(0,i.useContext)(H.M),{searchSessionId:f}=(0,i.useContext)(ee.z1),{match:h,transitionId:S}=E,{routePolicy:b}=(0,$.f)(),{enforceStorageLimit:_,shouldBlockCreate:C}=(0,ae.u)({source:"page-tree-quick-action-edit"}),T=null==h?void 0:h.name,I="blogpost"===t,y=(0,i.useMemo)((()=>({contentId:e,spaceKey:s,contentType:I?"blog":"pages"})),[e,s,I]),w=r?"fabric-edit-button":void 0;let R;R=o&&!I?F.N4:r?I?F.tz:F.uV:I?F.ri:F.zh,(0,i.useEffect)((()=>{let e=ie.Bp;I&&(e=ie.Dc);T===F.y4.name&&(e=ie.Yc),g(e),m(e)}),[I,g,T,m]);const k=(0,i.useCallback)((()=>{var e;return c&&(null===(e=O.findDOMNode(c.current))||void 0===e?void 0:e.click())}),[]),N=(0,i.useCallback)((e=>{if(!e){let e=ie.Zy;I&&(e=ie.AD);T===F.y4.name&&(e=ie.QI),g(e),m(e)}(0,le.T)(R.name,S),Q.J.markMeasureStart(q.oK),Q.J.markMeasureStart(q.UA),Q.J.markMeasureEnd(q.QI),Q.J.markMeasureStart(q.Xe)}),[I,T,R.name,S,g,m]),P=(0,i.useCallback)((n=>{N(n.isTrusted),re(e);const o=(0,z.H)(n,E),r=b&&!b.willPushInSelf(T,e,R.name,e);if(!I&&Boolean(l)&&r){n.preventDefault();l((()=>{E.push(F.N4.toUrl(y))}),(()=>{E.push(R.toUrl(y))}))}o&&!r&&(n.preventDefault(),n.stopPropagation(),p({contentId:e,spaceKey:s,redirectUrl:o,contentType:t}))}),[p,e,s,R,b,E,T,N,I,l,y,t]),x=(0,U.I)(),B=(0,J.d)(),Z=null==h||null===(d=h.query)||void 0===d?void 0:d.mode,D=(0,i.useCallback)(((n,o)=>{o.update({data:{action:"clicked",actionSubject:"editButton",attributes:{componentVersion:"v2",contentType:t,contentId:e,isFabricSupported:r,navdexPointType:V.uR,searchSessionId:f,mode:Z,isEditInContextEnabled:x,isOnEditRoute:B},source:n.isTrusted?"editContentButton":"editShortcut"},type:"sendTrackEvent"}).fire()}),[t,e,r,f,Z,x,B]),te=(0,i.useCallback)(((e,t)=>{D(e,t),P(e)}),[D,P]),ne=i.createElement(be,{appearance:"subtle",iconBefore:i.createElement(A.default,{label:""}),ref:c,onClick:_(te),href:C?void 0:R.toUrl(y),"data-test-id":w,id:"editPageLink","aria-label":n.formatMessage(_e.editLabel)});return i.createElement(i.Fragment,null,i.createElement(se.U,{key:e,contentId:e,spaceKey:s,isEmbeddedEditor:o,editSource:u},i.createElement(W.E,{accelerator:j.EDIT_SHORTCUT,listener:k}),a(),i.createElement(ve,null,i.createElement(L.Z,{tag:"span",content:i.createElement(K.oW,{shortcut:j.EDIT_SHORTCUT,contentBefore:i.createElement(M.Z,{id:"edit-button.tooltip",defaultMessage:"Edit"})})},i.createElement(Ce,null,ne))),i.createElement(G.F,{name:v.QV5})))})),ye=(0,Z.ZP)(Ie);ye.propTypes={contentId:u().string.isRequired,onRender:u().func,isEmbeddedContent:u().bool,isFabricSupported:u().bool};var we=n(779076),Re=n(397293);const ke=we.ZP`query EditButtonQuery($contentId:ID!){content(id:$contentId){nodes{...ContentOperationsFragment metadata{frontend{fabricEditorSupported embedded collabService}}subType type space{id key}}}}${Re.z}`,Ne=we.ZP`query EmbeddedWithMigrationQuery($contentId:ID!){content(id:$contentId){nodes{id type metadata{frontend{embeddedWithMigration}}}}}`,Pe=()=>{};let xe=Pe,Oe=Pe;var Be;const Me=["contentId"],Ze=e=>{let{contentId:t}=e,n=(0,d.Z)(e,Me);const{isEPMigrationOnLoad:r,isEPMigrationOnEdit:a}=function(){const e=(0,w.h)("confluence.frontend.embedded-confluence.enable.migration"),t=(0,w.h)("confluence.frontend.embedded-confluence.enable.migration.on.edit"),n=N(e),o=N(t);return n&&o?{isEPMigrationOnLoad:!1,isEPMigrationOnEdit:!0}:{isEPMigrationOnLoad:n,isEPMigrationOnEdit:o}}(),{epMigrationOnLoad:s,epMigrationOnClick:l}=((e,t)=>{const{createAnalyticsEvent:n}=(0,ce._)(),o=({action:t,actionSubjectId:o,withMigration:r,error:i})=>n({type:"sendOperationalEvent",data:{action:t,actionSubject:"ncsMigrationQuery",actionSubjectId:o,source:"embeddedPageViewScreen",object:{id:e,type:"page"},attributes:{withMigration:r,error:i}}}).fire(),r=(0,m.aM)(Ne,{variables:{contentId:e},fetchPolicy:"network-only",skip:t,onCompleted:e=>{var t,n;null!==(t=null==e||null===(n=e.content)||void 0===n||null===(n=n.nodes)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.metadata)||void 0===n||null===(n=n.frontend)||void 0===n?void 0:n.embeddedWithMigration)&&void 0!==t&&t?o({action:"completed",actionSubjectId:"ncsMigrationOnLoad",withMigration:!0}):o({action:"completed",actionSubjectId:"ncsMigrationOnLoad",withMigration:!1})},onError:e=>{o({action:"failed",actionSubjectId:"ncsMigrationOnLoad",error:e.message})}}),[i,{data:a,loading:s,error:l}]=(0,m.td)(Ne,{variables:{contentId:e},fetchPolicy:"network-only",onCompleted:e=>{var t,n;null!==(t=null==e||null===(n=e.content)||void 0===n||null===(n=n.nodes)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.metadata)||void 0===n||null===(n=n.frontend)||void 0===n?void 0:n.embeddedWithMigration)&&void 0!==t&&t?(o({action:"completed",actionSubjectId:"ncsMigrationOnEditClick",withMigration:!0}),xe(a)):(o({action:"completed",actionSubjectId:"ncsMigrationOnEditClick",withMigration:!1}),Oe())},onError:e=>{o({action:"failed",actionSubjectId:"ncsMigrationOnEditClick",error:null==e?void 0:e.message}),Oe(e)}});return{epMigrationOnLoad:r,epMigrationOnClick:{migrateEPData:(e=Pe,t=Pe)=>{xe=e,Oe=t,i()},data:a,loading:s,error:l}}})(t,!r),c=(0,I.T)("confluence.frontend.link-in-tree"),{data:u,loading:_,error:C}=(0,m.aM)(ke,{variables:{contentId:t},fetchPolicy:"cache-and-network"}),{data:y,loading:R,error:k}=s,{migrateEPData:P,data:x,loading:O,error:B}=l;let M;if(C)M=i.createElement(b.X,{error:C});else if(!u&&_||!y&&R)M=i.createElement(p.Z,{appearance:"subtle"});else{if(x||!O){var Z,A,L,D,U,G,H;const e=null==u||null===(Z=u.content)||void 0===Z||null===(Z=Z.nodes)||void 0===Z?void 0:Z[0],s=null!==(A=null==e?void 0:e.operations)&&void 0!==A?A:[],l=null!==(L=null==e?void 0:e.type)&&void 0!==L?L:void 0,d=null==e?void 0:e.subType;if(c&&"page"===l&&"embed"===d)return null;if(!(s.filter((e=>"update"===(null==e?void 0:e.operation)&&(null==e?void 0:e.targetType)===l)).length>0))return null;const m=null!==(D=null==u||null===(U=u.content)||void 0===U||null===(U=U.nodes)||void 0===U||null===(U=U[0])||void 0===U||null===(U=U.space)||void 0===U?void 0:U.key)&&void 0!==D?D:void 0,p=null==u||null===(G=u.content)||void 0===G||null===(G=G.nodes)||void 0===G||null===(G=G[0])||void 0===G||null===(G=G.metadata)||void 0===G?void 0:G.frontend,g=null!==(H=null==p?void 0:p.fabricEditorSupported)&&void 0!==H&&H,f=(null==p?void 0:p.collabService)===T._.NCS;let v;var $,z,F;if(r)v=null!==($=null==y||null===(z=y.content)||void 0===z||null===(z=z.nodes)||void 0===z||null===(z=z[0])||void 0===z||null===(z=z.metadata)||void 0===z||null===(z=z.frontend)||void 0===z?void 0:z.embeddedWithMigration)&&void 0!==$&&$;else v=null!==(F=(0,E.O)()&&f)&&void 0!==F&&F;const _=k||B;return i.createElement(i.Fragment,null,_&&i.createElement(b.X,{error:_}),i.createElement(h.u,{metricName:S.fZ},i.createElement(ye,(0,o.Z)({contentId:t,contentType:l,spaceKey:m,isFabricSupported:g,isEmbeddedContent:v,migrateEPData:a&&!f?P:void 0},n))))}M=i.createElement(g.Z,{size:"small"})}return i.createElement(i.Fragment,null,i.createElement(f.U,{id:t,name:v.QV5}),i.createElement(h.u,{metricName:S.fZ},M))};Ze.displayName="EditContentButtonInner";const Ae=(0,i.memo)((0,_.P)({attribution:C.x.BACKBONE})(Ze));Ae.propTypes={contentId:u().string.isRequired,onRender:null===(Be=ye.propTypes)||void 0===Be?void 0:Be.onRender};class Le extends i.PureComponent{constructor(...e){super(...e),(0,r.Z)(this,"isItemMarked",!1),(0,r.Z)(this,"markItem",null),(0,r.Z)(this,"buttonRendered",(()=>{this.isItemMarked||(this.isItemMarked=!0,this.markItem(s.k.EDIT_PAGE))}))}render(){return i.createElement(a.xs,{to:[l.F]},(({addItem:e,markItem:t})=>(e(s.k.EDIT_PAGE),this.markItem=t,i.createElement(Ae,(0,o.Z)((0,o.Z)({},this.props),{},{onRender:this.buttonRendered})))))}}Le.displayName="EditContentButtonWrapper"},114543:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var o=n(284832),r=n(942584);const i=(e,t)=>{r.J.clearMeasures(),e&&(0,o.R)(e,t+1)}},600610:(e,t,n)=>{"use strict";n.d(t,{OA:()=>a,Tu:()=>r,sN:()=>i,vo:()=>o});const o="fabric-editor-popup-scroll-parent",r=".ProseMirror > *",i=".ak-renderer-document",a="content"},397293:(e,t,n)=>{"use strict";n.d(t,{p:()=>i,z:()=>r});var o=n(779076);const r=o.ZP`fragment ContentOperationsFragment on Content{id type operations{operation targetType}}`,i=o.ZP`fragment SpaceOperationsFragment on Space{id operations{operation targetType}}`},482995:(e,t,n)=>{"use strict";n.d(t,{AD:()=>s,Ae:()=>c,Bp:()=>o,Dc:()=>r,Jc:()=>v,QI:()=>l,SR:()=>m,Yc:()=>i,Zy:()=>a,bl:()=>E,cZ:()=>f,s5:()=>d,sP:()=>g,ub:()=>p,y_:()=>u});const o="PAGE_EDIT_BUTTON_CLICK",r="BLOG_EDIT_BUTTON_CLICK",i="SPACE_EDIT_BUTTON_CLICK",a="PAGE_EDIT_SHORTCUT_E",s="BLOG_EDIT_SHORTCUT_E",l="SPACE_EDIT_SHORTCUT_E",d="NAVIGATION_RECENT_DROPDOWN_EDIT_BUTTON_CLICK",c="PAGECARD_EDIT_BUTTON_CLICK",u="QUICK_ACTIONS_EDIT_BUTTON_CLICK",m="CREATE_PAGE_SHORTCUT",p="CREATE_NAV_BUTTON_CLICK",g="CREATE_PAGETREE_BLOG_BUTTON_CLICK",E="CREATE_PAGETREE_CHILDPAGE_BUTTON_CLICK",f="CREATE_PAGETREE_PAGE_BUTTON_CLICK",v=[u,c,"PAGECARD_DRAFT_EDIT_BUTTON_CLICK",d]},300535:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var o=n(615919),r=n(834232),i=n(944547);const a=(0,r.M)({initialState:(0,o.Z)({},{editSource:""}),actions:{setEditSource:e=>({setState:t})=>{t({editSource:e})}},name:"setEditSource"}),s=(0,i.Bi)(a)},570277:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});let o=function(e){return e.NCS="ncs",e.SYNCHRONY="synchrony",e}({})},86219:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});const o={CREATOR_NUDGE_ONBOARDING_ELIGIBLE_USER:"creator-nudge-onboarding:isCreatorNudgeEligibleUser",PAGE_TREE_NUDGE_ONBOARDING_SEEN:"creator-nudge-onboarding:isPageTreeNudgeSeen",EDIT_PAGE_NUDGE_ONBOARDING_SEEN:"creator-nudge-onboarding:isEditPageNudgeSeen"}},924431:(e,t,n)=>{"use strict";n.d(t,{Ux:()=>i,VP:()=>r,iq:()=>o,q4:()=>s,z7:()=>a});const o={EDITOR_ONBOARDING_ELIGIBLE_NEW:"editor-state:editorOnboardingEligiblity",EDITOR_VISITED:"editor-state:editorVisited",WAS_DRAFT_BANNER_SEEN:"editor-state:wasDraftBannerSeen",IS_DRAFT_BANNER_VISIBLE:"editor-state:isDraftBannerVisible",WAS_TEMPLATE_BANNER_SEEN:"editor-state:wasTemplateBannerSeen",IS_TEMPLATE_BANNER_VISIBLE:"editor-state:isTemplateBannerVisible",HAS_USER_PUBLISHED:"editor-state:hasUserPublished",SUCCESS_FLAG_SEEN:"editor-state:successFlagCompleted",RECENT_SPOTLIGHT_OPEN:"editor-state:recentSpotlightOpen",RECENT_SPOTLIGHT_SEEN:"editor-state:recentSpotlightCompleted",EDITOR_TUTORIAL_SUCCESS_FLAG_SEEN:"editor-state:editorTutorialSuccessFlagCompleted",IMPORT_RELEVANCE_ELIGIBLE_USER:"editor-state:importRelevanceEligibleNewUser",IMPORT_RELEVANCE_ACCORDION_STATE:"editor-state:importRelevanceAccordionState",WAS_EDITOR_CONVERSION_DIALOG_SEEN:"editor-state:wasEditorConversionModalSeen"},r="com.atlassian.confluence.plugins.confluence-onboarding:using-the-editor-template-blueprint",i="com.atlassian.confluence.plugins.confluence-onboarding:creator-onboarding-template-blueprint",a="editor-onboarding",s="creator-onboarding"},527422:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,u:()=>a});var o=n(834232),r=n(944547);const i=(0,o.M)({initialState:{hasEditNudgeShownThisSession:!1},actions:{setHasEditNudgeShownThisSession:e=>({setState:t})=>{t({hasEditNudgeShownThisSession:e})}},name:"useCreateNudgeState"}),a=(0,r.hs)(i,{selector:e=>({hasEditNudgeShownThisSession:e.hasEditNudgeShownThisSession})}),s=(0,r.aV)(i)},975744:(e,t,n)=>{"use strict";n.d(t,{r:()=>h});var o=n(840506),r=n(167347),i=n(486889),a=n(654927),s=n.n(a),l=n(582463),d=n(179640),c=n(423128),u=n(734233),m=n(284186),p=n(110192),g=n(86219),E=n(924431),f=n(908990),v=n(928782);const h=()=>{var e,t,n;const[a,h]=(0,o.useState)(!1),{isNewUser:S}=(0,o.useContext)(c.wu),b=(0,o.useContext)(u.M),{match:_}=b,C=(null==_?void 0:_.name)===m.SM.name,{isLicensed:T,isLoggedIn:I,userId:y,locale:w}=(0,l.D)(),{createAnalyticsEvent:R}=(0,i._)(),{setOnboardingState:k}=(0,v.Gs)(),N=(0,d.T)("confluence.frontend.onboarding.experience"),P=s().getExperimentValue("cc_creator_onboarding_create_nudge_series","cohort","not-enrolled",{fireExperimentExposure:!1}),x=I&&T&&S,O=!N||!(0,f.RV)(w)||!x||"not-enrolled"===P,{data:B,loading:M,error:Z}=(0,r.aM)(p.f,{variables:{userId:y},skip:O}),{data:A,loading:L,error:D}=(0,v.Si)([...Object.values(g.G),E.iq.HAS_USER_PUBLISHED],!(N&&I&&T&&(0,f.RV)(w)&&"not-enrolled"!==P)),U="true"===(null===(n=(null!==(e=null==B||null===(t=B.experimentalUserPersonalization)||void 0===t?void 0:t.attributes)&&void 0!==e?e:[]).find((e=>"confluence_is_established_user"===(null==e?void 0:e.name))))||void 0===n?void 0:n.value),{isCreatorNudgeEligibleUser:G}=(0,v.Hi)(A);return(0,o.useEffect)((()=>{Z||M||L||D||O||U||(k({key:g.G.CREATOR_NUDGE_ONBOARDING_ELIGIBLE_USER,value:"true"}),h(!0))}),[M,x,U,Z,L,D,k,O]),{isUserEligibleForCreatorNudge:a||G,isViewPage:C,onboardingState:(0,v.Hi)(A),cohort:P,logExperimentExposure:()=>{s().manuallyLogExperimentExposure("cc_creator_onboarding_create_nudge_series"),R({type:"sendTrackEvent",data:{actionSubject:"feature",action:"exposed",actionSubjectId:"cc_creator_onboarding_create_nudge_series",source:"viewPageScreen",attributes:{flagKey:"cc_creator_onboarding_create_nudge_series",value:P}}}).fire()}}}},756106:(e,t,n)=>{"use strict";n.d(t,{f:()=>b});var o=n(615919),r=n(840506),i=n(825301),a=n(230475),s=n(240118),l=n(318122),d=n(126772),c=n.n(d);function u(e){const t=null==e?void 0:e.shimUrl,n=null==e?void 0:e.domainNamesToReplace,o=(0,r.useCallback)((e=>m(e,t,n)),[t,n]),i=(0,r.useCallback)((e=>{if(!t||!e||!Object.keys(e).length)return e;const o=c()(e);return h(o,t,n),o}),[t,n]),a=(0,r.useCallback)((e=>{if(!t||!e)return e;try{return function(e,t,n){const o=e.getElementsByTagName("a");Array.from(o).forEach((e=>{e.href=m(e.href,t,n)}));const r=e.getElementsByTagName("img");return Array.from(r).forEach((e=>{e.src=m(e.src,t,n)})),e}((new DOMParser).parseFromString(e,"text/html"),t,n).body.innerHTML}catch(o){return e}}),[t,n]);return(0,r.useMemo)((()=>({shimUrl:o,shimAdfUrls:i,shimHtmlUrls:a})),[o,i,a])}function m(e,t,n){if(!t||!e||(0,s.Tq)(e))return e;try{const o=document.baseURI||window.location.toString(),r=E(e,o),i=p(o);return function(e,t,n,o,r){if(e.includes(s.bW)){const i=new URL(e),a=new URL(o);if(null!=r&&r.includes(i.hostname)){return e.replace(i.origin,a.origin).replace(t,n)}}return e.replace(t,n)}(r,i,g(t,o),o,n)}catch(o){return e}}const p=(0,l.default)((e=>f(E(s.bW,e)))),g=(0,l.default)(((e,t)=>f(E(e,t))));function E(e,t){return new URL(e,t).toString()}function f(e){return e.endsWith("/")?e:`${e}/`}const v=["url","href"];function h(e,t,n){Object.entries(e).forEach((([o,r])=>{r&&(v.includes(o)&&"string"==typeof r?e[o]=m(r,t,n):"object"==typeof r&&h(r,t,n))}))}function S(e){switch(e){case"VIEW_PAGE":case"EDIT_PAGE_EMBED":return e;default:return}}function b(){const{navigationPolicy:e}=(0,i.Y)()||{},t=function(e){const t=(0,a.O)(),{shimUrl:n}=u(e),o=(0,r.useCallback)((()=>({push({match:t,matchSupportedRoute:o,open:r,push:i},a,l){if((0,s.Tq)(a))return void r(a,"_self");const d=null==t?void 0:t.name,c=null==t?void 0:t.params.contentId,u=o(a),m=null==u?void 0:u.name,p=null==u?void 0:u.params.contentId,g=null==u?void 0:u.params.spaceKey,E={routeName:S(m),contentId:p,spaceKey:g,target:this.willPushInSelf(d,c,m,p)?"_self":"_blank"},f=(e,{target:t})=>{if((0,s.Tq)(e))return void r(e,"_self");const n=o(e);this.willPushInSelf(d,c,null==n?void 0:n.name,null==n?void 0:n.params.contentId)&&Boolean(null==n?void 0:n.hash)?r(null==n?void 0:n.hash,"_self"):"_self"===t?i(e,l):r(e,t)};return null!=e&&e.navigate?null==e?void 0:e.navigate(a,E,f):f("_self"===E.target?a:n(a),E)},willPushInSelf:(e,t,n,o)=>!!S(n)&&e===n&&t===o})),[n,e]);return(0,r.useMemo)((()=>t?o():void 0),[t,o])}(e),n=u(e);return(0,r.useMemo)((()=>(0,o.Z)({routePolicy:t},n)),[t,n])}},451843:(e,t,n)=>{"use strict";n.d(t,{BP:()=>r,NG:()=>l,ZC:()=>o,jf:()=>s,n$:()=>i,uF:()=>a});const o="confluence.frontend.storage-enforcement",r="confluence.ssr.storage-enforcement_0msw5",i="confluence.frontend.storage-enforcement.release.two_6ajmv",a="confluence.frontend.storage-enforcement.release.two.exposure_se96j",s="onboarding",l="https://support.atlassian.com/confluence-cloud/docs/manage-your-storage-usage/"},948479:(e,t,n)=>{"use strict";n.d(t,{x:()=>a});var o=n(834232),r=n(944547);const i=(0,o.M)({name:"BLOCK_CREATE_MODAL_STORE",initialState:{isActive:!1,source:""},actions:{showBlockCreateModal:e=>({setState:t})=>{t({isActive:!0,source:e})},onBlockCreateModalClose:()=>({setState:e})=>{e({isActive:!1,source:""})}}}),a=(0,r.Bi)(i)},415138:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var o=n(167347);const r=n(779076).ZP`query GetCurrentStorageUsageQuery{storage{bytesUsed isStorageEnforcementGracePeriodComplete gracePeriodEndDate}}`,i=({skip:e}={})=>{var t,n,i;const{data:a,loading:s,error:l}=(0,o.aM)(r,{skip:e});return{currentUsage:null==a||null===(t=a.storage)||void 0===t?void 0:t.bytesUsed,isStorageEnforcementGracePeriodComplete:null==a||null===(n=a.storage)||void 0===n?void 0:n.isStorageEnforcementGracePeriodComplete,gracePeriodEndDate:null==a||null===(i=a.storage)||void 0===i?void 0:i.gracePeriodEndDate,loading:s,error:l}}},95677:(e,t,n)=>{"use strict";n.d(t,{u:()=>m});var o=n(840506),r=n(486889),i=n(190206),a=n(400318),s=n(582463),l=n(451843),d=n(415138),c=n(349904),u=n(948479);const m=({source:e})=>{const t=(0,o.useContext)(i.F),{createAnalyticsEvent:n}=(0,r._)(),{isReleaseTwoEligible:m}=(0,c.K)(),{featureFlagClient:p}=(0,s.D)(),{isStorageEnforcementGracePeriodComplete:g}=(0,d.T)({skip:!m}),[,{showBlockCreateModal:E}]=(0,u.x)(),f=m&&Boolean(g)&&p.getBooleanValue(l.uF,{default:!1,shouldTrackExposureEvent:!0}),v=(0,o.useCallback)((o=>(...r)=>{if(f){const o=null==r?void 0:r[0];return o&&"function"==typeof o.preventDefault&&o.preventDefault(),t.start({name:a.tp0}),n({type:"sendOperationalEvent",data:{action:"render",actionSubject:"hardStorageEnforcement",actionSubjectId:"enforceStorageLimit",source:e||"onboarding"}}).fire(),void E(e)}return o.apply(void 0,r)}),[n,t,f,E,e]);return{shouldBlockCreate:f,enforceStorageLimit:v}}},349904:(e,t,n)=>{"use strict";n.d(t,{K:()=>l});var o=n(582463),r=n(179640),i=n(856389),a=n(526771),s=n(451843);const l=({shouldCheckSSRFlag:e}={})=>{const{edition:t,isLicensed:n,isLoggedIn:l}=(0,o.D)(),d=(0,r.T)(s.ZC),c=(0,r.T)(s.n$),u=Boolean(e)&&(0,a.y)(s.BP),m=t===i.m.FREE&&l&&n;return{isEligibleUser:m,isReleaseOneEligible:m&&(d||u),isReleaseTwoEligible:m&&(c||u)}}},828224:(e,t,n)=>{"use strict";n.d(t,{h:()=>d});var o=n(840506),r=n(777014),i=n.n(r),a=n(166258),s=n(659914);const l=["wr!confluence.web.resources:querystring","wr!confluence.web.resources:navigator-context","wr!com.atlassian.plugins.atlassian-connect-plugin:confluence-atlassian-connect-resources-v5"],d=e=>{const{id:t,webItems:n,actions:r,modifications:d,buttonType:c,className:u,disableIcons:m,contentSubType:p}=e,g=n.some((e=>e.completeKey.startsWith("com.atlassian.plugins.atlassian-connect-plugin")));return(0,o.useEffect)((()=>{g&&(0,a.N)(l,(()=>{}),(()=>{0}))}),[g]),o.createElement(s.c,{id:t,actions:r,modifications:d,webItems:n,className:i()("aui-buttons",u),webItemClassName:i()(c,"aui-button"),disableIcons:m,contentSubType:p})};d.displayName="WebItemButtonList",d.displayName="WebItemButtonList"},827685:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});const o=n(779076).ZP`query WebPanelLocationQuery($location:String$contentId:ID$spaceKey:String){webPanels(location:$location contentId:$contentId key:$spaceKey){moduleKey completeKey html location label weight name}}`},166258:(e,t,n)=>{"use strict";n.d(t,{N:()=>l});var o=n(614889),r=n(608888);let i=null;function a(){return i||(i=new Promise((e=>{const t=window.setInterval((()=>{window.WRM&&"function"==typeof window.WRM.require&&(window.clearInterval(t),e(window.WRM.require))}),50)})),i)}(0,o.j)("wrm");let s=!0;function l(e,t,n){t&&n&&s?Promise.all([(0,r.n)(),a()]).then((([n,o])=>o(Array.isArray(e)?e:[e],t))):n&&setTimeout(n)}},331513:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var o=n(615919),r=n(840506),i=n(39030),a=n(219957),s=n(319754),l=n(16728),d=n(2142);const c={componentName:"blanket",packageName:"platform-pkg",packageVersion:"0.0.0-use.local"},u=(0,i.iv)({position:"fixed",zIndex:d.ug.blanket(),inset:0,backgroundColor:`var(--ds-blanket, ${l.Kz})`,overflowY:"auto",pointerEvents:"initial"}),m=(0,i.iv)({pointerEvents:"none"}),p=(0,i.iv)({backgroundColor:"transparent"}),g=(0,r.memo)((0,r.forwardRef)((function({shouldAllowClickThrough:e=!1,isTinted:t=!1,onBlanketClicked:n=s.Z,testId:l,children:d,analyticsContext:g},E){const f=(0,r.useRef)(null),v=(0,a.B)((0,o.Z)({fn:n,action:"clicked",analyticsData:g},c)),h=(0,r.useCallback)((e=>e.currentTarget===e.target&&f.current===e.target?v(e):void 0),[v]),S=e?void 0:h,b=(0,r.useCallback)((e=>{f.current=e.target}),[]);return(0,i.tZ)("div",{role:"presentation",css:[u,e&&m,!t&&p],onClick:S,onMouseDown:b,"data-testid":l,ref:E},d)})));g.displayName="Blanket";const E=g},207218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=(o=n(840506))&&o.__esModule?o:{default:o},i=n(340531);const a=e=>r.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M4.02 19.23a1 1 0 001.18 1.18l3.81-.78-4.21-4.21-.78 3.81zm5.921-2.62l-2.12-2.12L16.306 6h.002l2.121 2.121-8.489 8.49zm9.903-9.903l-2.12-2.122A1.997 1.997 0 0016.308 4c-.512 0-1.024.195-1.415.585l-9.757 9.758 4.95 4.95 9.757-9.758a2 2 0 000-2.828z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditIcon";var s=a;t.default=s},587499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(840506),r=n(227318);const i=e=>o.createElement(r.Z,{appear:!0},e.children);i.displayName="ModalTransition";const a=i},233006:(e,t,n)=>{"use strict";n.d(t,{$G:()=>s,AC:()=>p,Dq:()=>d,Mf:()=>f,aR:()=>l,lL:()=>u,pB:()=>E,pp:()=>c,qm:()=>g,uU:()=>m});var o=n(615919),r=n(16728),i=n(2142);const a=(e,t)=>({fontSize:e/(0,i.JB)()+"em",fontStyle:"inherit",lineHeight:t/e}),s={h900:{size:35,lineHeight:40},h800:{size:29,lineHeight:32},h700:{size:24,lineHeight:28},h600:{size:20,lineHeight:24},h500:{size:16,lineHeight:20},h400:{size:14,lineHeight:16},h300:{size:12,lineHeight:16},h200:{size:12,lineHeight:16},h100:{size:11,lineHeight:16}},l=(e={})=>(0,o.Z)((0,o.Z)({},a(s.h900.size,s.h900.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",marginTop:6.5*(0,i.ww)()+"px"}),d=(e={})=>(0,o.Z)((0,o.Z)({},a(s.h800.size,s.h800.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.01em",marginTop:5*(0,i.ww)()+"px"}),c=(e={})=>(0,o.Z)((0,o.Z)({},a(s.h700.size,s.h700.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",marginTop:5*(0,i.ww)()+"px"}),u=(e={})=>(0,o.Z)((0,o.Z)({},a(s.h600.size,s.h600.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.008em",marginTop:3.5*(0,i.ww)()+"px"}),m=(e={})=>(0,o.Z)((0,o.Z)({},a(s.h500.size,s.h500.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.006em",marginTop:3*(0,i.ww)()+"px"}),p=(e={})=>(0,o.Z)((0,o.Z)({},a(s.h400.size,s.h400.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.003em",marginTop:2*(0,i.ww)()+"px"}),g=(e={})=>(0,o.Z)((0,o.Z)({},a(s.h300.size,s.h300.lineHeight)),{},{color:`var(--ds-text, ${(0,r.nP)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",marginTop:2.5*(0,i.ww)()+"px",textTransform:"uppercase"}),E=(e={})=>(0,o.Z)((0,o.Z)({},a(s.h200.size,s.h200.lineHeight)),{},{color:`var(--ds-text-subtlest, ${(0,r.Pe)(e)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",marginTop:2*(0,i.ww)()+"px"}),f=(e={})=>(0,o.Z)((0,o.Z)({},a(s.h100.size,s.h100.lineHeight)),{},{color:`var(--ds-text-subtlest, ${(0,r.Pe)(e)})`,fontWeight:"var(--ds-font-weight-bold, 700)",marginTop:2*(0,i.ww)()+"px"})},22710:(e,t,n)=>{"use strict";n.d(t,{W:()=>O});var o=n(615919),r=n(872342),i=n(840506),a=n(546033);const s=["children","nudgeTestId"],l=(0,i.forwardRef)(((e,t)=>{let{children:n,nudgeTestId:l}=e,d=(0,r.Z)(e,s);return i.createElement(a.j,(0,o.Z)((0,o.Z)({},d),{},{ref:t,"data-testid":l}),n)}));var d=n(136342),c=n(379525),u=n(393242),m=n(16728),p=n(39030);const g=["index"],E={color:`var(--ds-text-inverse, ${m.N0})`,boxShadow:`var(--ds-shadow-overlay, 0 4px 8px -2px ${m.Nx}, 0 0 1px ${m.VG})`,backgroundColor:`var(--ds-background-discovery-bold, ${m.Wn})`,borderRadius:"3px",overflow:"auto"},f={display:"flex",flexDirection:"column",padding:"var(--ds-space-200, 16px) var(--ds-space-250, 20px)"},v=p.iv`
  font-size: 1.42857em;
  font-style: inherit;
  line-height: 1.2;
  font-weight: 500;
  letter-spacing: -0.008em;
  margin-top: 28;
  color: inherit;

  &:first-child {
    margin-top: 0;
  }
`,h={display:"flex",paddingBottom:"var(--ds-space-100, 8px)",alignItems:"baseline",justifyContent:"space-between"},S={display:"flex",paddingTop:"var(--ds-space-100, 8px)",alignItems:"center",justifyContent:"space-between"},b=e=>p.iv`
  margin: 0 ${"var(--ds-space-050, 4px)"};
  cursor: pointer;
  align-items: baseline;
  border-width: 0px;
  border-radius: 3px;
  box-sizing: border-box;
  display: inline-flex;
  font-size: inherit;
  font-style: normal;
  font-family: inherit;
  font-weight: 500;
  max-width: 100%;
  position: relative;
  text-align: center;
  text-decoration: none;
  transition: background 0.1s ease-out 0s,
    box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38) 0s;
  white-space: nowrap;
  background: ${e?`var(--ds-background-discovery-bold, ${m.Wn})`:`var(--ds-background-inverse-subtle, ${m.HD})`};
  height: 2.28571em;
  line-height: 2.28571em;
  padding: 0px 10px;
  vertical-align: middle;
  width: auto;
  justify-content: center;
  color: ${`var(--ds-text-inverse, ${m.N0})`};
  &:hover {
    background-color: ${`var(--ds-interaction-hovered, ${m.vJ})`};
  }
  &:active {
    background-color: ${`var(--ds-interaction-pressed, ${m.vJ})`};
  }
`,_=e=>{let{index:t}=e,n=(0,r.Z)(e,g);return(0,p.tZ)("button",(0,o.Z)({css:b(t)},n))};_.displayName="ActionItem";const C={display:"flex",margin:"var(--ds-space-negative-050, -4px)",flexDirection:"row-reverse"},T=(0,i.forwardRef)((({image:e,heading:t,actions:n,actionsBeforeElement:r,width:a=300,cardTestId:s,content:l},d)=>{const c=(0,i.useMemo)((()=>null==n?void 0:n.map((({text:e,onClick:t},n)=>(0,p.tZ)(_,{index:n,onClick:t,key:`${e}-${n}`},e)))),[n]),u=!!t,m=!!r||!!n;return(0,p.tZ)("div",{ref:d,style:(0,o.Z)((0,o.Z)({},E),{},{width:`${a}px`}),"data-testid":s},"string"==typeof e?(0,p.tZ)("img",{src:e,alt:""}):e,(0,p.tZ)("div",{style:f},u&&(0,p.tZ)("div",{style:h},(0,p.tZ)("div",{id:"nudge-spot-light-card-heading",css:v},t)),l,m&&(0,p.tZ)("div",{style:S},r||(0,p.tZ)("span",null),(0,p.tZ)("div",{style:C},c))))}));var I=n(830665);const y=["containerStyles","showSpotlight","shouldBlink","zIndex","stopBlink","ariaLabelledBy"],w={opacity:0,transitionProperty:"opacity",transitionTimingFunction:"ease-in-out",transitionDuration:"200ms"},R={entering:{},entered:{opacity:1},exiting:{transitionDuration:"120ms",opacity:0},exited:{},unmounted:{}},k={enter:0,exit:120},N=(0,i.forwardRef)(((e,t)=>{let{containerStyles:n,showSpotlight:a,shouldBlink:s,zIndex:l,stopBlink:c,ariaLabelledBy:u}=e,m=(0,r.Z)(e,y);return i.createElement(I.ZP,{appear:!0,in:a&&!s,timeout:k,onExited:c,unmountOnExit:!s},(e=>i.createElement(d.Z,{zIndex:l},i.createElement("div",(0,o.Z)({style:(0,o.Z)((0,o.Z)((0,o.Z)({},n),w),R[e]),ref:t,"aria-labelledby":u},m)))))}));var P=n(214248);const x=["hidden","setHidden","hideNudgeOnClick","hideSpotlightCardOnOutsideClick","concealSpotlightOnReferenceHidden","showSpotlightCardOnFirstRender","children","spotlightCard","nudge","position","offset","zIndex","onRender","onShow","onHide","onClick","onOutsideClick","pulseColor","pulseShadowColor","pulseBorderRadius","nudgeBlinkId","nudgeTestId","nudgeTag","headingId"],O=(0,i.forwardRef)(((e,t)=>{let{hidden:n,setHidden:a,hideNudgeOnClick:s=!0,hideSpotlightCardOnOutsideClick:m=!0,concealSpotlightOnReferenceHidden:p=!1,showSpotlightCardOnFirstRender:g=!0,children:E,spotlightCard:f=T,nudge:v=l,position:h="bottom",offset:S,zIndex:b=800,onRender:_,onShow:C,onHide:I,onClick:y,onOutsideClick:w,pulseColor:R,pulseShadowColor:k,pulseBorderRadius:O,nudgeBlinkId:B,nudgeTestId:M,nudgeTag:Z,headingId:A}=e,L=(0,r.Z)(e,x);const D=(0,i.useRef)();D.current={onRender:_,onHide:I,onShow:C,onClick:y,onOutsideClick:w};const U=(0,i.useRef)(null),G=(0,i.useRef)(null),H=!n,[$,z]=(0,i.useState)(g),[F,W]=(0,i.useState)(!1),[j,K]=(0,i.useState)(!1),V=(0,i.useCallback)((()=>K(!1)),[]),q=(0,i.useRef)({fn:()=>{}});(0,i.useImperativeHandle)(t,(()=>({toggleCardVisibility:z,forceUpdateCardPosition:()=>q.current.fn()})),[z]);const Q=(0,i.useCallback)((()=>H&&z(!0)),[H]),J=(0,i.useCallback)((e=>{var t,o;n||(s&&a(e),null===(t=D.current)||void 0===t||null===(o=t.onClick)||void 0===o||o.call(t))}),[n,s,a,D]);(0,i.useEffect)((()=>{W(H&&$)}),[H,$]),(0,i.useEffect)((()=>{var e,t;if(!n)return null===(e=D.current)||void 0===e||null===(t=e.onRender)||void 0===t||t.call(e),()=>{var e,t;return null===(e=D.current)||void 0===e||null===(t=e.onHide)||void 0===t?void 0:t.call(e)}}),[n,D]),(0,i.useEffect)((()=>{var e,t;F&&(null===(e=D.current)||void 0===e||null===(t=e.onShow)||void 0===t||t.call(e))}),[F,D]),(0,i.useEffect)((()=>{n&&z(g)}),[n,g]),(0,i.useEffect)((()=>{let e,t;return F&&m&&(t=window.setTimeout((()=>{e=(0,u.ak)(window,{type:"click",listener:t=>{const n=t.target;if(U.current&&G.current&&n instanceof Node&&!U.current.contains(n)&&!G.current.contains(n)){var o,r,i;if(B){const e=((e,t,n)=>{const o=Array.from(document.querySelectorAll(`[data-nudge-blink='${e}']`));return!!(null==o?void 0:o.some((e=>e&&e.contains(t))))&&(n(!0),!0)})(B,n,K);if(e)return}z(!1),null===(o=D.current)||void 0===o||null===(r=o.onOutsideClick)||void 0===r||r.call(o),null===(i=e)||void 0===i||i()}},options:{capture:!0,passive:!0}})}))),()=>{var n;null===(n=e)||void 0===n||n(),window.clearTimeout(t)}}),[F,m,a,D,B]);const Y=e=>p&&e?{display:"none"}:{},X=(0,i.useMemo)((()=>f===T?(0,o.Z)({},L):{cardTestId:L.cardTestId}),[f,L]);return i.createElement(i.Fragment,null,i.createElement(v,{ref:U,hasPulse:H,onClickCapture:J,onMouseEnter:Q,pulseColor:R,pulseShadowColor:k,pulseBorderRadius:O,nudgeTestId:M,tag:Z},E),i.createElement(d.Z,{zIndex:b},i.createElement(c.r,{placement:h,referenceElement:U.current||void 0,offset:S},(({ref:e,style:t,forceUpdate:n,isReferenceHidden:r})=>i.createElement(N,{showSpotlight:F,shouldBlink:j,stopBlink:V,zIndex:b,ref:e,containerStyles:(0,o.Z)((0,o.Z)({},t),Y(r)),role:"dialog",ariaLabelledBy:A||"nudge-spot-light-card-heading"},i.createElement(P.ZP,null,q.current.fn=n,i.createElement(f,(0,o.Z)((0,o.Z)({},X),{},{ref:G}))))))))}))},546033:(e,t,n)=>{"use strict";n.d(t,{j:()=>f});var o=n(615919),r=n(872342),i=n(840506),a=n(39030),s=n(16728),l=n(2142);const d=["hasPulse","pulseBorderRadius","pulseColor","pulseShadowColor","tag"],c="0 0 0 3px",u=`var(--ds-border-accent-purple, ${s.kJ})`,m="var(--ds-border-accent-purple, rgba(101, 84, 192, 1))",p=a.iv`
  @keyframes pulseKeyframes {
    0% {
      opacity: 0;
    }

    50% {
      opacity: 1;
    }

    100% {
      opacity: 0;
    }
  }

  animation: pulseKeyframes 3000ms ${"cubic-bezier(0.55, 0.055, 0.675, 0.19)"} infinite;
`,g=a.iv`
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`,E=({hasPulse:e,pulseBorderRadius:t,pulseColor:n,pulseShadowColor:o})=>a.iv`
  display: block;
  > * {
    position: relative;

    &::before {
      ${g}
      border-radius: ${t}px;
      box-shadow: ${c} ${n};
      opacity: ${e?1:0};
      transition: opacity 0.1s ease-in-out;
      pointer-events: none;
    }

    &::after {
      ${g}
      border-radius: ${t}px;
      box-shadow: ${c} ${n}, 0 0 11px ${o};
      opacity: 0;
      pointer-events: none;
      ${e&&p}
    }
  }
`,f=(0,i.forwardRef)(((e,t)=>{let{hasPulse:n,pulseBorderRadius:i=(0,l.E0)(),pulseColor:s=u,pulseShadowColor:c=m,tag:p="span"}=e,g=(0,r.Z)(e,d);const f=p;return(0,a.tZ)(f,(0,o.Z)({css:E({hasPulse:n,pulseBorderRadius:i,pulseColor:s,pulseShadowColor:c}),ref:t},g))}))}}]);
//# sourceMappingURL=79710.Xn_aorcSSE.js.map