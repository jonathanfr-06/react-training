"use strict";(self._cf=self._cf||[]).push([[29585,98793],{140263:(e,t,a)=>{a.d(t,{U:()=>i});var n=a(840506),o=a(132464);class i extends n.Component{constructor(e){super(e),this.markExperienceStart()}markExperienceStart(){const{id:e,name:t,timeout:a,attributes:n,collect:i,onSuccess:s}=this.props;(0,o.OV)().start({attributes:n,name:t,timeout:a,id:e,collect:i,onSuccess:s})}render(){return null}}i.displayName="ExperienceStart"},187308:(e,t,a)=>{a.r(t),a.d(t,{AutomationNavigation:()=>R});var n=a(615919),o=a(872342),i=a(840506),s=a(920839),l=a(767001),r=a(93972),c=a(747472),u=a(142807),m=a(486889),d=a(480963),p=a(535280),E=a(332072),v=a(856389),f=a(234461),_=a(9019),g=a(140263),Z=a(400318),h=a(155049),N=a(940155),b=a(284186),y=a(487696),M=a(582463),U=a(979163),A=a(821653),x=a(522970),w=a(971900);const O=["as","style"];a(892270),a(563952);const S=(0,r.defineMessages)({automationTooltip:{id:"side-navigation.space-navigation.automation.tooltip",defaultMessage:"View automation for this space"},newLabel:{id:"side-navigation.space-navigation.automation.new-label",defaultMessage:"New"}}),T=(0,i.forwardRef)(((e,t)=>{let{as:a="span",style:r}=e,c=(0,o.Z)(e,O);return i.createElement(a,(0,n.Z)((0,n.Z)({},c),{},{style:(0,n.Z)((0,n.Z)({},r),{},{"--_h7os2z":(0,s.Z)("var(--ds-space-100, 8px)")}),ref:t,className:(0,l.Z)(["_1e0c1o8l _18u01xra",c.className])}))}));const k=(0,N.ZR)({__loadable_id__:"pm-Pg",name:"AutomationIcon",loader:async()=>(await a.e(3097).then(a.bind(a,568867))).AutomationIcon}),F=({onClick:e,isUpsellEnabled:t=!1})=>{var a,o,s;const l=(0,c.Z)(),{spaceKey:r}=(0,i.useContext)(y.z1),{createAnalyticsEvent:f}=(0,m._)(),{edition:_}=(0,M.D)(),N=_===v.m.PREMIUM||t;(0,i.useEffect)((()=>{N&&f({type:"sendScreenEvent",data:{name:"automationLink",attributes:{edition:_,source:"sideNavBar"}}}).fire()}),[f,_,N]);const{isPremiumOnboardingFeatureDiscoveryEnabled:O}=(0,U.Tx)(),F=N&&(0,w.x9)(null===(a=location)||void 0===a?void 0:a.pathname,b.dj),R=F&&(/^#\/rule\/(\d+)\/__RULE_TURNED_ON$/.test(null===(o=location)||void 0===o?void 0:o.hash)||/^#\/rule\/new$/.test(null===(s=location)||void 0===s?void 0:s.hash)),{markFeatureAsUsed:C}=(0,A.Js)(A.u$.AUTOMATION_NEW_RULE,!R);return(0,i.useEffect)(C,[C]),N?i.createElement(i.Fragment,null,i.createElement(g.U,{name:Z.lMe}),i.createElement(E.Z,{position:"top",content:l.formatMessage(S.automationTooltip)},(a=>i.createElement(p.Z,(0,n.Z)((0,n.Z)({cssFn:w.Xh,href:b.dj.toUrl({spaceKey:r},{hash:"#/tab/rule-library"}),iconBefore:i.createElement(k,{isSelected:F}),isSelected:F},a),{},{onClick:e,testId:"space-navigation-automation-link"}),i.createElement(u.Z,{id:"side-navigation.container.automation",defaultMessage:"Automation"}),!t&&(O?i.createElement(x.W_,null):i.createElement(T,null,i.createElement(d.Z,{appearance:"new"},l.formatMessage(S.newLabel)))),i.createElement(h.F,{name:Z.lMe}))))):null},R=e=>i.createElement(f.S,{attribution:_.x.AUTOMATION_FOR_CONFLUENCE},i.createElement(F,(0,n.Z)({},e)));R.displayName="AutomationNavigation"}}]);
//# sourceMappingURL=29585.S_3rvTsoFx.js.map