"use strict";(self._cf=self._cf||[]).push([[33374,46156],{582802:(e,t,a)=>{a.d(t,{vU:()=>d});var r,n,o=a(122970),s=a(840506),i=a(427485);!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(r||(r={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(n||(n={}));var l=function(e){var t=(0,i.Z)(),a=e.value,r=e.children,n=(0,o.__rest)(e,["value","children"]);return r(t.formatNumberToParts(a,n))};l.displayName="FormattedNumberParts";function c(e){var t=function(t){var a=(0,i.Z)(),r=t.value,n=t.children,s=(0,o.__rest)(t,["value","children"]),l="string"==typeof r?new Date(r||0):r;return n("formatDate"===e?a.formatDateToParts(l,s):a.formatTimeToParts(l,s))};return t.displayName=n[e],t}function u(e){var t=function(t){var a=(0,i.Z)(),r=t.value,n=t.children,l=(0,o.__rest)(t,["value","children"]),c=a[e](r,l);if("function"==typeof n)return n(c);var u=a.textComponent||s.Fragment;return s.createElement(u,null,c)};return t.displayName=r[e],t}function d(e){return e}l.displayName="FormattedNumberParts";u("formatDate"),u("formatTime"),u("formatNumber"),u("formatList"),u("formatDisplayName"),c("formatDate"),c("formatTime")},427485:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(840506),n=a(702005),o=a(704543);function s(){var e=r.useContext(n._y);return(0,o.lq)(e),e}},57699:(e,t,a)=>{a.d(t,{Hh:()=>o,GV:()=>s,CJ:()=>i,tP:()=>l,Ps:()=>u,r4:()=>c});var r=a(779076);const n=r.ZP`fragment ActionButtonContentFragment on Content{id metadata{currentuser{favourited{isFavourite}}}}`,o=r.ZP`mutation ActionButtonPageStar($id:ID!){favouritePage(favouritePageInput:{pageId:$id}){content{...ActionButtonContentFragment}}}${n}`,s=r.ZP`mutation ActionButtonPageUnstar($id:ID!){unfavouritePage(favouritePageInput:{pageId:$id}){content{...ActionButtonContentFragment}}}${n}`,i=r.ZP`mutation FavoriteSpaceMutation($spaceKey:String!){favouriteSpace(spaceKey:$spaceKey){isSpaceFavourited}}`,l=r.ZP`mutation UnfavoriteSpaceMutation($spaceKey:String!){unfavouriteSpace(spaceKey:$spaceKey){isSpaceFavourited}}`,c=r.ZP`mutation SpaceDirectoryWatchSpaceMutation($spaceId:ID!){watchSpace(watchSpaceInput:{spaceId:$spaceId currentUser:true}){space{id currentUser{isWatched}}}}`,u=r.ZP`mutation SpaceDirectoryUnWatchSpaceMutation($spaceId:ID!){unwatchSpace(watchSpaceInput:{spaceId:$spaceId currentUser:true}){space{id currentUser{isWatched}}}}`},755293:(e,t,a)=>{a.d(t,{n:()=>f});var r=a(615919),n=a(840506),o=a(582802),s=a(702005),i=a(167347),l=a(486889),c=a(523241),u=a(57699),d=a(827945);const m=(0,o.vU)({starErrorTitle:{id:"action-buttons.content.star.error.title",defaultMessage:"We're having trouble starring this"},unstarErrorTitle:{id:"action-buttons.content.unstar.error.title",defaultMessage:"We're having trouble unstarring this"},errorDescription:{id:"action-buttons.error.description",defaultMessage:"Refresh the page and try again."}}),_=({contentId:e,isStarred:t,onStar:a,onUnstar:o,analytics:s,intl:_,children:f})=>{const p=((e,t)=>{const{createAnalyticsEvent:a}=(0,l._)(),o=JSON.stringify(null==t?void 0:t.attributes);return(0,n.useCallback)((n=>{if(!t)return;const{source:o,containerId:s,attributes:i}=t;a({type:"sendTrackEvent",data:(0,r.Z)({action:n,actionSubject:"favouritePage",source:o,attributes:i,objectId:e},s&&{containerId:s})}).fire()}),[a,null==t?void 0:t.source,o])})(e,s);(0,c.Q)("page-star-button"),(0,c.Q)("page-unstar-button");const[v,{error:b}]=(0,i.Db)(u.Hh,{variables:{id:e},onCompleted:()=>{p("created")},optimisticResponse:{favouritePage:{__typename:"FavouritePagePayload",content:{__typename:"Content",id:e,metadata:{__typename:"ContentMetadata",currentuser:{__typename:"ContentMetadata_CurrentUserMetadataProvider_currentuser",favourited:{__typename:"FavouritedSummary",isFavourite:!0}}}}}}}),[g,{error:y}]=(0,i.Db)(u.GV,{variables:{id:e},onCompleted:()=>{p("deleted")},optimisticResponse:{unfavouritePage:{__typename:"UnfavouritePagePayload",content:{__typename:"Content",id:e,metadata:{__typename:"ContentMetadata",currentuser:{__typename:"ContentMetadata_CurrentUserMetadataProvider_currentuser",favourited:null}}}}}}),Z=(0,n.useCallback)((e=>{e.preventDefault(),t?(o&&o(e),g().catch((e=>{}))):(a&&a(e),v().catch((e=>{})))}),[t,a,v,o,g]);return(0,n.useEffect)((()=>{var e;null!==(e=window)&&void 0!==e&&e.__SSR_EVENTS_CAPTURE__&&window.__SSR_EVENTS_CAPTURE__.favoriteButton&&(Z(window.__SSR_EVENTS_CAPTURE__.favoriteButton),delete window.__SSR_EVENTS_CAPTURE__.favoriteButton)}),[]),n.createElement(n.Fragment,null,f({toggle:Z}),b&&n.createElement(d.L,{title:_.formatMessage(m.starErrorTitle),description:_.formatMessage(m.errorDescription),error:b}),y&&n.createElement(d.L,{title:_.formatMessage(m.unstarErrorTitle),description:_.formatMessage(m.errorDescription),error:y}))};_.displayName="PageStarComponent";const f=(0,s.ZP)(_)},533374:(e,t,a)=>{a.d(t,{z:()=>Z});var r=a(615919),n=a(872342),o=a(840506),s=a(582802),i=a(702005),l=a(984880),c=a(555687),u=a(332072),d=a(197949),m=a(219263),_=a(15325),f=a(711518),p=a(571621),v=a(755293);const b=["intl","size","outlineAppearance","tooltipPosition","shortcut","label"],g=(0,s.vU)({star:{id:"action-buttons.content.star.label",defaultMessage:"Star"},unstar:{id:"action-buttons.content.unstar.label",defaultMessage:"Unstar"}}),y=e=>{let{intl:t,size:a,outlineAppearance:s,tooltipPosition:i,shortcut:y,label:Z}=e,E=(0,n.Z)(e,b);const S="small"===a?"compact":"default",h="subtle"===s?p.cn:void 0,w=E.isStarred?t.formatMessage(g.unstar):t.formatMessage(g.star),P=y?o.createElement(d.oW,{shortcut:y,contentBefore:w}):w,N=null!=Z?Z:w;return o.createElement(v.n,(0,r.Z)({},E),(({toggle:e})=>o.createElement(o.Fragment,null,o.createElement(u.Z,{content:P,position:i||"top",hideTooltipOnClick:!0},o.createElement("div",null,E.isStarred?o.createElement(c.Z,{"data-id":"page-unstar-button","data-test-id":"page-unstar-button",spacing:S,appearance:"subtle",onClick:e,iconBefore:o.createElement(f.C,{label:"",size:a}),"aria-label":N,"aria-pressed":!0}):o.createElement(p.m_,null,o.createElement(c.Z,{"data-id":"page-star-button","data-test-id":"page-star-button",spacing:S,appearance:"subtle",onClick:e,iconBefore:o.createElement(l.default,{label:"",size:a}),component:h,"aria-label":N,"aria-pressed":!1})))),y&&o.createElement(m.E,{accelerator:_.STAR_BUTTON_SHORTCUT,listener:e}))))};y.displayName="PageStarButtonComponent";const Z=(0,i.ZP)(y)},571621:(e,t,a)=>{a.d(t,{DY:()=>p,Fe:()=>v,_L:()=>b,cn:()=>y,m_:()=>Z,vE:()=>g});var r=a(615919),n=a(872342),o=a(840506),s=a(767001),i=a(920839),l=a(16728);const c=["as","style"],u=["as","style"],d=["as","style"],m=["as","style"],_=["as","style"],f=["as","style"];a(809023),a(682433),a(502613),a(499268),a(377756),a(25586),a(726744),a(506840),a(803253),a(234119),a(371861),a(899283),a(744778),a(319272),a(456928),a(354326),a(187469),a(374914),a(814420);const p=(0,o.forwardRef)(((e,t)=>{let{as:a="div",style:i}=e,l=(0,n.Z)(e,c);return o.createElement(a,(0,r.Z)((0,r.Z)({},l),{},{style:i,ref:t,className:(0,s.Z)(["_1dzqglyw",l.className])}))}));const v=(0,o.forwardRef)(((e,t)=>{let{as:a="div",style:i}=e,l=(0,n.Z)(e,u);return o.createElement(a,(0,r.Z)((0,r.Z)({},l),{},{style:i,ref:t,className:(0,s.Z)(["_1e0cglyw _1dzq1ule",l.className])}))}));const b=(0,o.forwardRef)(((e,t)=>{let{as:a="button",style:l}=e,c=(0,n.Z)(e,d);return o.createElement(a,(0,r.Z)((0,r.Z)({},c),{},{style:(0,r.Z)((0,r.Z)({},l),{},{"--_1k0ws82":(0,i.Z)("var(--ds-background-neutral-subtle, transparent)"),"--_s9bzdf":(0,i.Z)("var(--ds-background-neutral-subtle-hovered, rgba(9, 30, 66, 0.08))")}),ref:t,className:(0,s.Z)(["_1e0c1txw _4cvr1h6o _1bah1h6o _4t3izwfg _1bsbzwfg _19itglyw _2rko1l7b _11q7131e _80omtlke _19lc5qxx",c.className])}))}));const g=(0,o.forwardRef)(((e,t)=>{let{as:a="button",style:c}=e,u=(0,n.Z)(e,m);return o.createElement(a,(0,r.Z)((0,r.Z)({},u),{},{style:(0,r.Z)((0,r.Z)({},c),{},{"--_1k0ws82":(0,i.Z)("var(--ds-background-neutral-subtle, transparent)"),"--_s9bzdf":(0,i.Z)("var(--ds-background-neutral-subtle-hovered, rgba(9, 30, 66, 0.08))"),"--_nb31jz":(0,i.Z)(`var(--ds-icon, ${l.Mx})`)}),ref:t,className:(0,s.Z)(["_1e0c1txw _4cvr1h6o _1bah1h6o _4t3izwfg _1bsbzwfg _19itglyw _2rko1l7b _11q7131e _80omtlke _19lc5qxx _syaz173l _1fh1t4jn",u.className])}))}));const y=(0,o.forwardRef)(((e,t)=>{let{as:a="button",style:c}=e,u=(0,n.Z)(e,_);return o.createElement(a,(0,r.Z)((0,r.Z)({},u),{},{style:(0,r.Z)((0,r.Z)({},c),{},{"--_1kdecwf":(0,i.Z)(`var(--ds-icon-subtle, ${l.Bn})`),"--_nb31jz":(0,i.Z)(`var(--ds-icon, ${l.Mx})`)}),ref:t,className:(0,s.Z)(["_1t4pudn9 _ll8pt4jn",u.className])}))}));const Z=(0,o.forwardRef)(((e,t)=>{let{as:a="div",style:i}=e,l=(0,n.Z)(e,f);return o.createElement(a,(0,r.Z)((0,r.Z)({},l),{},{style:i,ref:t,className:(0,s.Z)(["_bgrb1eg2 _yfoxkb7n",l.className])}))}))},827945:(e,t,a)=>{a.d(t,{L:()=>s});var r=a(840506),n=a(272290),o=a(627521);const s=(0,n.r)((({flags:e,title:t,description:a,error:n})=>((0,r.useEffect)((()=>{e.showErrorFlag({id:"action-button-error",title:t,description:a})}),[t,a,e]),r.createElement(o.X,{error:n}))))},711518:(e,t,a)=>{a.d(t,{C:()=>l});var r=a(615919),n=a(840506),o=a(200493),s=a(621130),i=a(16728);const l=({label:e,size:t,testId:a})=>{const l=(0,s.Z)(),c=(0,n.useMemo)((()=>"dark"===l.colorMode?`var(--ds-icon-accent-yellow, ${i.Z3})`:"var(--ds-icon-accent-orange, #E56910)"),[l.colorMode]);return n.createElement(o.default,(0,r.Z)((0,r.Z)({label:e,primaryColor:c},t&&{size:t}),a&&{testId:a}))};l.displayName="StarSelectedIcon"},523241:(e,t,a)=>{a.d(t,{Q:()=>o});var r=a(840506),n=a(804929);const o=e=>{(0,r.useEffect)((()=>{if(!window.__SSR_CLIENT_ERRORS__||!window.__SSR_CLIENT_ERRORS__[e])return;window.__SSR_CLIENT_ERRORS__[e].forEach((e=>(0,n.UJ)().submitError(e,{attribution:"backbone"}))),delete window.__SSR_CLIENT_ERRORS__[e]}),[e])}},200493:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=a(840506))&&r.__esModule?r:{default:r},o=a(340531);const s=e=>n.default.createElement(o.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.072 17.284l-3.905 2.053a1 1 0 01-1.451-1.054l.745-4.349-3.159-3.08a1 1 0 01.554-1.705l4.366-.635 1.953-3.956a1 1 0 011.794 0l1.952 3.956 4.366.635a1 1 0 01.555 1.705l-3.16 3.08.746 4.349a1 1 0 01-1.45 1.054l-3.906-2.053z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));s.displayName="StarFilledIcon";var i=s;t.default=i}}]);
//# sourceMappingURL=33374.RDWaqOu-jw.js.map