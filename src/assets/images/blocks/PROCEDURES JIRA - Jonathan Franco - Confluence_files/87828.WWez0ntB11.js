"use strict";(self._cf=self._cf||[]).push([[87828],{87828:(e,t,r)=>{r.d(t,{Z:()=>ae});var a=r(615919),n=r(840506),o=r(39030),s=r(393242),i=r(533963),l=r(188511),c=r(319754),d=r(327027),u=r(117e3),p=r(724093),f=r(2142),v=r(332072),m=r(872342),g=r(70397),k=r(996755),b=r(250707),Z=r(497507);const x={[l.Hb]:"next",[l.R4]:"prev",[l.hv]:"first",[l.yM]:"last"},h=(e,t)=>{for(;t+1<e.length;){if(!(null!==e[t+1].getAttribute("disabled")))return e[t+1];t++}},C=(e,t)=>{for(;t>0;){if(!(null!==e[t-1].getAttribute("disabled")))return e[t-1];t--}};function y(e){return t=>{const r=e.findIndex((e=>{var t;return null===(t=document.activeElement)||void 0===t?void 0:t.isSameNode(e)}));switch(x[t.key]){case"next":if(r<e.length-1){t.preventDefault();const a=h(e,r);a&&a.focus()}break;case"prev":if(r>0){t.preventDefault();const a=C(e,r);a&&a.focus()}break;case"first":t.preventDefault();const a=h(e,-1);a&&a.focus();break;case"last":t.preventDefault();const n=C(e,e.length);n&&n.focus();break;default:return}}}const I=(0,n.createContext)({menuItemRefs:[],registerRef:c.Z}),w=({children:e})=>{const t=(0,n.useRef)([]),r=(0,n.useCallback)((e=>{e&&!t.current.includes(e)&&t.current.push(e)}),[]);(0,n.useEffect)((()=>{(0,s.ak)(window,{type:"keydown",listener:y(t.current)});return()=>{(0,s.ak)(window,{type:"keydown",listener:y(t.current)})}}),[]);const a={menuItemRefs:t.current,registerRef:r};return n.createElement(I.Provider,{value:a},e)};w.displayName="FocusManager";const $=w;const R=function(){const{registerRef:e}=(0,n.useContext)(I),t=(0,n.useRef)(null);return(0,n.useEffect)((()=>{null!==t.current&&e(t.current)}),[e]),t},A=["href","onClick"],P=["children"],E=(0,n.forwardRef)(((e,t)=>{const{avatar:r,onAvatarClick:o,testId:s,index:l}=e,{href:c,onClick:d}=r,u=(0,m.Z)(r,A),p=R(),f=n.createElement(i.Z,(0,a.Z)((0,a.Z)({},u),{},{testId:s&&`${s}--avatar`,borderColor:"transparent",size:"small",name:""})),v=d||o;return c?n.createElement(k.Z,{ref:(0,g.Z)([t,p]),href:c,target:r.target,rel:"_blank"===r.target?"noopener noreferrer":void 0,iconBefore:f,testId:s,onClick:e=>v&&v(e,void 0,l)},r.name):"function"==typeof v?n.createElement(b.Z,{ref:(0,g.Z)([t,p]),onClick:e=>v&&v(e,void 0,l),iconBefore:f,testId:s},r.name):n.createElement(Z.Z,{iconBefore:f,component:e=>{let{children:t}=e,r=(0,m.Z)(e,P);return n.createElement("button",(0,a.Z)({type:"button"},r),t)},testId:s},r.name)})),F="var(--ds-space-negative-050, -4px)",N=(0,o.iv)({display:"flex",margin:"var(--ds-space-0, 0px)",marginRight:F,marginLeft:F,padding:"var(--ds-space-0, 0px)",justifyContent:"flex-start",flexWrap:"wrap",lineHeight:1,listStyleType:"none !important"}),B=(0,o.iv)({margin:"var(--ds-space-0, 0px)",marginBottom:"var(--ds-space-100, 8px)",paddingRight:"var(--ds-space-050, 4px)",paddingLeft:"var(--ds-space-050, 4px)"}),M=({children:e,testId:t,"aria-label":r})=>(0,o.tZ)("ul",{"data-testid":t,"aria-label":r,css:N},n.Children.map(e,(e=>e&&(0,o.tZ)("li",{css:B},e))));M.displayName="Grid";const W=M;var z=r(116510);const D=["maxWidth","minWidth","setInitialFocusRef"],S=e=>{let{maxWidth:t=800,minWidth:r=320,setInitialFocusRef:s}=e,i=(0,m.Z)(e,D);const{menuItemRefs:l}=(0,n.useContext)(I);return(0,n.useEffect)((()=>{null==s||s(l[0])}),[l,s]),(0,o.tZ)(z.Z,(0,a.Z)({maxWidth:t,minWidth:r},i))};S.displayName="PopupAvatarGroup";const G=S;var H=r(298488),T=r(16728);const X=["testId","className","ref"],Y={xsmall:"10px",small:"10px",medium:"11px",large:"12px",xlarge:"16px",xxlarge:"16px"},_=(0,o.iv)({"&&":{backgroundColor:`var(--ds-background-selected, ${T.BA})`,boxShadow:`0 0 0 ${H.YF}px var(--ds-border-selected, ${T.M5})`,color:`var(--ds-text-selected, ${T.AX})`,transform:`scale(${H.qC})`,"&:hover":{backgroundColor:`var(--ds-background-selected-hovered, ${T.gt})`,color:`var(--ds-text-selected, ${T.Mx})`},"&:active":{backgroundColor:`var(--ds-background-selected-pressed, ${T.BA})`,color:`var(--ds-text-selected, ${T.AX})`}}}),L=(0,o.iv)({"&&":{backgroundColor:`var(--ds-background-neutral, ${T.IR})`,color:`var(--ds-text, ${T.Mx})`,fontFamily:"inherit",fontWeight:"var(--ds-font-weight-medium, 500)","&:hover":{backgroundColor:`var(--ds-background-neutral-hovered, ${T.gt})`,color:`var(--ds-text, ${T.Mx})`},"&:active":{backgroundColor:`var(--ds-background-neutral-pressed, ${T.BA})`,color:`var(--ds-text, ${T.AX})`},"&:after":{display:"none"}}}),j=(0,n.forwardRef)((({appearance:e="circle",borderColor:t=`var(--ds-border-inverse, ${T.N0})`,size:r="medium",count:s=0,testId:l,onClick:c,"aria-controls":d,"aria-expanded":u,"aria-haspopup":p,buttonProps:f={},isActive:v},g)=>{const k=(0,n.useCallback)(((e,t)=>{f.onClick&&f.onClick(e),c(e,t)}),[f.onClick,c]);return(0,o.tZ)(i.Z,{appearance:e,size:r,borderColor:t,ref:g,onClick:k},(e=>{let{testId:t,className:n,ref:i}=e,c=(0,m.Z)(e,X);return(0,o.tZ)("button",(0,a.Z)((0,a.Z)((0,a.Z)({type:"submit"},f),c),{},{ref:i,"data-testid":l,"aria-controls":d,"aria-expanded":u,"aria-haspopup":p,style:{fontSize:Y[r]},css:[L,v&&_],className:n}),"+",s>99?99:s)}))}));j.displayName="MoreIndicator";const q=j,O=2*H.YF+(0,f.ww)()/2,J=(0,o.iv)({display:"flex",margin:"var(--ds-space-0, 0px)",marginRight:O,padding:"var(--ds-space-0, 0px)",lineHeight:1,listStyleType:"none !important"}),K=(0,o.iv)({margin:"var(--ds-space-0, 0px)",marginRight:-O}),Q=({children:e,testId:t,"aria-label":r})=>(0,o.tZ)("ul",{"data-testid":t,"aria-label":r,css:J},n.Children.map(e,(e=>e&&(0,o.tZ)("li",{css:K},e))));Q.displayName="Stack";const U=Q,V=(e,t)=>e.key?e.key:t,ee={grid:11,stack:5};function te(e){return{AvatarGroupItem:(0,a.Z)({render:(e,t,r)=>(0,o.tZ)(e,(0,a.Z)((0,a.Z)({},t),{},{key:V(t.avatar,r)}))},e&&e.AvatarGroupItem),Avatar:(0,a.Z)({render:(e,t,r)=>(0,o.tZ)(e,(0,a.Z)((0,a.Z)({},t),{},{key:V(t,r)}))},e&&e.Avatar)}}const re=({appearance:e="stack",avatar:t=i.Z,borderColor:r,boundariesElement:m,data:g,isTooltipDisabled:k,maxCount:b,onAvatarClick:Z,onMoreClick:x,overrides:h,showMoreButtonProps:C={},size:y="medium",testId:I,label:w="avatar group",tooltipPosition:R="bottom",shouldPopupRenderToParent:A=!1})=>{const[P,F]=(0,n.useState)(!1),[N,B]=(0,n.useState)(!1),M=(0,n.useCallback)((()=>B(!1)),[]),z=(0,n.useCallback)((e=>{const{clientX:t,clientY:r,type:a}=e;"keydown"!==a&&0!==t&&0!==r||F(!0),B((e=>!e))}),[]),{isFocused:D,bindFocus:S}=(0,d.Z)();(0,n.useEffect)((()=>{if(N||F(!1),!D)return c.Z;if(N)return c.Z;(0,s.ak)(window,{type:"keydown",listener:function(e){e.key===l.Hb&&(e.preventDefault(),z(e))}});return()=>{(0,s.ak)(window,{type:"keydown",listener:function(e){e.key===l.Hb&&(e.preventDefault(),z(e))}})}}),[D,N,z]);const H=void 0===b||0===b?ee[e]:b,T=g.length,X=T>H?H-1:H,Y="stack"===e?U:W;return(0,o.tZ)(Y,{testId:I&&`${I}--avatar-group`,"aria-label":w},g.slice(0,X).map(((e,n)=>{const s=e.onClick||Z,i=te(h).Avatar.render(t,(0,a.Z)((0,a.Z)({},e),{},{size:y,borderColor:r,testId:I&&`${I}--avatar-${n}`,onClick:s?(e,t)=>{s(e,t,n)}:void 0,stackIndex:H-n}),n);return k||e.isDisabled?i:(0,o.tZ)(v.Z,{key:V(e,n),content:e.name,testId:I&&`${I}--tooltip-${n}`,position:R},i)})),function(e,t){if(t<=e)return null;const n=n=>(0,o.tZ)(q,(0,a.Z)({buttonProps:C,borderColor:r,count:t-e,size:y,testId:I&&`${I}--overflow-menu--trigger`,isActive:N},n));if("function"==typeof x)return n({onClick:x});const s="scrollParent"===m?"clippingParents":void 0,i=(()=>{if("scrollParent"!==m)return"window"===m?"document":"viewport"})();return(0,o.tZ)(p.Z,{isOpen:N,onClose:M,placement:"bottom-end",boundary:s,rootBoundary:i,shouldFlip:!0,zIndex:f.ug.modal(),shouldRenderToParent:A,content:({setInitialFocusRef:t})=>(0,o.tZ)($,null,(0,o.tZ)(G,{onClick:e=>e.stopPropagation(),minWidth:250,maxHeight:300,setInitialFocusRef:P?t:void 0},(0,o.tZ)(u.Z,null,g.slice(e).map(((t,r)=>te(h).AvatarGroupItem.render(E,{avatar:t,onAvatarClick:Z,testId:I&&`${I}--avatar-group-item-${r+e}`,index:r+e},r+e)))))),trigger:e=>n((0,a.Z)((0,a.Z)((0,a.Z)({},e),S),{},{onClick:z})),testId:I&&`${I}--overflow-menu`})}(+X,T))};re.displayName="AvatarGroup";const ae=re}}]);
//# sourceMappingURL=87828.WWez0ntB11.js.map