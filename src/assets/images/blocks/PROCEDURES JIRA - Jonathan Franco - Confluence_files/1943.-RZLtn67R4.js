(self._cf=self._cf||[]).push([[1943,83931,4167,57239,98793],{35371:(e,t,n)=>{var o=n(859126),a=n(576083),r=n(143637),i=n(200978),s=n(116742),l=n(505265);e.exports=function(e,t,n){var c=-1,d=a,u=e.length,m=!0,p=[],h=p;if(n)m=!1,d=r;else if(u>=200){var g=t?null:s(e);if(g)return l(g);m=!1,d=i,h=new o}else h=t?[]:p;e:for(;++c<u;){var f=e[c],v=t?t(f):f;if(f=n||0!==f?f:0,m&&v==v){for(var y=h.length;y--;)if(h[y]===v)continue e;t&&h.push(v),p.push(f)}else d(h,v,n)||(h!==p&&h.push(v),p.push(f))}return p}},116742:(e,t,n)=>{var o=n(204005),a=n(272786),r=n(505265),i=o&&1/r(new o([,-0]))[1]==1/0?function(e){return new o(e)}:a;e.exports=i},335097:(e,t,n)=>{var o=n(35371);e.exports=function(e){return e&&e.length?o(e):[]}},382539:(e,t,n)=>{var o=n(217567),a=n(35371);e.exports=function(e,t){return e&&e.length?a(e,o(t,2)):[]}},253594:(e,t,n)=>{"use strict";var o=n(150913);Object.defineProperty(t,"Z",{enumerable:!0,get:function(){return(e=o,e&&e.__esModule?e:{default:e}).default;var e}})},32503:(e,t,n)=>{"use strict";n.d(t,{i:()=>a,m:()=>r});var o=n(840506);const a=(0,o.createContext)({hasContentChanged:!1,onChange:()=>{},resetContentChanged:()=>{},isCommentContentReady:!1,onCommentContentReady:()=>{}});a.displayName="CommentContentContext";const r=({children:e})=>{const[t,n]=(0,o.useState)(!1),[r,i]=(0,o.useState)(!1),s=(0,o.useMemo)((()=>({hasContentChanged:t,onChange:e=>n(e),resetContentChanged:()=>n(!1),isCommentContentReady:r,onCommentContentReady:()=>i(!0)})),[t,r]);return o.createElement(a.Provider,{value:s},e)};r.displayName="CommentContentProvider"},878196:(e,t,n)=>{"use strict";n.d(t,{c:()=>r,s:()=>a});var o=n(840506);const a=(0,o.createContext)({newCommentHighlight:void 0,inlineEditParameters:void 0,createComment:()=>{},initiateInlineEdit:()=>{},clearCreateHighlight:()=>{},highlightOrigin:"userHighlight",activeHighlight:null,onHighlightClick:()=>{},firstHighlightClicked:!1,shouldDisplaySidebar:!1,toggleSidebar:()=>{},resolvedComment:null,setResolvedComment:()=>{},setActiveHighlight:()=>{}});a.displayName="InlineCommentsContext";const r=({children:e})=>{const[t,n]=(0,o.useState)(),[r,i]=(0,o.useState)(),[s,l]=(0,o.useState)("userHighlight"),[c,d]=(0,o.useState)(!1),u=(0,o.useRef)(!1),[m,p]=(0,o.useState)(null),[h,g]=(0,o.useState)(null),f=(0,o.useMemo)((()=>({newCommentHighlight:t,inlineEditParameters:r,highlightOrigin:s,initiateInlineEdit:(e,t,o="userHighlight")=>{d(!0),n(e),i(t),l(o)},createComment:(e,t="userHighlight")=>{d(!0),n(e),l(t),h&&g(null)},clearCreateHighlight:()=>n(void 0),activeHighlight:m,onHighlightClick:e=>{u.current||(u.current=!0),d(!!e),p(e)},resolvedComment:h,setResolvedComment:g,firstHighlightClicked:u.current,shouldDisplaySidebar:c,toggleSidebar:e=>d(e),setActiveHighlight:p})),[m,s,r,t,h,c]);return o.createElement(a.Provider,{value:f},e)};r.displayName="InlineCommentsProvider"},554187:(e,t,n)=>{"use strict";n.d(t,{q:()=>r,v:()=>a});var o=n(940155);const a=(0,o.y$)({__loadable_id__:"1Jncp",name:"CommentWarningDialog",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(84185),n.e(41476)]).then(n.bind(n,922107))).CommentWarningDialog}),r=(0,o.y$)({__loadable_id__:"w0IHL",name:"InlineEditWarningDialog",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(84185),n.e(53298)]).then(n.bind(n,251602))).InlineEditWarningDialog})},901963:(e,t,n)=>{"use strict";n.r(t),n.d(t,{READING_AIDS_CHANGEBOARDING_SPOTLIGHT_ID:()=>l,ReadingAidsChangeboardingSpotlight:()=>d});var o=n(840506),a=n(93972),r=n(747472),i=n(634099),s=n(486889);const l="reading-aids-spotlight",c=(0,a.defineMessages)({changeboardingSpotlightGotItButton:{id:"contextual-reading-aids.changeboarding-spotlight.got-it-button",defaultMessage:"Got it"},changeboardingSpotlightText:{id:"contextual-reading-aids.changeboarding-spotlight.text",defaultMessage:"Remember, this feature works best when you select specific terms, acronyms, or internal project/team names."}}),d=({contentId:e,onGotItClick:t})=>{const n=(0,r.Z)(),{createAnalyticsEvent:a}=(0,s._)();return o.createElement(i.Z,{actions:[{text:n.formatMessage(c.changeboardingSpotlightGotItButton),onClick:()=>{a({type:"sendUIEvent",data:{source:"readingAidsSpotlightChangeboarding",action:"clicked",actionSubject:"button",actionSubjectId:"readingAidsSpotlightGotItButton",attributes:{contentId:e}}}),t()}}],target:l,targetRadius:4},n.formatMessage(c.changeboardingSpotlightText))};d.displayName="ReadingAidsChangeboardingSpotlight"},625662:(e,t,n)=>{"use strict";n.d(t,{l:()=>l});var o=n(615919),a=n(199009),r=n(840506),i=n(822464),s=n(978421);class l extends i.W2{constructor(e=[]){if(super(),(0,a.Z)(this,"showModal",((e,t,n)=>{this.showDialog(e,t,n)})),(0,a.Z)(this,"showDialog",((e,t,n)=>{const a=s.e.nextKey,i=t||{},l=r.createElement(e,(0,o.Z)((0,o.Z)({},i),{},{onClose:(...e)=>this.onChildClose(a,...e),onCloseComplete:(...e)=>this.onChildCloseComplete(a,...e)}),n);return this.setState((e=>({stack:[...e.stack,{key:a,component:l,alive:!0,originalProps:{onClose:"onClose"in i?i.onClose:void 0,onCloseComplete:"onCloseComplete"in i?i.onCloseComplete:void 0}}]}))),()=>{this.onChildClose(a)}})),this.state={stack:e},e.length){const t=Math.max(...e.map((e=>e.key)));s.e.nextKey=t+1}}onChildClose(e,...t){const n=this.state.stack.find((t=>t.key===e));n&&(n.originalProps.onClose&&n.originalProps.onClose(...t),this.setState((e=>({stack:e.stack.map((e=>e===n?(0,o.Z)((0,o.Z)({},e),{},{alive:!1}):e))}))))}onChildCloseComplete(e,...t){const n=this.state.stack.find((t=>t.key===e));n&&(n.originalProps.onCloseComplete&&n.originalProps.onCloseComplete(...t),this.setState((e=>({stack:e.stack.filter((e=>e!==n))}))))}}},978421:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var o=n(199009);const a=new class{constructor(){(0,o.Z)(this,"_nextKey",0)}get nextKey(){return this._nextKey++}set nextKey(e){e>this._nextKey&&(this._nextKey=e)}}},165650:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});const o=()=>{const e=Array.from(document.getElementsByClassName("atlaskit-portal")).filter((e=>e.firstChild));return Boolean(e.filter((e=>e.querySelectorAll('[role="dialog"]').length)).length)}},140263:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});var o=n(840506),a=n(132464);class r extends o.Component{constructor(e){super(e),this.markExperienceStart()}markExperienceStart(){const{id:e,name:t,timeout:n,attributes:o,collect:r,onSuccess:i}=this.props;(0,a.OV)().start({attributes:o,name:t,timeout:n,id:e,collect:r,onSuccess:i})}render(){return null}}r.displayName="ExperienceStart"},547110:(e,t,n)=>{"use strict";n.d(t,{F:()=>h});var o=n(840506),a=n(167347),r=n(614889),i=n(582463),s=n(779076);const l=s.ZP`query FeatureDiscoveryQuery{featureDiscovery{pluginKey featureKey}}`,c=s.ZP`mutation MarkFeatureDiscoveredMutation($featureKey:String!$pluginKey:String!){markFeatureDiscovered(featureKey:$featureKey pluginKey:$pluginKey){pluginKey featureKey}}`,d=(0,r.j)("useFeatureDiscovery"),u="com.atlassian.confluence.plugins.confluence-frontend-support",m=(e,{data:t})=>{const n=null==t?void 0:t.markFeatureDiscovered,o=e.readQuery({query:l});n&&null!=o&&o.featureDiscovery&&e.writeQuery({query:l,data:{featureDiscovery:o.featureDiscovery.concat(n)}})},p=()=>{},h=(e,t)=>{var n;const{isLoggedIn:r}=(0,i.D)(),s=!r||t,{data:h,loading:g,error:f}=(0,a.aM)(l,{skip:s}),[v,{loading:y,error:C}]=(0,a.Db)(c,{variables:{featureKey:e,pluginKey:u},update:m}),x=f||C,E=!(g||y||x||null!=h&&null!==(n=h.featureDiscovery)&&void 0!==n&&n.some((t=>(null==t?void 0:t.pluginKey)===u&&(null==t?void 0:t.featureKey)===e))),b=(0,o.useCallback)((()=>{E&&v().catch((()=>{}))}),[E,v]);if(s)return[!1,p,void 0];const S=E||(e=>{try{if(sessionStorage.getItem(`featureDiscoveryOverride-${e}`))return!0}catch(t){d.error(t)}return!1})(e);return[S,b,x]}},822725:(e,t,n)=>{"use strict";n.d(t,{H$:()=>a,Kv:()=>m,NE:()=>i,QG:()=>s,Sn:()=>u,aN:()=>r,d6:()=>o,dd:()=>c,dv:()=>d,zg:()=>l});const o="confluence:contentBylineItem",a="confluence:contextMenu",r="confluence:contentAction",i="confluence:globalPage",s="confluence:globalSettings",l="confluence:homepageFeed",c="confluence:spacePage",d="confluence:spaceSettings",u="confluence:customContent",m=[i,s,l]},883098:(e,t,n)=>{"use strict";n.d(t,{N:()=>d,u:()=>u});var o=n(840506),a=n(332072),r=n(145183),i=n(197949),s=n(219263),l=n(953901);const c=e=>{var t,n;return null!==(t=null==e||null===(n=e.properties)||void 0===n||null===(n=n.keyboardShortcut)||void 0===n?void 0:n.accelerator)&&void 0!==t?t:""},d=({module:e,tooltip:t="",children:n})=>{const s=c(e);return s&&!r.HU.includes(s)?o.createElement(a.Z,{tag:"span",testId:`forge-keyboard-shortcut-visualizer-${s}`,content:o.createElement(i.oW,{shortcut:s,contentBefore:t})},n):o.createElement(o.Fragment,null,n)},u=({module:e,action:t})=>{const n=c(e);return n&&t&&!r.HU.includes(n)?o.createElement("span",{"data-testid":`forge-keyboard-shortcut-${n}`},o.createElement(s.E,{accelerator:n,listener:t,shortcutType:l.P.Forge})):null}},885568:(e,t,n)=>{"use strict";n.d(t,{l:()=>a,r:()=>r});var o=n(940155);const a=e=>(0,o.ZR)({__loadable_id__:"7MhFC",name:"lazyForgeUIExtensionsWithLoader",loader:async()=>(await Promise.all([n.e(1672),n.e(45762)]).then(n.bind(n,348370))).ForgeUIExtensionsWrapper,loading:e}),r=a(void 0)},504265:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});var o=n(71825);const a=(e,t)=>{const n=t||e.properties.title,{environmentType:a,environmentKey:r}=e;return a===o.c.PRODUCTION?n:a===o.c.DEVELOPMENT&&"default"!==r?`${n} - ${r} (Dev)`:`${n} (${i=a,i&&i.length?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():""})`;var i}},895564:(e,t,n)=>{"use strict";n.r(t),n.d(t,{HighlightActions:()=>we});var o=n(615919),a=n(872342),r=n(840506),i=n(920839),s=n(767001),l=n(142807),c=n(822464),d=n(492516),u=n.n(d),m=n(328167),p=n(992577),h=n(411947),g=n(145762),f=n(332072),v=n(16728),y=n(770144),C=n(587499),x=n(733269),E=n(486889),b=n(190206),S=n(400318),T=n(155049),_=n(140263),I=n(329323),w=n(477958),Z=n(627521),R=n(234461),A=n(9019),O=n(885568),N=n(822725);const k=r.createContext({lastModificationDate:null});k.displayName="ContentBodyContext";var H=n(482997),M=n(32503),L=n(878196),P=n(271982),U=n(554187),D=n(625662),z=n(940155),F=n(614889);const B=(0,z.ui)({__loadable_id__:"3G0Vh",name:"ReadingAidsPopup",loader:async()=>(await Promise.all([n.e(12705),n.e(54936),n.e(11216),n.e(61769),n.e(33963),n.e(29583),n.e(57941),n.e(30327),n.e(77249),n.e(82129),n.e(3876),n.e(39256),n.e(18829),n.e(17887)]).then(n.bind(n,130529))).ReadingAidsPopup}),$=(0,z.ui)({__loadable_id__:"9CU8U",name:"ReadingAidsChangeboardingModal",loader:async()=>(await Promise.all([n.e(12705),n.e(11216),n.e(84185),n.e(54878)]).then(n.bind(n,885826))).ReadingAidsChangeboardingModal});var G=n(901963);const K=(0,z.ui)({__loadable_id__:"-IeVN",name:"ReadingAidsChangeboardingSpotlight",loader:async()=>(await Promise.resolve().then(n.bind(n,901963))).ReadingAidsChangeboardingSpotlight});var W=n(582463),j=n(179640),V=n(211230),q=n(547110),X=n(649233),J=n(150030),Q=n(897785),Y=n(637870),ee=n(601038);const te=({children:e,top:t,left:n})=>{const o=(0,r.useRef)(null),[a,i]=(0,r.useState)(n);(0,r.useLayoutEffect)((()=>{if(!o.current)return;const{left:e,right:t}=(0,Q.Pi)(o.current),a=window.innerWidth;i(e<0?n-e+20:t>a?n-(t-a)-20:n)}),[n]);const s=document.querySelector(`#${Y.z}`);return s?J.createPortal(r.createElement(ee.y4,{style:{top:t}},r.createElement(ee.qO,{ref:o,left:a,"data-testid":"highlightActionsPopup"},e)),s):null};var ne=n(849397),oe=n(58305);const ae=(e,t,n)=>()=>{const o=window.getSelection();o&&((0,ne.getAnalyticsWebClient)().then((e=>{e.sendUIEvent({action:"clicked",actionSubject:"button",actionSubjectId:"jiraIssueLink",source:"HighlightContextMenu"})})),window.dispatchEvent(new CustomEvent("create-jira-issue-summary",{detail:(0,oe.Wx)(e,o.getRangeAt(0),t,n)})))},re={firstHighlightShown:!1},ie=(0,r.createContext)(re);ie.displayName="HighlightActionsContext";var se=n(683607),le=n(451873),ce=n(953060),de=n(724093),ue=n(504265),me=n(883098),pe=n(666241);const he=["as","style"];n(319385);const ge=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:l}=e,c=(0,a.Z)(e,he);return r.createElement(n,(0,o.Z)((0,o.Z)({},c),{},{style:(0,o.Z)((0,o.Z)({},l),{},{"--_1g2og9c":(0,i.Z)("var(--ds-space-200, 16px)"),"--_153arrb":(0,i.Z)("var(--ds-space-300, 24px)")}),ref:t,className:(0,s.Z)(["_1yt419gb",c.className])}))}));const fe=({connectItems:e,forgeItems:t=[],selectForgeExtension:n=(()=>{})})=>{const[a,i]=(0,r.useState)(!1),s=(0,r.useContext)(b.F),l=(0,r.useCallback)((()=>{i(!1)}),[i]),c=(0,r.useMemo)((()=>e.map((e=>{var t;return r.createElement(m.Z,{iconBefore:(null!=(t=e)&&null!=(t=t.icon)?t.path:t)?r.createElement(ee.Z,{src:e.icon.path}):r.createElement(ee.Zs,null,r.createElement(ce.default,{label:"No icon",size:"small",secondaryColor:"inherit",primaryColor:`var(--ds-icon-disabled, ${v.YS})`})),key:e.completeKey,appearance:"subtle","data-key":e.completeKey,className:e.styleClass,href:e.url,style:{textAlign:"left",borderRadius:0},shouldFitContainer:!0,title:e.label},e.label)}))),[e]),d=(0,r.useMemo)((()=>t.map((t=>{const o=(0,ue.L)(t);return r.createElement(me.N,{key:t.id,module:t},r.createElement(m.Z,{key:t.id,id:t.id,appearance:"subtle",style:{textAlign:"left",paddingLeft:e.length?"40px":"8px",borderRadius:0},onClick:()=>{s.start({name:S.QGF,id:t.id,timeout:1e4}),n(t)},shouldFitContainer:!0,title:o},o))}))),[e,t,n,s]),u=(0,r.useMemo)((()=>t.map((e=>r.createElement(me.u,{key:e.id,module:e,action:()=>{(0,pe.gI)(),(0,pe.Zo)(e.id),(0,pe.c$)(e.id)}})))),[t]),p=(0,r.useMemo)((()=>r.createElement(ee.TJ,null,c,d)),[c,d]);return e.length||t.length?r.createElement(de.Z,{placement:"bottom-start",isOpen:a,onClose:l,autoFocus:!1,content:()=>r.createElement(ge,null,p),trigger:e=>r.createElement("div",(0,o.Z)({},e),r.createElement(m.Z,{id:"context-menu-other-apps","aria-expanded":a,appearance:"subtle",isSelected:a,onClick:()=>i(!a),iconBefore:r.createElement(le.default,{size:"medium",label:"Drop down"}),style:{borderTopLeftRadius:0,borderBottomLeftRadius:0,height:"36px",margin:0},testId:"context-menu-other-apps"}),u)}):null};fe.displayName="OtherActions";const ve=v.VY,ye=v.AX,Ce=`var(--ds-icon-disabled, ${v.n2})`,xe=({greyed:e=!1,size:t="small"})=>r.createElement("svg",{width:"smaller"===t?"16":"small"===t?"18":"24",height:"smaller"===t?"16":"small"===t?"18":"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1699 12C17.1699 11.4477 17.6176 11 18.1699 11H19.9999C20.5522 11 20.9999 11.4477 20.9999 12C20.9999 12.5523 20.5522 13 19.9999 13H18.1699C17.6176 13 17.1699 12.5523 17.1699 12Z",fill:"url(#paint0_linear_1733_293438)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C12.5523 3 13 3.44772 13 4V5.83C13 6.38228 12.5523 6.83 12 6.83C11.4477 6.83 11 6.38228 11 5.83V4C11 3.44772 11.4477 3 12 3Z",fill:"url(#paint1_linear_1733_293438)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12C3 11.4477 3.44772 11 4 11H5.83C6.38228 11 6.83 11.4477 6.83 12C6.83 12.5523 6.38228 13 5.83 13H4C3.44772 13 3 12.5523 3 12Z",fill:"url(#paint2_linear_1733_293438)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 17.1699C12.5523 17.1699 13 17.6176 13 18.1699V19.9999C13 20.5522 12.5523 20.9999 12 20.9999C11.4477 20.9999 11 20.5522 11 19.9999V18.1699C11 17.6176 11.4477 17.1699 12 17.1699Z",fill:"url(#paint3_linear_1733_293438)"}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2929 14.2929C14.6834 13.9024 15.3166 13.9024 15.7071 14.2929L19.7071 18.2929C20.0976 18.6834 20.0976 19.3166 19.7071 19.7071C19.3166 20.0976 18.6834 20.0976 18.2929 19.7071L14.2929 15.7071C13.9024 15.3166 13.9024 14.6834 14.2929 14.2929Z",fill:e?Ce:ve}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.7071 4.29289C20.0976 4.68342 20.0976 5.31658 19.7071 5.70711L15.7071 9.70711C15.3166 10.0976 14.6834 10.0976 14.2929 9.70711C13.9024 9.31658 13.9024 8.68342 14.2929 8.29289L18.2929 4.29289C18.6834 3.90237 19.3166 3.90237 19.7071 4.29289Z",fill:e?Ce:ve}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.29289 4.29289C4.68342 3.90237 5.31658 3.90237 5.70711 4.29289L9.70711 8.29289C10.0976 8.68342 10.0976 9.31658 9.70711 9.70711C9.31658 10.0976 8.68342 10.0976 8.29289 9.70711L4.29289 5.70711C3.90237 5.31658 3.90237 4.68342 4.29289 4.29289Z",fill:e?Ce:ve}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 14.2929C10.0976 14.6834 10.0976 15.3166 9.70711 15.7071L5.70711 19.7071C5.31658 20.0976 4.68342 20.0976 4.29289 19.7071C3.90237 19.3166 3.90237 18.6834 4.29289 18.2929L8.29289 14.2929C8.68342 13.9024 9.31658 13.9024 9.70711 14.2929Z",fill:e?Ce:ve}),r.createElement("defs",null,r.createElement("linearGradient",{id:"paint0_linear_1733_293438",x1:"20.9999",y1:"12",x2:"17.4999",y2:"12",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{offset:"0.270833",stopColor:e?Ce:ve}),r.createElement("stop",{offset:"1",stopColor:e?Ce:ye})),r.createElement("linearGradient",{id:"paint1_linear_1733_293438",x1:"12.5",y1:"3",x2:"12.5",y2:"6.5",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{offset:"0.1875",stopColor:e?Ce:ve}),r.createElement("stop",{offset:"1",stopColor:e?Ce:ye})),r.createElement("linearGradient",{id:"paint2_linear_1733_293438",x1:"6.82996",y1:"12",x2:"3.32996",y2:"12",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:e?Ce:ye}),r.createElement("stop",{offset:"0.791667",stopColor:e?Ce:ve})),r.createElement("linearGradient",{id:"paint3_linear_1733_293438",x1:"12.5",y1:"16.9999",x2:"12.5",y2:"20.9999",gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:e?Ce:ye}),r.createElement("stop",{offset:"0.802083",stopColor:e?Ce:ve}))));xe.displayName="AtlassianIntelligenceIcon";const Ee=["as","style"];n(917746),n(144961),n(25379),n(66777),n(747962),n(634935),n(234119),n(688507),n(953305),n(979586),n(561288),n(841468),n(31155),n(354326);const be=["com.atlassian.confluence.plugins.confluence-jira-content:create-JIRA-issue-summary"],Se=["com.atlassian.confluence.plugins.confluence-inline-comments:create-inline-comment","com.atlassian.confluence.plugins.confluence-jira-content:create-JIRA-issue-summary"],Te=(0,F.j)("inline-comment"),_e=(0,z.ui)({__loadable_id__:"QCvQD",name:"ForgeAction",loader:async()=>(await Promise.all([n.e(61769),n.e(32045)]).then(n.bind(n,282039))).ForgeAction}),Ie=(0,r.forwardRef)(((e,t)=>{let{as:n=g.Z,style:l}=e,c=(0,a.Z)(e,Ee);return r.createElement(n,(0,o.Z)((0,o.Z)({},c),{},{style:(0,o.Z)((0,o.Z)({},l),{},{"--_1vfudzf":(0,i.Z)("var(--ds-space-025, 2px)"),"--_11fpzcn":(0,i.Z)("var(--ds-space-075, 6px)"),"--_h7os2z":(0,i.Z)("var(--ds-space-100, 8px)"),"--_1iahi77":(0,i.Z)(`var(--ds-background-neutral-bold, ${v.q2})`),"--_ifaqne":(0,i.Z)(`var(--ds-text-inverse, ${v.N0})`)}),ref:t,className:(0,s.Z)(["_1e0c1txw _2lx2vrvc _4cvr1y6m _1yt418q7 _zulp1xra _kqswh2mm _11q7trp2 _2rko1l7b _syazkx2c _zg8l4jg8 _k48p1nn1 _1wyb1crf _vwz4gktf _1dyzpj6m",c.className])}))}));const we=({contentId:e,children:t,hasInlineComments:n=!0,actions:a,lastModifiedDate:i,isArchived:s,contentStatusError:d,position:g,isAnnotationAllowed:v,onCommentButtonPress:z})=>{const[F,J]=(0,r.useState)({firstHighlightShown:!1,show:!1,top:0,left:0,forgeExtension:null,activeSelection:null,selectionRect:null,isReadingAidsOpen:!1,readingAidsChangeboardingStep:"disabled"}),{hasContentChanged:Q}=(0,r.useContext)(M.i),{createComment:ne}=(0,r.useContext)(L.s),{commentToReattach:re,isInReattachMode:le,setReattachHighlight:ce}=(0,r.useContext)(P.f),{lastModificationDate:de}=(0,r.useContext)(k),ue=(0,r.useContext)(b.F),{createAnalyticsEvent:me}=(0,E._)(),{featureFlagClient:pe,isAdminHubAIEnabled:he}=(0,W.D)(),{firstHighlightShown:ge,show:ve,top:ye,left:Ce,forgeExtension:Ee,activeSelection:we,selectionRect:Ze,isReadingAidsOpen:Re,readingAidsChangeboardingStep:Ae}=F,Oe=(0,r.useRef)(null),Ne=(0,r.useRef)(!1),ke=(0,r.useRef)(!1),He=pe.getBooleanValue("confluence.frontend.reading-aids",{default:!1,shouldTrackExposureEvent:!0}),Me=(0,j.T)("confluence.frontend.reading-aids-changeboarding"),Le=(0,j.T)("confluence.frontend.reattach.inline.comment"),{cohort:Pe}=(0,V.a)("confluence.frontend.renderer.annotation.provider.inline.comments",["annotation-provider","not-enrolled","query-selectors"],"not-enrolled",!0),Ue="annotation-provider"===Pe,[De,ze]=(0,q.F)("highlight-actions.reading-aids.changeboarding"),Fe=Ae.match(/^modal|spotlight/),Be=(0,r.useMemo)((()=>({firstHighlightShown:ge})),[ge]);(0,r.useEffect)((()=>{J((e=>(0,o.Z)((0,o.Z)({},e),{},{readingAidsChangeboardingStep:De&&Me&&he?"idle":"disabled"})))}),[De,Me,he]),(0,r.useEffect)((()=>{window.setTimeout((()=>window.dispatchEvent(new Event("resize"))),0)}),[ve]),(0,r.useEffect)((()=>{const e=document.querySelector(".atlaskit-portal-container");if(e){if(Fe)return e.style.userSelect="none",()=>{e.style.userSelect="auto"};e.style.userSelect="auto"}}),[Fe]),(0,r.useLayoutEffect)((()=>(Ne.current=!0,()=>{Ne.current=!1})),[]),(0,r.useEffect)((()=>(window.addEventListener("mouseup",Ke),window.addEventListener("highlight-actions.container.resized",$e),()=>{window.removeEventListener("mouseup",Ke),window.removeEventListener("highlight-actions.container.resized",$e)})),[e,re,Fe]),(0,r.useEffect)((()=>()=>J((e=>(0,o.Z)((0,o.Z)({},e),{},{isReadingAidsOpen:!1})))),[e]);const $e=()=>{J((e=>(0,o.Z)((0,o.Z)({},e),{},{show:!1,forgeExtension:null})))},Ge=()=>{let t={numMatches:0,matchIndex:-1,selectedText:"",timestamp:0};const n=window.getSelection();if(n){const s=n.getRangeAt(0),l=(0,oe.Wx)(Oe.current,s,e),{searchText:{numMatches:c,index:d,selectedText:m}}=l;t={numMatches:c,matchIndex:d,selectedText:m,timestamp:Date.now()};try{const e=re?re.inlineMarkerRef:u()();if(a){var o,r;const n=a.annotate(s,e,"inlineComment"),{step:{from:i,to:l,mark:c}}=n;t.step={from:i,to:l,mark:{type:"annotation",attrs:{key:null===(o=c.attrs)||void 0===o?void 0:o.annotationType,value:null===(r=c.attrs)||void 0===r?void 0:r.id}}}}}catch(i){Te.error`An error occurred when generating a step - ${i}`}}return t},Ke=e=>requestAnimationFrame((()=>{if(!Ne.current)return;const t=(0,se.rx)(),n=document.querySelector(`#${Y.z}`),a=document.querySelector("#inline-comment-sidebar");if(e.target.closest("#inline-comment-nudge"))return;if(Fe)return;if(!t||!n||!Oe.current||null!=a&&a.contains(t.startContainer)||null!=a&&a.contains(t.endContainer)||(e=>{const t=document.querySelectorAll(".datasource-table");return Array.from(t).some((t=>t.contains(e.startContainer)||t.contains(e.endContainer)))})(t)||!Oe.current.contains(e.target)&&Oe.current!==e.target&&!e.target.closest("button[disabled]")&&!e.target.closest("#context-menu-other-apps"))return Le&&le()&&ce(null),void J((e=>(0,o.Z)((0,o.Z)({},e),{},{show:!1})));if(Le&&le())return(()=>{const e=Ge();e.numMatches>0&&-1!==e.matchIndex&&ce(e)})(),void J((e=>(0,o.Z)((0,o.Z)({},e),{},{show:!1})));if(Ue)return void J((e=>(0,o.Z)((0,o.Z)({},e),{},{show:!1})));const r=n.getBoundingClientRect(),i=Oe.current.getBoundingClientRect(),s=t.getClientRects();if(!s||!s.length)return void J((e=>(0,o.Z)((0,o.Z)({},e),{},{show:!1})));const l=Array.from(s).find((e=>0!==e.width&&0!==e.height));if(l){const{left:n,right:a,top:s,width:c,height:d}=l,u=e.clientX,m=n+(c>>1);let p=i.left,h=i.right;const g=(0,se.rP)(t.startContainer);if(g){const e=g.getBoundingClientRect();p=Math.max(p,e.left),h=Math.min(h,e.right)}let f=Math.abs(u-m)>100&&n<=u&&u<=a?u:m;f=Math.max(p,Math.min(h,f)),J((e=>(0,o.Z)((0,o.Z)({},e),{},{firstHighlightShown:!0,show:!Le||!le(),left:f-r.left,top:s-r.top,selectionRect:{left:f-r.left,top:s-r.top,width:c,height:d}})))}})),We=()=>{Ue?z&&z():ne(Ge())},je=()=>{if(!Oe.current)return null;const t=!s&&!Ue&&(0,se.QA)(Oe.current,e)||Ue&&v,n=r.createElement(c.xs,{to:[D.l]},(n=>r.createElement(m.Z,{appearance:"subtle","data-key":"com.atlassian.confluence.plugins.confluence-inline-comments:create-inline-comment",iconBefore:r.createElement(h.default,{size:"medium",label:""}),isDisabled:!t,testId:"createInlineCommentButton",onClick:()=>{(t=>{Q?t.showDialog(U.v,{onConfirm:()=>We()}):We(),me({type:"sendUIEvent",data:{source:"highlightActionsMenu",action:"clicked",actionSubject:"button",actionSubjectId:"createInlineCommentFromHighlightActionsMenu",type:"ui",attributes:{contentId:e,pageMode:"view"}}}).fire()})(n)}},r.createElement(l.Z,{id:"highlight-actions.inline-comments.comment",defaultMessage:"Comment"}))));return t?r.createElement(r.Fragment,{key:"inline-comment-button"},n):r.createElement(f.Z,{delay:0,position:"top",content:s?r.createElement(l.Z,{id:"highlight-actions.inline-comments.comment.unsupported.archive",defaultMessage:"Comments can't be added to archived pages"}):r.createElement(l.Z,{id:"highlight-actions.inline-comments.comment.unsupported",defaultMessage:"Comments can only be added to text that doesn’t contain an emoji, a macro, or an @mention"})},r.createElement(ee.zp,{key:"inline-comment-button"},r.createElement(ee.Tv,null),n))},Ve=t=>{const a=[];n&&a.push(je()),He&&a.push((()=>{if(!Oe.current)return null;const t=(0,se.rx)(),n=(0,se.q9)(String(window.getSelection())).replace(/\n/," ").trim(),a=n.split(/\s+/).length>5,i=a&&"disabled"===Ae||"spotlight"===Ae,s=r.createElement(y.Z,{name:G.READING_AIDS_CHANGEBOARDING_SPOTLIGHT_ID},r.createElement(m.Z,{appearance:"subtle",isDisabled:i,iconBefore:r.createElement(xe,{size:"large",greyed:i}),onClick:()=>{t&&n&&(he&&ue.start({name:S.rOj,attributes:{contentId:e,source:"defineButton"}}),J((e=>(0,o.Z)((0,o.Z)((0,o.Z)({},e),a&&"idle"===Ae?{readingAidsChangeboardingStep:"modal-word-count"}:{isReadingAidsOpen:!0}),{},{show:!1,activeSelection:{selectedText:n,selectedRange:t}}))),me({type:"sendUIEvent",data:{source:"highlightActionsMenu",action:"clicked",actionSubject:"button",actionSubjectId:"defineButton",type:"ui",attributes:{contentId:e,isAIOptedIn:he}}}).fire())}},r.createElement(l.Z,{id:"highlight-actions.define",defaultMessage:"Define"})));return i?r.createElement(f.Z,{delay:0,position:"top",content:r.createElement(l.Z,{id:"highlight-actions.define.unsupported",defaultMessage:"Highlight a term, acronym, or abbreviation"}),component:Ie},r.createElement(ee.zp,null,r.createElement(ee.Tv,null),s)):s})());const s=t.map((t=>{const{completeKey:n}=t;if("com.atlassian.confluence.plugins.confluence-jira-content:create-JIRA-issue-summary"===n)return(t=>Oe.current?r.createElement(m.Z,{appearance:"subtle",iconBefore:r.createElement(p.default,{size:"medium",label:""}),"data-key":t,testId:"createJiraIssueButton",onClick:ae(Oe.current,e,i||de)},r.createElement(l.Z,{id:"highlight-actions.create-issue",defaultMessage:"Create issue"})):null)(n)}));return r.createElement(ee.ey,{key:"built-in-actions"},(e=>{const{length:t}=e;return e.reduce(((e,n,o)=>(e.push(n),o!==t-1&&e.push(r.createElement(ee.iz,{key:`divider-${o}`})),e)),[])})([...a,...s]))};return r.createElement(r.Fragment,null,d&&r.createElement(Z.X,{error:d}),r.createElement(O.r,{moduleType:N.H$,render:(e,t,n)=>n&&!(0,X.LZ)(n)?r.createElement(Z.X,{error:n}):null}),Ee&&we&&!ve&&r.createElement(_e,{content:Oe.current,contentId:e,forgeExtension:Ee,activeSelection:we,onClose:()=>{J((e=>(0,o.Z)((0,o.Z)({},e),{},{forgeExtension:null})))}}),Re&&we&&!ve&&r.createElement(B,{selectedText:we.selectedText,selectionRect:Ze,isReadingAidsOpen:Re,onClose:()=>{J((e=>(0,o.Z)((0,o.Z)({},e),{},{isReadingAidsOpen:!1})))},contentId:e,popupPortalContainerId:Y.z,onResult:e=>{var t;"idle"===Ae&&(null!=e&&null!==(t=e.data)&&void 0!==t&&null!==(t=t.nlpSearch)&&void 0!==t&&null!==(t=t.errorState)&&void 0!==t&&t.startsWith("NO_ANSWER")?J((e=>(0,o.Z)((0,o.Z)({},e),{},{isReadingAidsOpen:!1,readingAidsChangeboardingStep:"modal-undefined"}))):ze())}}),r.createElement(C.Z,null,Ae.startsWith("modal")?r.createElement($,{onNextClick:()=>{J((e=>(0,o.Z)((0,o.Z)({},e),{},{readingAidsChangeboardingStep:"spotlight",show:!0})))},modalVersion:Ae,contentId:e}):null),r.createElement(x.Z,null,"spotlight"===Ae?r.createElement(K,{contentId:e,onGotItClick:ze}):null),r.createElement(ie.Provider,{value:Be},r.createElement("div",{key:"content-container",ref:Oe},t)),r.createElement(R.S,{attribution:A.x.BACKBONE},Ue||ve?r.createElement(r.Fragment,null,r.createElement(_.U,{id:e,name:S.WHz}),r.createElement(I.p,{key:"action-panel",contentId:e,location:w.G5,fetchPolicy:"cache-first"},(({webItems:t})=>r.createElement(O.r,{moduleType:N.H$,render:(n,a,i)=>{return a?null:i?(0,X.LZ)(i)?null:r.createElement(Z.X,{error:i}):(s=((e,t=[])=>{const n=e.filter((e=>be.includes(e.completeKey))),a=e.filter((e=>!Se.includes(e.completeKey)));return[Ve(n),r.createElement(fe,{key:"other-components",connectItems:a,forgeItems:t,selectForgeExtension:e=>{const t=(0,se.rx)();if(!t)return;const n=(0,se.q9)(String(t)).trim();n&&J((a=>(0,o.Z)((0,o.Z)({},a),{},{forgeExtension:e,activeSelection:{selectedText:n,selectedRange:t}})))}})]})(t,n),s.length?r.createElement(c.xs,{to:[H.S]},(t=>{let n=0;const o=(0,se.rx)();if(o){const e=(0,se.Y4)(o.commonAncestorContainer);e&&t&&(n=t.getTotalHeight()+e.clientHeight)}return ke.current||me({type:"sendScreenEvent",data:{name:"highlightActionsMenu",attributes:{contentId:e}}}).fire(),ke.current=!0,r.createElement(r.Fragment,null,g?r.createElement(te,{top:n+g.top,left:g.left},s):r.createElement(te,{top:n+ye,left:Ce},s),r.createElement(T.F,{name:S.WHz}))})):null);var s}})))):null))};we.displayName="HighlightActions"},637870:(e,t,n)=>{"use strict";n.d(t,{T:()=>d,z:()=>s});var o=n(946972),a=n(840506),r=n(752640);const i=(0,o.Z)("div",{target:"ey842mh0"})({name:"1vvjfz3",styles:"position:relative;overflow:visible;z-index:14;"}),s="highlight-actions-portal-container";let l;function c(e){e!==l&&(l=e,window.dispatchEvent(new CustomEvent("highlight-actions.container.resized")))}const d=()=>a.createElement(i,{id:s},a.createElement(r.K,{setWidth:c}));d.displayName="HighlightActionsProvider"},58305:(e,t,n)=>{"use strict";n.d(t,{H1:()=>d,Iw:()=>r,Wx:()=>c});var o=n(683607),a=n(958879);const r=[".user-mention","[data-mention-id]",".ap-container",'a[href^="/"]','.conf-macro[data-hasbody="false"]',".status-lozenge-span",".date-lozenger-container",'[data-inline-card="true"]',".inlineCardView-content-wrap",".smart-link-title-wrapper",".jira-issue",".ak-renderer-extension-overflow-container button",'[data-node-type="expand"] > button','[data-node-type="nestedExpand"] > button',".jira-issues",".datasource-table","[data-type='file']",".code-block",'.conf-macro[data-macro-name="code"]',".pm-table-sticky-wrapper",".blockCardView-content-wrap",".ak-excerpt-include","#view-all-inline-comments-container","s","[data-emoji-id]","[data-mark-type='dataConsumer']","#reattach-container","[extensionkey='gadget']","span[data-placeholder]","[contenteditable='false']","[data-node-type='include']"].join(",");function i(e){return $("<div>").append(e.cloneContents()).html()}function s(e){if(e.commonAncestorContainer){const t=e.commonAncestorContainer;return 3===t.nodeType?t.parentNode:t}}function l(e){const t=window.scrollY,n=window.scrollX;let o=e.getClientRects();if(!o.length&&e.parentElement&&e.parentElement()){const a=$(e.parentElement()),r=a.offset();r&&(o=[{top:r.top-t,left:r.left-n,bottom:r.top+(a.height()||0),right:r.left+(a.width()||0)}])}const a=function(e,t){const n={first:t[0],last:t[t.length-1]};return"undefined"!==e.endOffset&&0===e.endOffset&&t.length>1&&(n.last=t[t.length-2]),n}(e,o);return{first:function(e){const o={};return e?(o.width=e.right-e.left,o.height=e.bottom-e.top,o.left=e.left+n,o.right=e.right+n,o.top=e.top+t,o.bottom=e.bottom+t,o):o}(a.first),average:function(e,o){const a={};return a.top=e.top,a.left=(e.left||0)+n,a.bottom=o.bottom,void 0!==e.left&&void 0!==e.right&&void 0!==o.left&&void 0!==o.right&&(e.left>=o.right?a.right=e.right:a.right=o.right),a.right=(a.right||0)+n,a.top=(a.top||0)+t,a.bottom=(a.bottom||0)+t,a.width=a.right-a.left,a.height=a.bottom-a.top,a}(a.first,a.last)}}function c(e,t,n,c,d){const u=function(e){return(0,o.q9)(String(e))}(t),m=u.trim();let p;return m&&(p=function(e,t,n,o,i){const s=Array.from(e.querySelectorAll(".pm-table-sticky-wrapper")),l=Array.from(e.querySelectorAll(r)),{text:c,nodesStartPos:d,nodes:u}=(0,a.nA)(e,[...l,...s]),{index:m,numMatches:p,matchTraceList:h}=(0,a.JD)(c,t,n.startContainer,n.startOffset,d,u,i),g={pageId:o,selectedText:t,index:m,numMatches:p};return h&&(g.matchTraceList=h),g}(e,u,t,n,d)),d?p.matchTraceList:{text:m,searchText:p,area:l(t),html:i(t),containingElement:s(t),range:t,lastModified:c}}function d(e,t,n){return c(e,t,n,null,!0)||[]}},958879:(e,t,n)=>{"use strict";n.d(t,{JD:()=>l,nA:()=>i});var o=n(683607);const a=3;function r(e,t,n){const o=Math.min(n,e.length-1);let a=o,r=e.length;for(;a<r;){const n=a+r>>1;e[n]<=t?a=n+1:r=n}return Math.max(a-1,o)}function i(e,t){let n,a="";const r=[],i=[],s=e=>t.some((t=>t===e||t.contains(e)))?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT;s.acceptNode=s;const l=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,s,!1);for(;n=l.nextNode();){const e=(0,o.q9)(n.nodeValue);(/^\u0020+$/.test(e)||e.trim())&&(r.push(a.length),i.push(n),a+=e)}return{text:a,nodesStartPos:r,nodes:i}}function s(e){return e&&e.nodeValue?e.nodeValue.length:0}function l(e,t,n,o,i,l,c){const d=[];if(!n)return{numMatches:0,index:-1,matchTraceList:null};let u=0,m=0,p=0,h=-1,g=0;for(;-1!==(p=e.indexOf(t,u));){const e=r(i,p,m),t=l[e];let f=n;if(f.nodeType===a&&o>=s(f)&&(o-=s(f),f=n.nextSibling),f&&(f.nodeType===a&&t===f||f.nodeType!==a&&f.contains(t))){p-i[e]<=o&&(h=g)}if(c){let e=t.parentElement;const n=[];for(;e&&"content"!==e.getAttribute("id");){let t="",o="";const{tagName:a}=e,r=e.classList?e.classList.value:"",i=e.getAttributeNames().filter((e=>-1!==e.indexOf("data-")));r.length&&(t=`.${r.split(" ").join(".")}`),i.length&&i.forEach((t=>{if("data-macro-body"!==t&&"data-title"!==t){var n;const a=null===(n=e)||void 0===n?void 0:n.getAttribute(t);o+=`[${t}="${a}"]`}else o+=`[${t}]`})),n.unshift(`${a}${t}${o}`),e=e.parentElement}d.push(n.join(" > "))}g++,u=p+1,m=e}return{numMatches:g,index:h,matchTraceList:d.length?d:null}}},601038:(e,t,n)=>{"use strict";n.d(t,{SM:()=>c,TJ:()=>d,Tv:()=>s,Z:()=>u,Zs:()=>m,ey:()=>r,hV:()=>l,iz:()=>p,qO:()=>g,y4:()=>h,zp:()=>i});var o=n(946972),a=n(16728);const r=(0,o.Z)("div",{target:"e1budx9x0"})("padding:var(--ds-space-025, 2px);display:flex;border-right:1px solid ",`var(--ds-border, ${a.gt})`,';& > button,& > button:hover{margin:var(--ds-space-025, 2px) var(--ds-space-100, 8px);height:inherit;line-height:normal;display:flex;align-items:center;& > span:last-of-type{margin-bottom:var(--ds-space-025, 2px);}}& > button:last-of-type span[role="presentation"]{height:20px;width:20px;}'),i=(0,o.Z)("div",{target:"e1budx9x1"})({name:"79elbk",styles:"position:relative;"}),s=(0,o.Z)("div",{target:"e1budx9x2"})({name:"1p9an6o",styles:"position:absolute;width:100%;height:100%;z-index:1000;background-color:transparent;cursor:not-allowed;"}),l=(0,o.Z)("span",{target:"e1budx9x3"})((({top:e,left:t,width:n,height:o})=>({opacity:0,position:"absolute",pointerEvents:"none",top:e,left:t,width:n,height:o})),""),c=(0,o.Z)("div",{target:"e1budx9x4"})({name:"14tmvs0",styles:"padding:var(--ds-space-250, 20px);max-width:500px;max-height:500px;"}),d=(0,o.Z)("div",{target:"e1budx9x5"})({display:"flex",flexDirection:"column",paddingTop:"var(--ds-space-100, 8px)",paddingBottom:"var(--ds-space-100, 8px)",margin:"var(--ds-space-negative-200, -16px) var(--ds-space-negative-300, -24px)",overflowY:"auto",maxHeight:300,maxWidth:300},""),u=(0,o.Z)("img",{target:"e1budx9x6"})({name:"1m01c8l",styles:"height:24px;width:24px;"}),m=(0,o.Z)("div",{target:"e1budx9x7"})({width:24,height:24,borderRadius:"50%",backgroundColor:`var(--ds-background-disabled, ${a.IR})`,display:"flex",alignItems:"center",justifyContent:"space-around"},""),p=(0,o.Z)("div",{target:"e1budx9x8"})({margin:"5px var(--ds-space-025, 2px)",width:1,backgroundColor:`var(--ds-border, ${a.gt})`},""),h=(0,o.Z)("div",{target:"e1budx9x9"})({name:"y7xd18",styles:"@keyframes popup{0%{opacity:0;}100%{opacity:1;}}position:absolute;transition:top 100ms ease-out,left 100ms ease-out;animation:popup 100ms forwards linear;"}),g=(0,o.Z)("div",{target:"e1budx9x10"})((({left:e=0})=>({transform:"translate(calc(-50% - 5px), calc(-100% - 20px))",boxShadow:"var(--ds-shadow-overlay, 0px 3px 5px rgba(9, 30, 66, 0.2), 0px 0px 1px rgba(9, 30, 66, 0.31))",borderRadius:3,position:"absolute",top:0,left:e,backgroundColor:"var(--ds-surface-overlay, #fff)",display:"flex"})),"")},683607:(e,t,n)=>{"use strict";n.d(t,{QA:()=>i,Y4:()=>d,q9:()=>s,rP:()=>c,rx:()=>l});var o=n(614889),a=n(58305);const r=(0,o.j)("highlight-action"),i=(e,t)=>{const n=window.getSelection();if(!n||"None"===(null==n?void 0:n.type))return!1;let o;try{o=(0,a.Wx)(e,n.getRangeAt(0),t)}catch(c){r.error`An error occurred while highlighting content - ${c}`}if(!o||!o.searchText)return!1;const{searchText:{selectedText:i,index:s,numMatches:l}}=o;return i.replace(/\n/g,"").length>0&&-1!==s&&l>0&&s<l},s=e=>e.replace(/\u00a0/g," "),l=()=>{const e=window.getSelection();if(!e||e.isCollapsed)return null;const t=e.getRangeAt(0);return String(t).trim()?t:null},c=e=>e?3!==e.nodeType&&e.scrollWidth>e.clientWidth?e:c(e.parentNode):null,d=e=>e?1===e.nodeType&&e.classList.contains("pm-table-sticky-wrapper")?e:e.parentElement?d(e.parentElement):null:null},666241:(e,t,n)=>{"use strict";function o(e,t,n){!e()&&t&&setTimeout((()=>o(e,t-1,n)),n)}function a(e){if(!e||!e.length)return;let t="#"===e[0]?e:`#${e}`;return function(e){return e.startsWith("ari:cloud:ecosystem::extension")}(e)&&(t=function(e){return e.replace(/\//g,"\\/").replace(/:/g,"\\:")}(t)),t}function r(e){const t=document.querySelector(e);"true"===t.getAttribute("aria-expanded")||t.click()}function i(e){const t=a(e);t&&o((()=>{const e=document.querySelector(t);if(e)return e.click(),!0}),100,5)}function s(e){var t;const n=a(e);if(!n)return;const o=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0});null===(t=document.querySelector(n))||void 0===t||t.dispatchEvent(o)}function l(){r("#tools-menu-trigger")}function c(){r("#context-menu-other-apps")}n.d(t,{GD:()=>l,Zo:()=>i,c$:()=>s,gI:()=>c})},446251:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var o=n(840506),a=n(284186),r=n(734233);const i=()=>{const{match:e}=(0,o.useContext)(r.M);return!!e&&(e.name===a.uV.name||e.name===a.tz.name)}},219263:(e,t,n)=>{"use strict";n.d(t,{E:()=>x});var o=n(840506),a=n(167347),r=n(410941),i=n(170560),s=n(634554),l=n(722755),c=n(627521),d=n(582463),u=n(649233),m=n(483647),p=n(446251);const h=n(779076).ZP`query GeneralShortcutsEnabledQuery@experimental{experimentalKeyboardShortcutsStatus{enabled}}`;var g=n(953901),f=n(486889),v=n(381484);const y=(0,o.memo)((({accelerator:e,listener:t})=>{const{createAnalyticsEvent:n}=(0,f._)(),a=(0,o.useCallback)((o=>{const a="string"==typeof e?e:e.find((e=>e.endsWith(o.key)))||e[0];!1!==t(o)&&n({type:"sendUIEvent",data:{action:"pressed",actionSubject:"keyboardShortcut",source:"globalNavigation",attributes:{key:a,navVersion:"3",navdexPointType:v.yo}}}).fire()}),[n,t,e]);return o.createElement(g.S,{accelerator:e,listener:a})}));var C=n(188225);const x=({accelerator:e,listener:t,isAppNavigationShortcut:n=!1,shortcutType:f=g.P.Confluence,allowInDialog:v=!1})=>{var x,E;const[b,S]=(0,o.useState)(!1),{isLoggedIn:T,isLicensed:_}=(0,d.D)(),I=(0,p.d)(),[w]=(0,r.d)(),Z=(0,i.k)(),[,R]=(0,C.B)(),A=I||Z&&w.isLive,O=!T||!_||b||A,{loading:N,error:k,data:H}=(0,a.aM)(h,{skip:O,onError(e){var t;const n=null==e||null===(t=e.graphQLErrors)||void 0===t?void 0:t.some((e=>(0,s.j6)(e,"401")||(0,l.T)(e)));S(n),(n||(0,m.S)(e))&&(0,u.Xb)(e)}});if((0,o.useEffect)((()=>{var e;const t=null==H||null===(e=H.experimentalKeyboardShortcutsStatus)||void 0===e?void 0:e.enabled;R.setKeyboardShortcutsEnabled(t)}),[null==H||null===(x=H.experimentalKeyboardShortcutsStatus)||void 0===x?void 0:x.enabled,R]),N)return null;if(k)return(0,s.j6)(k,"401")||(0,l.T)(k)||(0,m.S)(k)?((0,u.Xb)(k),null):o.createElement(c.X,{error:k});return(null==H||null===(E=H.experimentalKeyboardShortcutsStatus)||void 0===E?void 0:E.enabled)?n?o.createElement(y,{accelerator:e,listener:t}):o.createElement(g.S,{accelerator:e,listener:t,shortcutType:f,allowInDialog:v}):null}},15325:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AI_MATE_SHORTCUT:()=>I,AUTOMATION_SHORTCUT:()=>M,BLOG_SHORTCUT:()=>s,BROWSER_SAVE_SHORTCUT:()=>a,CLOSE_INLINE_COMMENTS_SHORTCUT:()=>A,COMMENT_EDITOR_SHORTCUT:()=>r,CREATE_COMMENT_SHORTCUT:()=>d,EDITOR2_SHORTCUTS:()=>o,EDIT_SHORTCUT:()=>m,GLOBAL_CREATE_SHORTCUT:()=>l,GO_HOME_SHORTCUT:()=>b,GO_TO_RECENT_SHORTCUT:()=>T,HELP_SHORTCUT:()=>H,INLINE_COMMENTS_SHORTCUT:()=>i,LABELS_SHORTCUT:()=>f,LINK_TO_THIS_PAGE_SHORTCUT:()=>u,NAVIGATION_SHORTCUT:()=>E,NAVIGATION_SLASH_SHORTCUT:()=>w,NEXT_COMMENT_SHORTCUT:()=>y,NEXT_TEMPLATE_SHORTCUT:()=>k,NOTIFICATIONS_SHORTCUT:()=>S,PRESENTATION_MODE_SHORTCUT:()=>p,PREV_COMMENT_SHORTCUT:()=>C,PREV_TEMPLATE_SHORTCUT:()=>N,SHARE_PAGE_SHORTCUT:()=>g,SIDE_NAVIGATION_SHORTCUT:()=>Z,SIDE_NAVIGATION_SHORTCUT_IN_EDIT:()=>R,SPACE_OVERVIEW_SHORTCUT:()=>_,STAR_BUTTON_SHORTCUT:()=>c,SUBMIT_FEEDBACK_SHORTCUT:()=>x,UNDO_SHORTCUT:()=>O,VIEW_ATTACHMENTS_SHORTCUT:()=>v,WATCH_PAGE_SHORTCUT:()=>h});const o={PUBLISH:"mod+enter",PUBLISH_WITH_COMMENT:"mod+shift+enter",EDIT:"e",PREVIEW:"mod+shift+e"},a="mod+s",r="command+enter",i="mod+enter",s="b",l="c",c="f",d="m",u="k",m="e",p="r",h="w",g="s",f="l",v="t",y="n",C="p",x="g f",E="g g",b="g d",S="g n",T="g r",_="g s",I="g a",w="/",Z="[",R="ctrl+[",A="]",O="mod+z",N="left",k="right",H="?",M="a"},145183:(e,t,n)=>{"use strict";n.d(t,{j3:()=>r,Mm:()=>i,qX:()=>s,fK:()=>l,HU:()=>c});var o=n(15325);const a=(e,t)=>("string"==typeof t?e.push(t):"object"==typeof t&&e.push(...Object.values(t).reduce(a,[])),e),r="shortcuts-are-allowed",i="shortcuts-are-allowed-in-modal",s=["ProseMirror-focused",r],l=[i],c=Object.values(o).reduce(a,[])},188225:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});var o=n(834232),a=n(944547);const r=(0,o.M)({initialState:{areKeyboardShortcutsEnabled:!1},actions:{setKeyboardShortcutsEnabled:e=>({setState:t})=>{t({areKeyboardShortcutsEnabled:e})}},name:"areKeyboardShortcutsEnabled"}),i=(0,a.Bi)(r,{selector:e=>e.areKeyboardShortcutsEnabled})},329323:(e,t,n)=>{"use strict";n.d(t,{p:()=>b});var o=n(615919),a=n(199009),r=n(840506),i=n(911492),s=n(382539),l=n.n(s),c=n(335097),d=n.n(c),u=n(722755),m=n(627521),p=n(649233),h=n(872342),g=n(920839),f=n(767001),v=n(608888);const y=["as","style"];n(494929),n(408475),n(502175),n(141428),n(162762),n(546814),n(315755),n(846669),n(480862),n(576998),n(526421),n(264481),n(85017),n(779838),n(507819),n(569862),n(563952);const C=(0,r.forwardRef)(((e,t)=>{let{as:n="div",style:a}=e,i=(0,h.Z)(e,y);return r.createElement(n,(0,o.Z)((0,o.Z)({},i),{},{style:(0,o.Z)((0,o.Z)({},a),{},{"--_1nvt7kj":(0,g.Z)("var(--ds-space-050, 4px)")}),ref:t,className:(0,f.Z)(["_1e0c1o8l _15y51o8l _4wh61h6o _e8hjusvi _ydux1t0q _oun6okh7 _t1661o8l _18411kw7 _3t5xdlk8 _qjtikklf _19ebiio8 _gcxq1m0b _10v91r31 _62naglyw _7b6anqa1 _1cg81q9y _1gxg1q9c",i.className])}))}));class x extends r.Component{constructor(...e){super(...e),(0,a.Z)(this,"state",{superBatchLoaded:!1}),(0,a.Z)(this,"mounted",!1)}componentDidMount(){this.mounted=!0;const{webItems:e,onLoad:t,waitForSuperBatch:n}=this.props;t&&t({webItems:e}),n&&(0,v.n)().then((()=>{this.mounted&&this.setState({superBatchLoaded:!0})}))}componentWillUnmount(){this.mounted=!1}render(){var e;const{id:t,tagName:n,className:o,style:a,children:i,webItems:s,webSections:l,location:c,contentId:d,waitForSuperBatch:u}=this.props;if(u&&!this.state.superBatchLoaded)return null;const m={"data-webitem-location":c,"data-content-id":d,children:"function"==typeof i?i({webItems:s,webSections:l}):null};return t&&(m.id=t),o&&(m.className=o),a&&(m.style=a),"aui-button-subtle"===(null==m||null===(e=m.children)||void 0===e||null===(e=e.props)||void 0===e?void 0:e.buttonType)?r.createElement(C,null,r.createElement(n,m)):r.createElement(n,m)}}x.displayName="WebItemLocationComponent",(0,a.Z)(x,"defaultProps",{tagName:"div"});var E=n(806976);class b extends r.Component{constructor(...e){super(...e),(0,a.Z)(this,"experienceSuccess",(e=>{this.props.experienceSuccess&&this.props.experienceSuccess(e)}))}render(){const{location:e,children:t,onLoad:n,hasMultipleSections:a,renderWhenLoading:s,allowedWebItems:c,notAllowedWebItems:h,fetchPolicy:g="cache-and-network",spaceKey:f,contentId:v,id:y,className:C,style:b,tagName:S,version:T,waitForSuperBatch:_}=this.props,I={location:Array.isArray(e)?null:e,locations:Array.isArray(e)?e:[],contentId:v||null,spaceKey:f||null,version:T||null};return r.createElement(i.AE,{query:E.W,variables:I,fetchPolicy:g},(({data:i,loading:g,error:f})=>{var v;if(g&&!i)return s&&"function"==typeof t?t({loading:g,webItems:[],webSections:[]}):null;if(f)return(0,u.T)(f)?((0,p.Xb)(f),null):r.createElement(m.X,{error:f});let E=(null!==(v=null==i?void 0:i.webItemSections)&&void 0!==v?v:[]).reduce(((e,t)=>e.concat((t.items||[]).map((e=>(0,o.Z)((0,o.Z)({},e),{},{parentSection:{label:t.label||t.styleClass}}))))),[]);E=l()(E,"completeKey"),c&&(E=E.filter((e=>c.includes(e.completeKey)))),h&&(E=E.filter((e=>!h.includes(e.completeKey)))),E.forEach((e=>{const t={};if(Array.isArray(e.params)&&(e.params.forEach((e=>{t[e.key]=e.value})),e.params=t),e.section&&-1!==e.section.indexOf("/")){const t=e.section.split("/");e.webSection=t[1]}}));const T=E;let I=[];return a&&(I=d()(T.map((e=>e.section)))),T.sort(((e,t)=>e.weight-t.weight==0?e.label.localeCompare(t.label):e.weight-t.weight)),g||this.experienceSuccess(!0),r.createElement(x,{id:y,className:C,style:b,tagName:S,location:e,webItems:T,webSections:I,onLoad:n,waitForSuperBatch:_},t)}))}}b.displayName="WebItemLocation"},806976:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});const o=n(779076).ZP`query WebItemLocationQuery($location:String$locations:[String]$contentId:ID$spaceKey:String$version:Int){webItemSections(location:$location locations:$locations contentId:$contentId key:$spaceKey version:$version){id label cacheKey styleClass items{accessKey completeKey hasCondition id icon{height width path}params{key value}label moduleKey section styleClass tooltip url urlWithoutContextPath weight}}}`},862545:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var o=n(615919),a=n(872342),r=n(840506),i=n(32807);const s=["analyticsContext"],l=e=>t=>{const n=(0,r.forwardRef)(((n,l)=>{let{analyticsContext:c}=n,d=(0,a.Z)(n,s);const u=(0,r.useMemo)((()=>(0,o.Z)((0,o.Z)({},e),c)),[c]);return r.createElement(i.Z,{data:u},r.createElement(t,(0,o.Z)((0,o.Z)({},d),{},{ref:l})))}));return n.displayName=`WithAnalyticsContext(${t.displayName||t.name})`,n}},123672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=e=>t=>n=>{const o=n(t),a=o.clone();return a&&a.fire(e),o}},332799:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var o=n(615919),a=n(872342),r=n(39030),i=n(840506);const s=(0,i.createContext)(0),l=()=>(0,i.useContext)(s),c=e=>{const t=l();return[t,t&&(t>6?"div":`h${t}`)||e]},d=({children:e,value:t})=>{const n=l()+1;return i.createElement(s.Provider,{value:t||n},e)};d.displayName="HeadingLevelContextProvider";const u={xxlarge:"h1",xlarge:"h1",large:"h2",medium:"h3",small:"h4",xsmall:"h5",xxsmall:"h6"},m=(0,r.iv)({color:"var(--ds-text, #172B4D)",letterSpacing:"normal",marginBlock:0,textTransform:"none"}),p=(0,r.iv)({color:"var(--ds-text-inverse, #FFF)"}),h=({children:e,variant:t,id:n,testId:o,as:a,color:i="default"})=>{const[s,l]=c(u[t]),d=a||l,h="div"===d&&s;return(0,r.tZ)(d,{id:n,"data-testid":o,role:h?"heading":void 0,"aria-level":h?s:void 0,css:[m,t&&g[t],"inverse"===i&&p]},e)};h.displayName="Heading";const g={xxlarge:(0,r.iv)({font:'var(--ds-font-heading-xxlarge, normal 500 35px/40px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),xlarge:(0,r.iv)({font:'var(--ds-font-heading-xlarge, normal 600 29px/32px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),large:(0,r.iv)({font:'var(--ds-font-heading-large, normal 500 24px/28px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),medium:(0,r.iv)({font:'var(--ds-font-heading-medium, normal 500 20px/24px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),small:(0,r.iv)({font:'var(--ds-font-heading-small, normal 600 16px/20px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),xsmall:(0,r.iv)({font:'var(--ds-font-heading-xsmall, normal 600 14px/16px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),xxsmall:(0,r.iv)({font:'var(--ds-font-heading-xxsmall, normal 600 12px/16px ui-sans-serif, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'})},f=h,v=["level","variant"],y={h900:"h1",h800:"h1",h700:"h2",h600:"h3",h500:"h4",h400:"h5",h300:"h6",h200:"div",h100:"div"},C=(0,r.iv)({color:"var(--ds-text, #172B4D)",marginBlock:"var(--ds-space-0, 0px)"}),x=(0,r.iv)({fontSize:"var(--ds-font-size-600, 35px)",fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",lineHeight:"var(--ds-font-lineHeight-600, 40px)"}),E=(0,r.iv)({fontSize:"var(--ds-font-size-500, 29px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.01em",lineHeight:"var(--ds-font-lineHeight-500, 32px)"}),b=(0,r.iv)({fontSize:"var(--ds-font-size-400, 24px)",fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",lineHeight:"var(--ds-font-lineHeight-400, 28px)"}),S=(0,r.iv)({fontSize:"var(--ds-font-size-300, 20px)",fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.008em",lineHeight:"var(--ds-font-lineHeight-300, 24px)"}),T=(0,r.iv)({fontSize:"var(--ds-font-size-200, 16px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.006em",lineHeight:"var(--ds-font-lineHeight-200, 20px)"}),_=(0,r.iv)({fontSize:"var(--ds-font-size-100, 14px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.003em",lineHeight:"var(--ds-font-lineHeight-100, 16px)"}),I=(0,r.iv)({fontSize:"var(--ds-font-size-075, 12px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:0,lineHeight:"var(--ds-font-lineHeight-100, 16px)",textTransform:"uppercase"}),w=(0,r.iv)({fontSize:"var(--ds-font-size-075, 12px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:0,lineHeight:"var(--ds-font-lineHeight-100, 16px)"}),Z=(0,r.iv)({fontSize:"var(--ds-font-size-050, 11px)",fontWeight:"var(--ds-font-weight-bold, 700)",letterSpacing:0,lineHeight:"var(--ds-font-lineHeight-100, 16px)"}),R=(0,r.iv)({color:"var(--ds-text-inverse, #FFF)"}),A=(0,r.iv)({color:"var(--ds-text-subtlest, #6B778C)"}),O=({children:e,level:t,id:n,testId:o,as:a,color:i="default"})=>{const[s,l]=c(y[t]),d=a||l,u="h200"===t||"h100"===t,m="div"===d&&s;return(0,r.tZ)(d,{id:n,"data-testid":o,role:m?"heading":void 0,"aria-level":m?s:void 0,css:[C,"h100"===t&&Z,"h200"===t&&w,"h300"===t&&I,"h400"===t&&_,"h500"===t&&T,"h600"===t&&S,"h700"===t&&b,"h800"===t&&E,"h900"===t&&x,"inverse"===i&&R,"default"===i&&u&&A]},e)};O.displayName="Heading";const N=e=>{let{level:t,variant:n}=e,i=(0,a.Z)(e,v);return t?(0,r.tZ)(O,(0,o.Z)({level:t},i)):(0,r.tZ)(f,(0,o.Z)({variant:n},i))}},992577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(840506))&&o.__esModule?o:{default:o},r=n(340531);const i=e=>a.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13 11V3.993A.997.997 0 0012 3c-.556 0-1 .445-1 .993V11H3.993A.997.997 0 003 12c0 .557.445 1 .993 1H11v7.007c0 .548.448.993 1 .993.556 0 1-.445 1-.993V13h7.007A.997.997 0 0021 12c0-.556-.445-1-.993-1H13z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="AddIcon";var s=i;t.default=s},411947:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(840506))&&o.__esModule?o:{default:o},r=n(340531);const i=e=>a.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M4.998 11.513c0-3.038 3.141-5.51 7.002-5.51 3.861 0 7.002 2.472 7.002 5.51 0 3.039-3.141 5.51-7.002 5.51-3.861 0-7.002-2.471-7.002-5.51zm14.84 7.771v-.002s-1.564-2.26-.767-3.116l-.037.02C20.261 14.902 21 13.279 21 11.513 21 7.371 16.963 4 12 4s-9 3.37-9 7.513 4.037 7.514 9 7.514c1.42 0 2.76-.285 3.957-.776 1.003 1.022 2.287 1.572 3.24 1.719l.002-.003a.524.524 0 00.164.033.515.515 0 00.474-.716z"/><rect x="7" y="9" width="10" height="2" rx="1"/><rect x="7" y="12" width="5" height="2" rx="1"/></g></svg>'},e));i.displayName="CommentIcon";var s=i;t.default=s},953060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(840506))&&o.__esModule?o:{default:o},r=n(340531);const i=e=>a.default.createElement(r.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M19.41 3.041l.72-.72a1.095 1.095 0 111.55 1.548L3.87 21.68a1.095 1.095 0 11-1.55-1.55l.72-.72a2.005 2.005 0 01-.04-.405V4.995C3 3.893 3.893 3 4.995 3h14.01c.139 0 .274.014.405.041zM21 7.531v11.474A1.995 1.995 0 0119.005 21H7.53l3-3H18v-2.7l-2.271-2.498L21 7.53zM8 10a2 2 0 100-4 2 2 0 000 4z" fill="currentColor"/></svg>'},e));i.displayName="MediaServicesNoImageIcon";var s=i;t.default=s},791945:(e,t,n)=>{"use strict";n.d(t,{ZW:()=>c,i5:()=>i,jC:()=>r});var o=n(840506),a=n(319754);const r=(0,o.createContext)(0),i=(0,o.createContext)({topLevelRef:{current:null},setTopLevel:a.Z}),s=({children:e,currentLevel:t})=>{const{setTopLevel:n}=(0,o.useContext)(i);return n(t),(0,o.useEffect)((()=>()=>{setTimeout((()=>{n(t-1)}),0)}),[n,t]),o.createElement(r.Provider,{value:t},e)};s.displayName="LevelProvider";const l=({children:e})=>{const t=(0,o.useRef)(0),n=(0,o.useMemo)((()=>({topLevelRef:t,setTopLevel:e=>{t.current=e}})),[t]);return o.createElement(i.Provider,{value:n},e)};l.displayName="LayeringProvider";const c=({children:e,isDisabled:t=!0})=>{const n=(0,o.useContext)(r);if(t)return o.createElement(o.Fragment,null,e);const a=n>0,i=o.createElement(s,{currentLevel:n+1},e);return a?i:o.createElement(l,null,i)}},259612:(e,t,n)=>{"use strict";n.d(t,{J:()=>l,f:()=>s});var o=n(840506),a=n(393242),r=n(791945);const i="Escape";function s({onClose:e,isDisabled:t}){const n=(0,o.useRef)(!1),{isLayerDisabled:r}=l(),s=(0,o.useCallback)((o=>{const a=r();t||n.current||o.key!==i||a||(n.current=!0,e(o))}),[e,t,r]),c=(0,o.useCallback)((()=>{n.current=!1}),[]);(0,o.useEffect)((()=>(0,a.Ev)(document,[{type:"keydown",listener:s},{type:"keyup",listener:c}],{capture:!1})),[s,c])}function l(){const e=(0,o.useContext)(r.jC),{topLevelRef:t}=(0,o.useContext)(r.i5),n=(0,o.useCallback)((()=>!!t.current&&e!==t.current),[e,t]);return{currentLevel:e,topLevelRef:t,isLayerDisabled:n}}},587499:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var o=n(840506),a=n(227318);const r=e=>o.createElement(a.Z,{appear:!0},e.children);r.displayName="ModalTransition";const i=r},770144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(840506),a=n(253594),r=n(316612);const i=({children:e,name:t})=>o.createElement(r.l4,null,(n=>n?o.createElement(a.Z,{innerRef:n(t)},o.createElement(o.Fragment,null,e)):e));i.displayName="SpotlightTarget";const s=i},583990:(e,t,n)=>{"use strict";n.d(t,{GM:()=>C,MV:()=>f,Xn:()=>y});var o=n(615919),a=n(872342),r=n(39030),i=n(16728),s=n(2142);const l=["children","bgColor","radius","style","testId"],c=["children","pulse"],d=["children","pulse","testId"],u=`0 0 0 2px var(--ds-border-discovery, ${i.Wn})`,m=(0,r.F4)({"0%, 33%":{boxShadow:`${u}, 0 0 0 var(--ds-border-discovery, rgba(101, 84, 192, 1))`},"66%, 100%":{boxShadow:`${u}, 0 0 0 10px rgba(101, 84, 192, 0.01)`}}),p=(m.name,(0,r.iv)({animation:`${m} 3000ms cubic-bezier(0.55, 0.055, 0.675, 0.19) infinite`})),h=(0,r.iv)({zIndex:s.ug.spotlight()+1}),g=e=>{let{children:t,bgColor:n,radius:i,style:s,testId:c}=e,d=(0,a.Z)(e,l);return(0,r.tZ)("div",(0,o.Z)({css:h,"data-testid":c,style:(0,o.Z)((0,o.Z)({},s),{},{backgroundColor:n,borderRadius:i?`${i}px`:void 0})},d),t)};g.displayName="Base";const f=e=>{let{children:t,pulse:n}=e,i=(0,a.Z)(e,c);return(0,r.tZ)(g,(0,o.Z)((0,o.Z)({},i),{},{css:[n&&p]}),t)};f.displayName="TargetInner";const v=(0,r.iv)({width:"100%",height:"100%",position:"absolute",top:0,left:0}),y=e=>(0,r.tZ)("div",(0,o.Z)((0,o.Z)({},e),{},{css:v,style:{cursor:e.onClick?"pointer":"auto"}}));y.displayName="TargetOverlay";const C=e=>{let{children:t,pulse:n=!0,testId:i}=e,s=(0,a.Z)(e,d);return(0,r.tZ)(g,(0,o.Z)((0,o.Z)({},s),{},{css:[n&&p],testId:i}),t)};C.displayName="Pulse"},724093:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o=n(478201).G},478201:(e,t,n)=>{"use strict";n.d(t,{G:()=>N});var o=n(840506),a=n(39030),r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function i(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(o=e[n],a=t[n],!(o===a||r(o)&&r(a)))return!1;var o,a;return!0}var s=n(791945),l=n(129275),c=n(479198),d=n(136342),u=n(2142),m=n(615919),p=n(872342),h=n(259612),g=n(24359),f=n(379525),v=n(16728),y=n(507690);const C=({children:e,update:t})=>{const n=(0,o.useRef)(!0);return(0,o.useLayoutEffect)((()=>{n.current?n.current=!1:t()}),[t]),o.createElement(o.Fragment,null,e)};C.displayName="RepositionOnUpdate";var x=n(393242),E=n(319754);var b=n(747256),S=n.n(b);const T=["shouldRenderToParent","children"],_=(0,a.iv)({display:"block",boxSizing:"border-box",zIndex:u.ug.layer(),flex:"1 1 auto",backgroundColor:`var(--ds-surface-overlay, ${v.N0})`,borderRadius:"var(--ds-border-radius, 3px)",boxShadow:`var(--ds-shadow-overlay, 0 4px 8px -2px ${v.Nx}, 0 0 1px ${v.VG})`,[y.kO]:`var(--ds-surface-overlay, ${v.N0})`,":focus":{outline:"none"}}),I=(0,a.iv)({overflow:"auto"}),w=(0,a.iv)({"iframe:not([data-ds--level] iframe)":{pointerEvents:"none"}}),Z=(0,o.forwardRef)(((e,t)=>{const{shouldRenderToParent:n,children:o}=e,r=(0,p.Z)(e,T);return(0,a.tZ)("div",(0,m.Z)((0,m.Z)({css:[_,!n&&I]},r),{},{ref:t}),o)}));function R({isOpen:e,id:t,offset:n,testId:r,content:i,fallbackPlacements:s,onClose:l,boundary:c,rootBoundary:d,shouldFlip:u,placement:m="auto",popupComponent:p=Z,autoFocus:v=!0,triggerRef:y,shouldUseCaptureOnOutsideClick:b,shouldRenderToParent:T}){const[_,I]=(0,o.useState)(null),[R,A]=(0,o.useState)(null);(({initialFocusRef:e,popupRef:t})=>{(0,o.useEffect)((()=>{if(!t)return E.Z;const n={clickOutsideDeactivates:!0,escapeDeactivates:!0,initialFocus:e||t,fallbackFocus:t,returnFocusOnDeactivate:!0},o=S()(t,n);let a=null;return a=requestAnimationFrame((()=>{a=null,o.activate()})),()=>{null!=a&&(cancelAnimationFrame(a),a=null),o.deactivate()}}),[t,e])})({initialFocusRef:R,popupRef:_}),(({isOpen:e,onClose:t,popupRef:n,triggerRef:a,shouldUseCaptureOnOutsideClick:r})=>{const{isLayerDisabled:i}=(0,h.J)();(0,o.useEffect)((()=>{if(!e||!n)return E.Z;const o=e=>{t&&t(e)};return(0,x.Ev)(window,[{type:"click",listener:e=>{const{target:t}=e;if(!document.body.contains(t))return;const r=n&&n.contains(t),i=a&&a.contains(t);r||i||o(e)},options:{capture:r}},{type:"keydown",listener:e=>{if(i())return;const{key:t}=e;"Escape"!==t&&"Esc"!==t||o(e)}}])}),[e,t,n,a,r,i])})({isOpen:e,onClose:l,popupRef:_,triggerRef:y,shouldUseCaptureOnOutsideClick:b});const{currentLevel:O}=(0,h.J)(),N=(0,o.useMemo)((()=>[{name:"flip",enabled:u,options:{rootBoundary:d,boundary:c,fallbackPlacements:s}}]),[u,d,c,s]);return(0,a.tZ)(f.r,{placement:m,offset:n,modifiers:N},(({ref:n,style:o,placement:s,update:c})=>(0,a.tZ)(p,{id:t,"data-ds--level":O,"data-placement":s,"data-testid":r,ref:e=>{e&&("function"==typeof n?n(e):n.current=e,I(e))},style:o,tabIndex:v?0:void 0,shouldRenderToParent:T},(0,g.e)("platform.design-system-team.iframe_gojiv")&&(0,a.tZ)(a.xB,{styles:w}),(0,a.tZ)(C,{update:c},i({update:c,isOpen:e,onClose:l,setInitialFocusRef:A})))))}R.displayName="PopperWrapper";const A=R,O=u.ug.layer(),N=(0,o.memo)((({isOpen:e,id:t,offset:n,testId:r,trigger:u,content:m,onClose:p,boundary:h,rootBoundary:g="viewport",shouldFlip:f=!0,placement:v="auto",fallbackPlacements:y,popupComponent:C,autoFocus:x=!0,zIndex:E=O,shouldUseCaptureOnOutsideClick:b=!1,shouldRenderToParent:S=!1})=>{const[T,_]=(0,o.useState)(null),[I]=(0,o.useState)((()=>function(e,t){void 0===t&&(t=i);var n=null;function o(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(n&&n.lastThis===this&&t(o,n.lastArgs))return n.lastResult;var r=e.apply(this,o);return n={lastResult:r,lastArgs:o,lastThis:this},r}return o.clear=function(){n=null},o}(((e,t,n)=>o=>{o&&n&&("function"==typeof e?e(o):e&&(e.current=o),t(o))})))),w=(0,a.tZ)(s.ZW,{isDisabled:!1},(0,a.tZ)(A,{content:m,isOpen:e,placement:v,fallbackPlacements:y,boundary:h,rootBoundary:g,shouldFlip:f,offset:n,popupComponent:C,id:t,testId:r,onClose:p,autoFocus:x,shouldUseCaptureOnOutsideClick:b,shouldRenderToParent:S,triggerRef:T}));return(0,a.tZ)(l.dK,null,(0,a.tZ)(c.s,null,(({ref:n})=>u({ref:I(n,_,e),"aria-controls":t,"aria-expanded":e,"aria-haspopup":!0}))),e&&(S?w:(0,a.tZ)(d.Z,{zIndex:E},w)))}))},71825:(e,t,n)=>{"use strict";n.d(t,{LC:()=>l,pj:()=>s,Qj:()=>i,z0:()=>a,nz:()=>o,c:()=>r});const o=["Em","Link","Strike","String","Strong","User"],a=[...o,"Badge","Code","DateLozenge","StatusLozenge","Tag","UserGroup"];let r=function(e){return e.DEVELOPMENT="DEVELOPMENT",e.STAGING="STAGING",e.PRODUCTION="PRODUCTION",e}({}),i=function(e){return e.DEVELOPMENT="dev",e.STAGING="stg",e.PRODUCTION="prod",e.FEDRAMP_SANDBOX="fex",e}({}),s=function(e){return e.DEVELOPMENT="DEVELOPMENT",e.STAGING="STAGING",e.PRODUCTION="PRODUCTION",e}({});const l={BYLINE:"confluence:contentBylineItem",CONTEXT_MENU:"confluence:contextMenu",CONTENT_ACTION:"confluence:contentAction",GLOBAL_PAGE:"confluence:globalPage",GLOBAL_SETTINGS:"confluence:globalSettings",HOMEPAGE_FEED:"confluence:homepageFeed",SPACE_PAGE:"confluence:spacePage",SPACE_SETTINGS:"confluence:spaceSettings",CUSTOM_CONTENT:"confluence:customContent",TEST_MODULE:"test:module"}}}]);
//# sourceMappingURL=1943.-RZLtn67R4.js.map