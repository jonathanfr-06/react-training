(self._cf=self._cf||[]).push([[78248],{667385:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i=(0,r(840506).createContext)({getAtlaskitAnalyticsContext:()=>[],getAtlaskitAnalyticsEventHandlers:()=>[]})},936227:(e,t,r)=>{"use strict";var i,n,s;r.d(t,{d4:()=>s,ne:()=>n,vq:()=>i}),function(e){e.UNCAUGHT="fe.error.uncaught",e.REQUEST="fe.error.request",e.API="fe.error.api",e.GRAPHQL="fe.error.graphql",e.VALIDATION="fe.error.validation",e.INPUT="fe.error.input",e.UNHANDLED_PROMISE_REJECTION="fe.error.unhandledrejection",e.COMPONENT="fe.error.component",e.COMPONENT_BOUNDARY="fe.error.component.boundary",e.COMPONENT_GRAPHQL="fe.error.component.graphql",e.COMPONENT_API="fe.error.component.api"}(i||(i={})),function(e){e.APDEX="fe.perf.apdex",e.SPEED_INDEX="fe.perf.speedindex",e.TIME_TO_INTERACTIVE="fe.perf.time_to_interactive",e.TIME_TO_INTERACTIVE_SLO="fe.perf.time_to_interactive.slo",e.TIME_TO_FIRST_BYTE="fe.perf.time_to_first_byte",e.FIRST_PAINT="fe.perf.first_paint",e.FIRST_CONTENTFUL_PAINT="fe.perf.first_contentful_paint",e.FIRST_MEANINGFUL_PAINT="fe.perf.first_meaningful_paint",e.FIRST_MEANINGFUL_PAINT_SLO="fe.perf.first_meaningful_paint.slo",e.FIRST_INPUT_DELAY="fe.perf.first_input_delay",e.REQUEST_TIMING="fe.perf.request_timing",e.REQUEST_TIMING_SLO="fe.perf.request_timing.slo",e.RESOURCE_TIMING="fe.perf.resource_timing",e.CACHE_HITS="fe.perf.cache_hits",e.COMPONENT_PREVIEW="fe.perf.component.time_to_preview",e.COMPONENT_INTERACTIVE="fe.perf.component.time_to_interactive",e.COMPONENT_READY="fe.perf.component.time_to_ready",e.COMPONENT_READY_SLO="fe.perf.component.time_to_ready.slo",e.COMPONENT_REQUEST_TIMING="fe.perf.component.request_timing"}(n||(n={})),function(e){e.TASK_SUCCESS="fe.user.task.success",e.TASK_FAILURE="fe.user.task.failure",e.TASK_DURATION="fe.user.task.duration",e.TASK_TIME_TO_FEEDBACK="fe.user.task.time_to_feedback",e.TASK_TIME_TO_FEEDBACK_SLO="fe.user.task.time_to_feedback.slo",e.TASK_TIME_TO_COMPLETE="fe.user.task.time_to_complete",e.TASK_TIME_TO_COMPLETE_SLO="fe.user.task.time_to_complete.slo"}(s||(s={}))},351462:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i={api:{local:"https://api.stg.atlassian.com/metal/ingest",dev:"https://api.stg.atlassian.com/metal/ingest",staging:"https://api.stg.atlassian.com/metal/ingest",prod:"https://api.atlassian.com/metal/ingest"}}},87182:(e,t,r)=>{"use strict";r.d(t,{V:()=>i});var i={LOCAL:"local",DEV:"dev",STAGING:"staging",PROD:"prod"}},706221:(e,t,r)=>{"use strict";r.d(t,{J:()=>a,f:()=>o});var i=r(332209),n=r(7573),s=r(87182),a=function(e){if(!e.metalId)throw new Error("Missing metalId");if(!e)throw new Error("Missing productInfo");if(!e.env)throw new Error("Missing productInfo.env");if(!e.version)throw new Error("Missing productInfo.version");if(!(0,n.P9)(s.V,e.env))throw new Error("Invalid productInfo.env '"+e.env+"', must be an envType: ["+(0,n.TT)(s.V)+"]")},o=function(){var e;return(e={})[i.CoreType.METRIC]=[],e[i.CoreType.ERROR]=[],e}},998259:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v,envTypes:()=>E.V});var i=r(122970),n=r(490129),s=r.n(n),a=r(997925),o=r(954726),u=r(72935),c=r(331867),l=r(419872),d=r(834137),f=r(682500),p=r(332209),h=r(7573),m=r(351462),g=r(706221),I=r(699838),_={};for(const y in I)["default","envTypes"].indexOf(y)<0&&(_[y]=()=>I[y]);r.d(t,_);var E=r(87182),T={getPage:function(){return""},metrics:{flushInterval:1e3,maxBufferSize:10,sampleRate:1,bufferType:p.CoreType.METRIC}};const v=function(){function e(e){var t=this,r=e.productInfo,n=e.settings,p=void 0===n?T:n,h=e.plugins,I=void 0===h?[]:h,_=e.forceXHR,E=void 0!==_&&_;this.hooks=(0,g.f)(),(0,g.J)(r);var v=s()(T,p,{metrics:{meta:p.meta}});this.productInfo=r;var y=r.version,O=r.metalId,b=r.env;this.meta=(0,i.__assign)((0,i.__assign)((0,i.__assign)({},p.meta),{version:y,env:b}),(0,l.Z)()),this.sender=new a.Z({url:m.Z.api[b],metalId:O,meta:this.meta,synthetic:p.synthetic,forceXHR:E}),this.pageVisibility=new d.Z,this.pageTracker=new f.Z(v.getPage);var w=this.onSend.bind(this);this.metric=new o.Z({sender:this.sender,settings:v.metrics,hook:w,pageVisibility:this.pageVisibility}),this.error=new u.default({hook:w}),this.updateSettings=this.updateSettings.bind(this);var N=[new c.ErrorsPlugin];this.plugins=(0,i.__spread)(N,I),this.plugins.forEach((function(e){return e.install(t)}))}return e.prototype.updateSettings=function(e){e.meta&&(this.meta=(0,i.__assign)((0,i.__assign)({},this.meta),e.meta),this.sender.updateMeta(this.meta)),e.metrics&&this.metric.updateSettings(e.metrics)},Object.defineProperty(e.prototype,"initialPage",{get:function(){return this.pageTracker.initialPage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentPage",{get:function(){return this.pageTracker.page},enumerable:!1,configurable:!0}),e.prototype.addEventHook=function(e,t){if(!(0,h.P9)(p.CoreType,e))throw new Error("Invalid hook, must be a CoreType ["+(0,h.TT)(p.CoreType)+"]");this.hooks[e].push(t)},e.prototype.destroy=function(){this.plugins.forEach((function(e){return e.destroy&&e.destroy()}))},e.prototype.onSend=function(e){var t=this,r=e.type,i=e.data;this.hooks[r].forEach((function(e){return e(i,t.meta)}))},e}()},699838:()=>{},664916:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});const i=function(e){var t=e.hook;this.hook=t}},629157:(e,t,r)=>{"use strict";r.d(t,{m:()=>s,g:()=>i.default});var i=r(664916),n=r(122970);const s=function(){function e(e){var t=e.callbacks,r=void 0===t?[]:t;this.callbacks=[],this.callbacks=r.map((function(e){return e}))}return e.prototype.doCallbacks=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.callbacks.forEach((function(t){return t.apply(void 0,(0,n.__spread)(e))}))},e}()},682500:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=function(){return""};const n=function(){function e(e){void 0===e&&(e=i),this.initialPage="",this.initialPage=e(),this.getPage=e}return Object.defineProperty(e.prototype,"page",{get:function(){if(this.getPage){var e=this.getPage();return this.initialPage||(this.initialPage=e),e}return""},enumerable:!1,configurable:!0}),e}()},834137:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const i=function(){function e(){var e,t,r=this;this.callbacks=new Map,this.lastHiddenAt=0,this.bindEventListeners=function(){document.addEventListener(r.visibilityChange,r.handleVisibilityChange,!1)},this.handleVisibilityChange=function(){var e=document[r.hidden];r.documentHiddenInfo.isHidden=e,e&&(r.lastHiddenAt=performance.now()),r.wasPreviouslyHidden||(r.wasPreviouslyHidden=e),r.callbacks.forEach((function(t){return t(e)}))},this.documentHiddenInfo=(e=document,t={isHidden:!1,hidden:"undefined",visibilityChange:"undefined"},void 0!==e.hidden?(t.isHidden=e.hidden,t.hidden="hidden",t.visibilityChange="visibilitychange"):void 0!==e.msHidden?(t.isHidden=e.msHidden,t.hidden="msHidden",t.visibilityChange="msvisibilitychange"):void 0!==e.webkitHidden&&(t.isHidden=e.webkitHidden,t.hidden="webkitHidden",t.visibilityChange="webkitvisibilitychange"),t),this.wasPreviouslyHidden=this.documentHiddenInfo.isHidden,void 0!==document.addEventListener&&void 0!==this.hidden&&this.bindEventListeners()}return e.prototype.addCallback=function(e,t){if("string"!=typeof e)throw new Error("Invalid name, must be string");if("function"!=typeof t)throw new Error("Invalid callback, must be function");this.callbacks.set(e,t)},e.prototype.removeCallback=function(e){this.callbacks.has(e)&&this.callbacks.delete(e)},Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.documentHiddenInfo.isHidden},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hidden",{get:function(){return this.documentHiddenInfo.hidden},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibilityChange",{get:function(){return this.documentHiddenInfo.visibilityChange},enumerable:!1,configurable:!0}),e}()},419872:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var i,n,s,a=r(583852),o=a.Z.BROWSER_MAP,u=a.Z.OS_MAP,c=a.Z.PLATFORMS_MAP,l=((i={})[o.chrome]="chrome",i[o.chromium]="chromium",i[o.safari]="safari",i[o.firefox]="firefox",i[o.edge]="edge",i[o.ie]="ie",i),d=((n={})[c.desktop]="desktop",n[c.mobile]="mobile",n);const f={browser:l,os:((s={})[u.MacOS]="macos",s[u.Linux]="linux",s[u.Windows]="windows",s[u.iOS]="ios",s[u.Android]="android",s),platform:d};function p(e){var t=(void 0===e?{}:e).userAgentString,r=void 0===t?window.navigator.userAgent:t,i=a.Z.getParser(r);return{os:f.os[i.getOSName()]||"other",platform:f.platform[i.getPlatformType()]||"other",browser:f.browser[i.getBrowserName()]||"other"}}},7573:(e,t,r)=>{"use strict";r.d(t,{Ks:()=>o,P9:()=>u,TT:()=>a,Yd:()=>s,wH:()=>c});var i=r(438731),n=r.n(i),s=function(e){return Object.keys(e)},a=function(e){return s(e).map((function(t){return e[t]}))},o=function(e){return n()(e,(function(e){return String(e)}))},u=function(e,t){return a(e).indexOf(t)>-1},c=function(e,t){return s(e).indexOf(t)>-1}},731352:(e,t,r)=>{"use strict";r.d(t,{C:()=>i});performance.timeOrigin||(Date.now(),performance.now());var i=function(){return"PerformanceObserver"in window&&"function"==typeof PerformanceObserver}},872722:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var i=r(936227),n={error:i.vq,performance:i.ne,userInteraction:i.d4}},72935:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var i=r(122970),n=r(664916),s=r(332209),a=r(137898),o={};for(const c in a)"default"!==c&&(o[c]=()=>a[c]);r.d(t,o);const u=function(e){function t(t){var r=t.hook;return e.call(this,{hook:r})||this}return(0,i.__extends)(t,e),t.prototype.submit=function(e){this.hook({type:s.CoreType.ERROR,data:e})},t}(n.default)},137898:()=>{},332209:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CoreType:()=>s,PayloadType:()=>a.M});var i=r(72935),n={};for(const o in i)["default","CoreType"].indexOf(o)<0&&(n[o]=()=>i[o]);r.d(t,n);var s,a=r(954726);!function(e){e.METRIC="metric",e.ERROR="error"}(s||(s={}))},954726:(e,t,r)=>{"use strict";r.d(t,{M:()=>a,Z:()=>R});var i=r(122970),n=r(664916);const s=function(){function e(e,t){var r=this;this.buffer=[],this.settings=e,this.callback=t,this.intervalHandle=setInterval(this.flush.bind(this),this.settings.flushInterval),window.addEventListener("beforeunload",(function(){r.intervalHandle&&clearInterval(r.intervalHandle)}))}return e.prototype.flush=function(){this.callback(this.buffer,this.settings.bufferType),this.buffer=[]},e.prototype.enqueue=function(e){this.buffer.push(e);var t=this.settings.maxBufferSize;t>0&&this.buffer.length>=t&&this.flush()},e.prototype.updateSettings=function(e){this.settings=(0,i.__assign)((0,i.__assign)({},this.settings),e),e.flushInterval&&(clearInterval(this.intervalHandle),this.intervalHandle=setInterval(this.flush.bind(this),e.flushInterval))},e}();var a,o,u,c=r(332209),l=r(7573),d=r(936227);!function(e){e.TIMING="timing",e.GAUGE="gauge",e.INCREMENT="increment",e.DECREMENT="decrement"}(a||(a={}));var f=((o={})[d.vq.UNCAUGHT]=a.INCREMENT,o[d.vq.REQUEST]=a.INCREMENT,o[d.vq.API]=a.INCREMENT,o[d.vq.GRAPHQL]=a.INCREMENT,o[d.vq.VALIDATION]=a.INCREMENT,o[d.vq.INPUT]=a.INCREMENT,o[d.vq.UNHANDLED_PROMISE_REJECTION]=a.INCREMENT,o[d.vq.COMPONENT]=a.INCREMENT,o[d.vq.COMPONENT_BOUNDARY]=a.INCREMENT,o[d.vq.COMPONENT_GRAPHQL]=a.INCREMENT,o[d.vq.COMPONENT_API]=a.INCREMENT,o[d.ne.APDEX]=a.TIMING,o[d.ne.SPEED_INDEX]=a.TIMING,o[d.ne.TIME_TO_INTERACTIVE]=a.TIMING,o[d.ne.TIME_TO_INTERACTIVE_SLO]=a.INCREMENT,o[d.ne.TIME_TO_FIRST_BYTE]=a.TIMING,o[d.ne.FIRST_PAINT]=a.TIMING,o[d.ne.FIRST_CONTENTFUL_PAINT]=a.TIMING,o[d.ne.FIRST_MEANINGFUL_PAINT]=a.TIMING,o[d.ne.FIRST_MEANINGFUL_PAINT_SLO]=a.INCREMENT,o[d.ne.FIRST_INPUT_DELAY]=a.TIMING,o[d.ne.REQUEST_TIMING]=a.TIMING,o[d.ne.REQUEST_TIMING_SLO]=a.INCREMENT,o[d.ne.RESOURCE_TIMING]=a.TIMING,o[d.ne.CACHE_HITS]=a.INCREMENT,o[d.ne.COMPONENT_PREVIEW]=a.TIMING,o[d.ne.COMPONENT_INTERACTIVE]=a.TIMING,o[d.ne.COMPONENT_READY]=a.TIMING,o[d.ne.COMPONENT_READY_SLO]=a.INCREMENT,o[d.ne.COMPONENT_REQUEST_TIMING]=a.TIMING,o[d.d4.TASK_SUCCESS]=a.INCREMENT,o[d.d4.TASK_FAILURE]=a.INCREMENT,o[d.d4.TASK_DURATION]=a.TIMING,o[d.d4.TASK_TIME_TO_FEEDBACK]=a.TIMING,o[d.d4.TASK_TIME_TO_FEEDBACK_SLO]=a.INCREMENT,o[d.d4.TASK_TIME_TO_COMPLETE]=a.TIMING,o[d.d4.TASK_TIME_TO_COMPLETE_SLO]=a.INCREMENT,o),p={component:"component",isActiveTab:"active_tab",isInitial:"initial_load",isSSR:"ssr",page:"page",success:"success",task:"task",taskId:"task_id",type:"type",histogramBuckets:"gsd_histogram"},h=["page"],m=["isSSR","isActiveTab"],g=["histogramBuckets"],I={required:(0,i.__spread)(h),optional:(0,i.__spread)(m)},_={required:(0,i.__spread)(h),optional:(0,i.__spread)(m,g)},E={required:(0,i.__spread)(h,["success"]),optional:(0,i.__spread)(m)},T={required:(0,i.__spread)(h,["component"]),optional:(0,i.__spread)(m)},v={required:(0,i.__spread)(h,["component"]),optional:(0,i.__spread)(m,g)},y={required:(0,i.__spread)(h,["task"]),optional:(0,i.__spread)(m,["taskId"])},O={required:(0,i.__spread)(h,["task"]),optional:(0,i.__spread)(m,g,["taskId"])},b=((u={})[d.vq.UNCAUGHT]=I,u[d.vq.REQUEST]=I,u[d.vq.API]=I,u[d.vq.GRAPHQL]=I,u[d.vq.VALIDATION]=I,u[d.vq.INPUT]=I,u[d.vq.UNHANDLED_PROMISE_REJECTION]=I,u[d.vq.COMPONENT]=T,u[d.vq.COMPONENT_BOUNDARY]=T,u[d.vq.COMPONENT_GRAPHQL]=T,u[d.vq.COMPONENT_API]=T,u[d.ne.APDEX]=(0,i.__assign)((0,i.__assign)({},I),{optional:(0,i.__spread)(m,g,["isInitial"])}),u[d.ne.SPEED_INDEX]=_,u[d.ne.TIME_TO_INTERACTIVE]=_,u[d.ne.TIME_TO_INTERACTIVE_SLO]=E,u[d.ne.TIME_TO_FIRST_BYTE]=_,u[d.ne.FIRST_PAINT]=_,u[d.ne.FIRST_CONTENTFUL_PAINT]=_,u[d.ne.FIRST_MEANINGFUL_PAINT]=_,u[d.ne.FIRST_MEANINGFUL_PAINT_SLO]=E,u[d.ne.FIRST_INPUT_DELAY]=_,u[d.ne.REQUEST_TIMING]=(0,i.__assign)((0,i.__assign)({},_),{optional:(0,i.__spread)(m,g,["type"])}),u[d.ne.REQUEST_TIMING_SLO]={required:(0,i.__spread)(h,["success"]),optional:(0,i.__spread)(m,["type"])},u[d.ne.RESOURCE_TIMING]=(0,i.__assign)((0,i.__assign)({},_),{optional:(0,i.__spread)(m,g,["type"])}),u[d.ne.CACHE_HITS]=I,u[d.ne.COMPONENT_PREVIEW]=v,u[d.ne.COMPONENT_INTERACTIVE]=v,u[d.ne.COMPONENT_REQUEST_TIMING]=v,u[d.ne.COMPONENT_READY]=v,u[d.ne.COMPONENT_READY_SLO]=(0,i.__assign)((0,i.__assign)({},I),{required:(0,i.__spread)(h,["component","success"])}),u[d.d4.TASK_SUCCESS]=y,u[d.d4.TASK_FAILURE]=y,u[d.d4.TASK_DURATION]=O,u[d.d4.TASK_TIME_TO_FEEDBACK]=O,u[d.d4.TASK_TIME_TO_FEEDBACK_SLO]=(0,i.__assign)((0,i.__assign)({},y),{required:(0,i.__spread)(h,["task","success"])}),u[d.d4.TASK_TIME_TO_COMPLETE]=O,u[d.d4.TASK_TIME_TO_COMPLETE_SLO]=(0,i.__assign)((0,i.__assign)({},y),{required:(0,i.__spread)(h,["task","success"])}),u),w={sampleRate:1,maxBufferSize:10,flushInterval:1e3},N=function(e){if(void 0===e.value)throw new Error("Missing value for metric "+e.name);if("number"!=typeof e.value)throw new Error("Value for metric "+e.name+" is of type "+typeof e.value+" and not a number")},S=function(e,t){return void 0===e.value||"number"!=typeof e.value?t:e.value},P=function(e){function t(t){var r=t.sender,i=t.settings,n=void 0===i?w:i,a=t.hook,o=t.pageVisibility,u=e.call(this,{hook:a})||this;return u.sampleRate=n.sampleRate,u.queue=new s(n,r.send.bind(r)),u.pageVisibility=o,u}return(0,i.__extends)(t,e),t.prototype.updateSettings=function(e){this.queue.updateSettings(e)},t.prototype.increment=function(e){e.value=S(e,1),this.queue.enqueue(this.constructMetric(e,a.INCREMENT))},t.prototype.decrement=function(e){e.value=S(e,-1),this.queue.enqueue(this.constructMetric(e,a.DECREMENT))},t.prototype.timing=function(e){N(e),this.queue.enqueue(this.constructMetric(e,a.TIMING))},t.prototype.gauge=function(e){N(e),this.queue.enqueue(this.constructMetric(e,a.GAUGE))},t.prototype.submit=function(e){if(!(0,l.wH)(f,e.name))throw new Error("Invalid Metric provided to Metal");var t=[];(0,l.Yd)(p).forEach((function(r){if((0,l.wH)(e,r)){var i=e;if("histogramBuckets"===r){if(e.histogramBuckets&&!/^([\d+]_?)*\d+$/.test(e.histogramBuckets)||!e.histogramBuckets)throw new Error("Invalid Metric value: histogramBuckets")}t.push(p[r]+":"+i[r])}})),b[e.name].required.forEach((function(t){if(!(0,l.wH)(e,t))throw new Error("Required metric attribute "+t+" is missing")}));var r=e.name,i=e.value;this[f[r]]({name:r,value:i,tags:t})},t.prototype.constructMetric=function(e,t){var r=e.name,i=e.value,n=e.tags,s={type:t,name:r,tags:void 0===n?[]:n,value:i,sampleRate:this.sampleRate};return this.hook({type:c.CoreType.METRIC,data:s}),s},t}(n.default);const R=P},997925:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var i,n=r(122970),s=r(7573);!function(e){e[e.OFFLINE=0]="OFFLINE",e[e.ONLINE=1]="ONLINE"}(i||(i={}));const a=function(){function e(e){var t=this,r=e.onOnlineCallback;this.networkStatus=i.ONLINE,window.addEventListener("offline",(function(){t.networkStatus=i.OFFLINE})),window.addEventListener("online",(function(){t.networkStatus=i.ONLINE,r()}))}return Object.defineProperty(e.prototype,"status",{get:function(){return this.networkStatus},enumerable:!1,configurable:!0}),e}();const o=function(){function e(e){var t=e.url,r=e.meta,i=e.metalId,n=e.synthetic,s=e.forceXHR,o=void 0!==s&&s;this.retryInterval=3e4,this.buffer=[],this.forceXHR=!1,this.url=t,this.meta=r,this.metalId=i,this.forceXHR=o,this.network=new a({onOnlineCallback:this.restartSending.bind(this)}),this.sendData=this.sendData.bind(this),this.synthetic=n}return e.prototype.updateMeta=function(e){this.meta=(0,n.__assign)((0,n.__assign)({},this.meta),e)},e.prototype.restartSending=function(){var e=this;this.buffer.forEach((function(t){return e.sendData(t)})),this.buffer=[]},e.prototype.sendBeacon=function(e){return function(e,t){return new Promise((function(r,i){try{var n=navigator.sendBeacon(e,t);n?r(n):i(n)}catch(s){console.warn("MetalSender: sendBeacon failure")}}))}(this.url,e)},e.prototype.sendXHR=function(e,t,r){var i,n,s=this;return void 0===r&&(r=1),(i=this.url,n=t,new Promise((function(e,t){var r=new XMLHttpRequest;r.open("POST",i),r.setRequestHeader("Content-Type","text/plain"),r.send(n),r.onerror=t,r.onload=e,r.ontimeout=e}))).catch((function(){if(r<3){var i=r*s.retryInterval;console.warn("MetalSender: Receiver not responding, will retry in "+Math.floor(i/1e3)+"s"),setTimeout((function(){return s.sendXHR(e,t,r+1)}),i)}else console.warn("MetalSender: Max retries reached, payload ("+e+") failed to send")}))},e.prototype.sendData=function(e){var t=e.type,r=e.data;if(this.network.status===i.OFFLINE)return this.buffer.push({type:t,data:r}),Promise.resolve(null);var a=this.metalId,o=(0,s.Ks)(this.meta),u=(0,n.__assign)({type:t,meta:o,metalId:a,data:r},void 0!==this.synthetic?{synthetic:String(this.synthetic)}:{});if(!navigator.sendBeacon||this.forceXHR)return this.sendXHR(t,JSON.stringify(u));var c=new Blob([JSON.stringify(u)],{type:"application/json"});return this.sendBeacon(c)},e.prototype.send=function(e,t){void 0===e&&(e=[]),e.length<1||this.sendData({type:t,data:e}).catch((function(e){console.warn("MetalSender: sendData failure:",e)}))},e}()},344127:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CallbackProvider:()=>a.m,Hookable:()=>a.g,catalog:()=>u.F,default:()=>i.default});var i=r(998259),n={};for(const c in i)"default"!==c&&(n[c]=()=>i[c]);r.d(t,n);var s=r(332209);n={};for(const c in s)["default","envTypes"].indexOf(c)<0&&(n[c]=()=>s[c]);r.d(t,n);var a=r(629157),o=r(331867);n={};for(const c in o)["default","envTypes","CoreType","PayloadType","CallbackProvider","Hookable"].indexOf(c)<0&&(n[c]=()=>o[c]);r.d(t,n);var u=r(872722)},272237:(e,t,r)=>{"use strict";r.d(t,{rL:()=>w,nJ:()=>y,XT:()=>M,ZP:()=>C});var i={};r.r(i),r.d(i,{R:()=>o});var n,s,a=r(936227),o={metalhead:{notfound:"Metal: For TTI & FID metrics,\n      you should include metal-head.min.js within <head>\n      to setup observers and timings as early as possible."},metrics:{browser:{rootId:"Metal: Browser Metrics:\n        rootId must be supplied to instantiate this plugin"}},metalClient:{metalId:"Metal: Deprecation warning:\n      Metal will require a metalId to determine config in future versions.\n      Please update your client's config."},plugins:{paint:{unsupported:"Metal: Performance Painting Timings: not supported by this browser"},interactive:{longtask:"Metal: Long task not supported"}}},u=r(122970),c=r(272786),l=r.n(c),d=r(629157),f=5e3;!function(e){e.FIRST_INPUT_DELAY="first-input-delay",e.TIME_TO_INTERACTIVE="time-to-interactive",e.FIRST_CONTENTFUL_PAINT="first-contentful-paint",e.FIRST_MEANINGFUL_PAINT="first-meaningful-paint",e.FIRST_PAINT="first-paint",e.RESOURCE_TIMING="resource-timing",e.REQUEST_TIMING="request-timing"}(s||(s={}));var p,h,m=((n={})[s.FIRST_INPUT_DELAY]=a.ne.FIRST_INPUT_DELAY,n[s.TIME_TO_INTERACTIVE]=a.ne.TIME_TO_INTERACTIVE,n[s.FIRST_CONTENTFUL_PAINT]=a.ne.FIRST_CONTENTFUL_PAINT,n[s.FIRST_PAINT]=a.ne.FIRST_PAINT,n[s.FIRST_MEANINGFUL_PAINT]=a.ne.FIRST_MEANINGFUL_PAINT,n[s.REQUEST_TIMING]=a.ne.REQUEST_TIMING,n[s.RESOURCE_TIMING]=a.ne.RESOURCE_TIMING,n),g=function(e){return function(t){var r=t.metric,i=t.histograms,n=void 0===i?{}:i,s=t.shouldCheckActiveTab;if(void 0!==s&&s&&e.pageVisibility.wasPreviouslyHidden)return;e.metric.submit(r),n[r.name]&&e.metric.submit((0,u.__assign)((0,u.__assign)({},r),{histogramBuckets:n[r.name]}))}},I=function(e,t){return e?t?e.initialPage:e.page:""},_=function(e){var t=e.name,r=e.startTime;return{name:m[t],value:r}},E=function(e){return(0,u.__spread)(e).map(_)},T=function(){if(!p){var e=void 0;try{e=performance.getEntriesByType("paint")}catch(t){e=[]}p=e.length?Promise.resolve(E(e)):new Promise((function(e,r){var i=new PerformanceObserver((function(t){var r=t.getEntries(),n=E(r);i.disconnect(),e(n)}));try{i.observe({entryTypes:["paint"]})}catch(t){r(t)}}))}return p},v={childList:!0,subtree:!0},y=function(e){function t(t){var r,i=t.rootId,n=void 0===i?"root":i,s=t.callbacks,o=void 0===s?[]:s,c=t.collectors,d=void 0===c?{}:c,p=t.histograms,h=void 0===p?{}:p,m=e.call(this,{callbacks:o})||this;return m.paintTimings=[],m.lastPaintCount=0,m.histograms={},m.page="",m.observer=new MutationObserver(m.getNewNodes.bind(m)),m.observer.observe(document.getElementById(n),v),"PerformanceObserver"in window&&T().catch(l()),m.collectors=(0,u.__assign)(((r={})[a.ne.FIRST_MEANINGFUL_PAINT]=m.getFirstMeaningfulPaintAsync.bind(m),r),d),m.histograms=h,setTimeout((function(){return m.observer.disconnect()}),f),m}return(0,u.__extends)(t,e),t.prototype.createPaintTimingObject=function(){var e=document.body.getElementsByTagName("*").length,t=e-this.lastPaintCount;return this.lastPaintCount=e,{time:performance.now(),domSize:e,domCountDelta:t}},t.prototype.getNewNodes=function(){this.paintTimings.push(this.createPaintTimingObject())},t.prototype.getFirstMeaningfulPaint=function(e){var t,r=(t=(0,u.__read)(performance.getEntriesByName("first-navigation"),1)[0])&&t.startTime||f,i=this.paintTimings.filter((function(t){var i=t.time;return i>e&&i<r}));return i.length?(0,u.__read)(i.sort((function(e,t){var r=e.domCountDelta;return t.domCountDelta-r})),1)[0].time:e},t.prototype.getFirstMeaningfulPaintAsync=function(e){var t=this,r=f-performance.now();return new Promise((function(i){setTimeout((function(){return i(t.getFirstMeaningfulPaint(e))}),r)}))},t.prototype.install=function(e){this.page=I(e.pageTracker,!0),this.callbacks.push(g(e)),this.getTimings()},t.prototype.destroy=function(){this.observer.disconnect()},t.prototype.handleCallbacks=function(e){var t=e.name,r=e.value;this.doCallbacks({metric:{name:t,value:r,page:this.page},histograms:this.histograms,shouldCheckActiveTab:!0})},t.prototype.getTimings=function(){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,t,r,n;return(0,u.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,"PerformanceObserver"in window?T():"performance"in window?new Promise((function(e){setTimeout((function(){var t=performance.getEntriesByType("paint");e((0,u.__spread)(t).map(_))}),f-performance.now())})):Promise.reject(new Error(i.errors.plugins.paint.unsupported))];case 1:return(e=s.sent()).forEach(this.handleCallbacks.bind(this)),t=e.find((function(e){return e.name===a.ne.FIRST_CONTENTFUL_PAINT})).value,r=a.ne.FIRST_MEANINGFUL_PAINT,[4,this.collectors[r](t)];case 2:return n=s.sent(),this.handleCallbacks({name:r,value:n}),[3,4];case 3:return s.sent(),console.warn("PaintMetricsPlugin: Unable to get Paint Timings"),[3,4];case 4:return[2]}}))}))},t}(d.m),O=r(446028),b=((h={})[a.ne.FIRST_INPUT_DELAY]=function(){return new Promise((function(e,t){window.perfMetrics||t(new Error(i.errors.metalhead.notfound)),window.perfMetrics.onFirstInputDelay(e)}))},h[a.ne.TIME_TO_INTERACTIVE]=function(){return new Promise((function(e,t){window.perfMetrics||t(new Error(i.errors.metalhead.notfound)),Object.prototype.hasOwnProperty.call(window,"PerformanceLongTaskTiming")||t(new Error(i.errors.plugins.interactive.longtask)),O.getFirstConsistentlyInteractive({}).then(e)}))},h[a.ne.TIME_TO_FIRST_BYTE]=function(){return new Promise((function(e,t){try{var r=(0,u.__read)(window.performance.getEntriesByType("navigation"),1)[0];if(r)e(r.responseStart);else{var i=window.performance.timing;e(i.responseStart-i.navigationStart)}}catch(n){t(n)}}))},h),w=function(e){function t(t){var r=t.callbacks,i=void 0===r?[]:r,n=t.collectors,s=void 0===n?{}:n,o=t.histograms,c=void 0===o?{}:o,l=e.call(this,{callbacks:i})||this;return l.histograms={},l.page="",l.supportedMetrics=[a.ne.FIRST_INPUT_DELAY,a.ne.TIME_TO_INTERACTIVE,a.ne.TIME_TO_FIRST_BYTE],l.collectors=(0,u.__assign)((0,u.__assign)({},b),s),l.histograms=c,l}return(0,u.__extends)(t,e),t.prototype.getTimings=function(){var e=this;this.supportedMetrics.forEach((function(t){e.collectors[t]().then((function(r){return e.doCallbacks({metric:{name:t,value:r,page:e.page},histograms:e.histograms,shouldCheckActiveTab:t!==a.ne.FIRST_INPUT_DELAY})})).catch(l())}))},t.prototype.install=function(e){this.page=I(e.pageTracker,!0),this.callbacks.push(g(e)),this.getTimings()},t}(d.m),N=r(731352),S=["fetch","xmlhttprequest","beacon","other"],P=["localhost","atlassian.com/metal/ingest","bam.nr","webstatsd","gateway/api/gasv3"],R=function(e){var t=e.initiatorType,r=e.duration,i=-1!==S.indexOf(t)?s.REQUEST_TIMING:s.RESOURCE_TIMING;return{name:m[i],value:r,type:t}},M=function(e){function t(t){var r=t.callbacks,i=void 0===r?[]:r,n=t.blacklist,s=void 0===n?[]:n,a=e.call(this,{callbacks:i})||this;if(a.pageTracker=null,a.performance=window.performance,a.timings=[],a.filterEntryList=function(e,t){var r=function(e){var t=e.blacklist,r=void 0===t?[]:t;return function(e){var t=e.name;return!(0,u.__spread)(P,r).find((function(e){return t.includes(e)}))}}({blacklist:t});return Array.prototype.filter.call(e,r)},!(0,N.C)())return console.warn("Metal: Performance Observer not supported, ResourceMetricsPlugin will not work"),a;var o=a.performance.getEntriesByType("resource"),c=a.filterEntryList(o,s);return a.timings=c.map(R),a.observer=new PerformanceObserver((function(e){var t,r=e.getEntries(),i=a.filterEntryList(r,s).map(R);a.timings=(t=a.timings).concat.apply(t,(0,u.__spread)(i)),i.length&&a.send.apply(a,(0,u.__spread)(i))})),a}return(0,u.__extends)(t,e),t.prototype.send=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.forEach((function(t){var r=t.name,i=t.value,n=t.type,s=I(e.pageTracker,!1);e.doCallbacks({metric:{name:r,value:i,type:n,page:s}})}))},t.prototype.install=function(e){this.pageTracker=e.pageTracker,this.callbacks.push(g(e)),this.send.apply(this,(0,u.__spread)(this.timings)),this.observer&&this.observer.observe({entryTypes:["resource"]})},t.prototype.destroy=function(){this.observer&&this.observer.disconnect()},t}(d.m),C=function(){function e(e){var t=e.rootId,r=e.callbacks,n=void 0===r?[]:r,s=e.collectors,a=void 0===s?{}:s,o=e.histograms,u=void 0===o?{}:o,c=e.blacklist,l=void 0===c?[]:c;if(!t)throw new Error(i.errors.metrics.browser.rootId);this.interactiveMetrics=new w({callbacks:n,collectors:a,histograms:u}),this.paintMetrics=new y({rootId:t,callbacks:n,collectors:a,histograms:u}),this.resourceMetrics=new M({callbacks:n,blacklist:l}),this.plugins=[this.interactiveMetrics,this.paintMetrics,this.resourceMetrics]}return e.prototype.install=function(e){this.plugins.forEach((function(t){return t.install(e)}))},e.prototype.destroy=function(){this.plugins.forEach((function(e){return e.destroy&&e.destroy()}))},e}()},699345:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(332209),n=r(7573);const s=function(){function e(){this.printError=function(e){console.group("METAL "+i.CoreType.ERROR),console.table(e),console.groupEnd()},this.printMetric=function(e){console.group("METAL "+i.CoreType.METRIC+" ("+e.type+")"),console.table({name:e.name,value:e.value,tags:e.tags?e.tags.toString():null}),console.groupEnd()}}return e.prototype.install=function(e){var t,r=((t={})[i.CoreType.ERROR]=this.printError,t[i.CoreType.METRIC]=this.printMetric,t);(0,n.TT)(i.CoreType).forEach((function(t){e.addEventHook(t,(function(e){r[t]&&r[t](e)}))}))},e}()},257513:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(122970),n=r(332209);const s=function(){function e(){}return e.prototype.install=function(e){e.addEventHook(n.CoreType.ERROR,(function(t){var r=t.page,n=t.component,s=t.name;e.metric.submit((0,i.__assign)({name:s,value:1,page:r},n?{component:n}:{}))}))},e}()},331867:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BrowserMetricsPlugin:()=>i.ZP,DevToolsPlugin:()=>s.Z,ErrorsPlugin:()=>n.Z,InteractiveMetricsPlugin:()=>i.rL,PaintMetricsPlugin:()=>i.nJ,PerformanceMarkPlugin:()=>a.Z,ResourceMetricsPlugin:()=>i.XT});var i=r(272237),n=r(257513),s=r(699345),a=r(26615),o=r(939129),u={};for(const c in o)["default","ErrorsPlugin","BrowserMetricsPlugin","DevToolsPlugin","PerformanceMarkPlugin","InteractiveMetricsPlugin","PaintMetricsPlugin","ResourceMetricsPlugin"].indexOf(c)<0&&(u[c]=()=>o[c]);r.d(t,u)},26615:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var i=r(122970),n=r(731352);const s=function(){function e(e){var t=this;this.allowlist={},(0,n.C)()?(Object.keys(e).forEach((function(r){var n=e[r];if(!r)throw new Error("Metal: Unsupported metric type supplied to PerformanceMarkPlugin");t.allowlist[n.name]=(0,i.__assign)((0,i.__assign)({},n),{name:r})})),this.observer=new PerformanceObserver(this.getMarksCallback.bind(this)),this.observer.observe({entryTypes:["mark","measure"]})):console.warn("Metal: Performance Observer not supported, PerformanceMarkPlugin will not work")}return e.prototype.getMarksCallback=function(e){var t=this;e.getEntries().forEach((function(e){if(e.name in t.allowlist){var r=t.allowlist[e.name],n=e.duration?e.duration:e.startTime;t.client.metric.submit((0,i.__assign)((0,i.__assign)({},r),{value:n}))}}))},e.prototype.install=function(e){this.client=e},e.prototype.destroy=function(){this.observer&&this.observer.disconnect()},e}()},939129:()=>{},939162:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(899881),n=r(828582),s=r(287117);class a{static async fetchClientSdk(e){const{targetApp:t}=e,r=`/api/v2/frontend/clientSdkKey/${t}`;try{return await this.fetchRequest(r,"GET",e)}catch(i){if(i instanceof Error)throw i;throw Error("Failed to retrieve client sdk key")}}static async fetchExperimentValues(e,t,r){const i={identifiers:t,customAttributes:r,targetApp:e.targetApp};try{return await this.fetchRequest("/api/v2/frontend/experimentValues","POST",e,i)}catch(n){if(n instanceof Error)throw n;throw Error("Failed to retrieve experiment values")}}static async handleResponseError(e){if(!e.ok){const t=await e.text();throw new i.ResponseError(`Non 2xx response status received, status: ${e.status}, body: ${JSON.stringify(t)}`)}if(204===e.status)throw new i.ResponseError("Unexpected 204 response")}static async extractResponseBody(e){const t=await e.text();return JSON.parse(t)}static getBaseUrl(e,t=!1){if(t)return"/gateway/api/flags";switch(e){case n.FeatureGateEnvironment.Development:return"https://api.dev.atlassian.com/flags";case n.FeatureGateEnvironment.Staging:return"https://api.stg.atlassian.com/flags";default:return"https://api.atlassian.com/flags"}}static async fetchRequest(e,t,r,i){const n=a.getBaseUrl(r.environment,r.useGatewayURL),o=r.fetchTimeoutMs||2e3;let u;if(AbortSignal.timeout)u=AbortSignal.timeout(o);else if(AbortController){const e=new AbortController;u=e.signal,setTimeout((()=>e.abort()),o)}const c=await fetch(`${n}${e}`,Object.assign({method:t,headers:{"Content-Type":"application/json","X-Client-Name":"feature-gate-js-client","X-Client-Version":s.CLIENT_VERSION,"X-API-KEY":r.apiKey},signal:u},i&&{body:JSON.stringify(i)}));return await this.handleResponseError(c),await this.extractResponseBody(c)}}t.default=a},899881:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseError=void 0;class r extends Error{constructor(e){super(e)}}t.ResponseError=r},778283:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(939162);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i(n).default}})},654927:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t},a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)},o=this&&this.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EvaluationReason=t.DynamicConfig=void 0;const c=s(r(842077));var l=r(842077);Object.defineProperty(t,"DynamicConfig",{enumerable:!0,get:function(){return l.DynamicConfig}}),Object.defineProperty(t,"EvaluationReason",{enumerable:!0,get:function(){return l.EvaluationReason}});const d=u(r(778283));a(r(828582),t);const f="client-default-key";class p{static async initialize(e,t,r){return p.initPromise?(p.shallowEquals(e,p.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),p.initPromise):(p.initOptions=e,p.initPromise=p.init(e,t,r).then((()=>{p.initCompleted=!0})),p.initPromise)}static async initializeFromValues(e,t,r,i={}){return p.initPromise?(p.shallowEquals(e,p.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),p.initPromise):(p.initOptions=e,p.initPromise=p.initFromValues(e,t,r,i).then((()=>{p.initCompleted=!0})),p.initPromise)}static async updateUser(e,t,r){await p.updateUserUsingInitializeValuesProducer((()=>d.default.fetchExperimentValues(e,t,r).then((({experimentValues:e,customAttributes:t})=>({experimentValues:e,customAttributesFromFetch:t})))),t,r)}static async updateUserWithValues(e,t,r={}){await p.updateUserUsingInitializeValuesProducer((()=>Promise.resolve({experimentValues:r,customAttributesFromFetch:t})),e,t)}static initializeCalled(){return null!=p.initPromise}static initializeCompleted(){return p.initCompleted}static checkGate(e){return c.default.checkGate(e)}static getExperiment(e,t){try{const r={fireExperimentExposure:!0},{fireExperimentExposure:i}=Object.assign(Object.assign({},r),t);return(i?c.default.getExperiment.bind(c.default):c.default.getExperimentWithExposureLoggingDisabled.bind(c.default))(e)}catch(r){return p.hasGetExperimentErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment. Only the first occurrence of this error is logged.",experimentName:e,error:r}),p.hasGetExperimentErrorOccurred=!0),new c.DynamicConfig(e,{},"",{time:Date.now(),reason:c.EvaluationReason.Error})}}static getExperimentValue(e,t,r,i){const n=p.getExperiment(e,i);try{const e={},{typeGuard:s}=Object.assign(Object.assign({},e),i);return n.get(t,r,s)}catch(s){return p.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:i,error:s}),p.hasGetExperimentValueErrorOccurred=!0),r}}static manuallyLogExperimentExposure(e){c.default.manuallyLogExperimentExposure(e)}static shutdownStatsig(){c.default.shutdown()}static overrideGate(e,t){c.default.overrideGate(e,t)}static clearGateOverride(e){c.default.overrideGate(e,null)}static overrideConfig(e,t){c.default.overrideConfig(e,t)}static clearConfigOverride(e){c.default.overrideConfig(e,null)}static setOverrides(e){c.default.setOverrides(e)}static clearAllOverrides(){c.default.setOverrides(null)}static isCurrentUser(e,t){return p.shallowEquals(p.currentIdentifiers,e)&&p.shallowEquals(p.currentAttributes,t)}static async init(e,t,r){const i=Object.assign(Object.assign({},e),{disableCurrentPageLogging:!0});let n,s;try{const a=d.default.fetchClientSdk(e).then((e=>i.sdkKey=e.clientSdkKey)),o=d.default.fetchExperimentValues(e,t,r),[,u]=await Promise.all([a,o]);n=u.experimentValues,s=u.customAttributes}catch(a){throw a instanceof Error&&console.error(`Error occurred when trying to fetch the Feature Gates client values, error: ${null==a?void 0:a.message}`),console.warn("Initialising Statsig client without values"),await p.initFromValues(i,t,r),a}await this.initFromValues(i,t,s,n)}static async initFromValues(e,t,r,i={}){const n=this.toStatsigUser(t,r);p.currentIdentifiers=t,p.currentAttributes=r,e.sdkKey||(e.sdkKey=f),e.eventLoggingApi||(e.eventLoggingApi="https://xp.atlassian.com/v1/");const{sdkKey:s}=e,a=this.toStatsigOptions(e,i);try{await c.default.initialize(s,n,a)}catch(o){throw o instanceof Error&&console.error(`Error occurred when trying to initialise the Statsig client, error: ${null==o?void 0:o.message}`),console.warn("Initialising Statsig client with default sdk key and without values"),await c.default.initialize(f,n,Object.assign(Object.assign({},a),{initializeValues:{}})),o}}static toStatsigUser(e,t){const r={customIDs:e,custom:t};return e.atlassianAccountId&&(r.userID=e.atlassianAccountId),r}static async updateUserUsingInitializeValuesProducer(e,t,r){if(!p.initPromise)throw new Error("The FeatureGates client must be initialized before you can update the user.");if(p.isCurrentUser(t,r))return p.initPromise;const i=p.initPromise;try{await p.initPromise}catch(a){}const n=e(),s=p.updateStatsigClientUser(n,t,r);return p.initPromise=s.catch((()=>{p.initPromise=i})),s}static async updateStatsigClientUser(e,t,r){var i,n;let s,a;try{s=await e,a=p.toStatsigUser(t,s.customAttributesFromFetch)}catch(o){const e=o instanceof Error?o.message:JSON.stringify(o);throw null===(n=(i=p.initOptions).updateUserCompletionCallback)||void 0===n||n.call(i,!1,e),o}if(!c.default.updateUserWithValues(a,s.experimentValues))throw new Error("Failed to update user. An unexpected error occured.");p.currentIdentifiers=t,p.currentAttributes=r}static toStatsigOptions(e,t){const{sdkKey:r,updateUserCompletionCallback:i}=e,n=o(e,["sdkKey","updateUserCompletionCallback"]);return Object.assign(Object.assign(Object.assign({},n),{initializeValues:t,environment:{tier:e.environment},disableCurrentPageLogging:!0}),e.updateUserCompletionCallback&&{updateUserCompletionCallback:p.toStatsigUpdateUserCompletionCallback(e.updateUserCompletionCallback)})}static toStatsigUpdateUserCompletionCallback(e){return(t,r,i)=>{e(r,i)}}static shallowEquals(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const r=Object.entries(e),i=Object.entries(t);if(r.length!==i.length)return!1;const n=([e],[t])=>e.localeCompare(t);r.sort(n),i.sort(n);for(let s=0;s<r.length;s++){const[,e]=r[s],[,t]=i[s];if(e!==t)return!1}return!0}}p.initPromise=null,p.initCompleted=!1,p.hasGetExperimentErrorOccurred=!1,p.hasGetExperimentValueErrorOccurred=!1,t.default=p,"undefined"!=typeof window&&(window.__FEATUREGATES_JS__=p)},828582:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureGateEnvironment=void 0,function(e){e.Development="development",e.Staging="staging",e.Production="production"}(r||(t.FeatureGateEnvironment=r={}))},287117:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLIENT_VERSION=void 0,t.CLIENT_VERSION="4.6.0"},632183:(e,t,r)=>{"use strict";r.d(t,{IM:()=>i.I});var i=r(455146);r(136215),r(636823),r(268186),r(311661),r(311595)},136215:(e,t,r)=>{"use strict";r(311661),new RegExp("^$")},583087:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var i=r(311661),n={qualifier:"ari",platformQualifier:"cloud",cloudId:new RegExp("^[a-zA-Z0-9-]+$"),resourceOwner:"confluence",resourceType:"space",resourceIdSlug:"{spaceId}",resourceIdSegmentFormats:{spaceId:/[0-9]+/}},s=class extends i.tw{constructor(e){super(e),this._siteId=e.cloudId||"",this._spaceId=e.resourceIdSegmentValues.spaceId}get siteId(){return this._siteId}get spaceId(){return this._spaceId}static create(e){let t={qualifier:n.qualifier,platformQualifier:n.platformQualifier,cloudId:e.siteId,resourceOwner:n.resourceOwner,resourceType:n.resourceType,resourceId:`${e.spaceId}`,resourceIdSegmentValues:{spaceId:e.spaceId}},r=i.l4.fromOpts(t,n);return new s(r)}static parse(e){let t=i.l4.fromString(e,n);return new s(t)}getVariables(){return{siteId:this.siteId,spaceId:this.spaceId}}}},311661:(e,t,r)=>{"use strict";r.d(t,{l4:()=>p,tw:()=>_});var i,n,s=r(311595),a=class extends Error{};function o(e){if("cloud"!==e)throw new a(`Identifier must have a qualifier of 'cloud'. Received: ${e}`)}function u(e){if("ati"!==e)throw new a(`ATI must have a qualifier of 'ati'. Received: ${e}`)}function c(e,t){Object.entries(e).forEach((([e,r])=>{!function(e,t=new RegExp(i.ANY_RESOURCE_ID),r="resourceId"){let n=new RegExp(`^${t.source}$`);if(!e.match(n))throw new a(`Invalid ${r} - ${e}, expected ID of format ${n}.`)}(r,null==t?void 0:t[e],e)}))}function l(e,t){if(t&&e!==t)throw new a(`Invalid resource owner - ${e}, expected ${t}.`)}function d(e,t){if(t&&e!==t)throw new a(`Invalid resource type - ${e}, expected ${t}.`)}(n=i||(i={})).ACTIVATION_ID="[a-zA-Z0-9\\-]+",n.ALERT_ID="[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}(-[0-9]*)?",n.ANY_RESOURCE_ID="[a-zA-Z0-9\\-_.~@:{}=]+(/[a-zA-Z0-9\\-_.~@:{}=]+)*",n.ANY_RESOURCE_QUALIFIER="[a-zA-Z0-9\\-_.]*",n.APP_KEY="[a-zA-Z0-9-._]+",n.BASE64_STRING="[a-zA-Z0-9=]+={0,1}",n.CLIENT_ID="[0-9a-zA-Z-_]{5,50}",n.GROUP_ID="([0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}|static)",n.INTEGER_ID="[0-9]+",n.OPTIONAL_SITE_ID="[a-zA-Z0-9\\-]*",n.ORG_ID="[a-zA-Z0-9\\-]+",n.SITE_ID="[a-zA-Z0-9\\-]+",n.USER_ID="[a-zA-Z0-9_\\-\\:]{1,128}",n.USERBASE_ID="[a-zA-Z0-9\\-]+",n.UUID="[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}",n.WORKSPACE_ID="[a-zA-Z0-9\\-]+";var f=class{static getIdentifierSegments(e,t){let r=e.split(":");if(r.length<t)throw new a(`Input string must have ${t} segments.`);if(r.length>t){return[...r.slice(0,4),r.slice(4,r.length).join(":")]}return r}},p=class extends f{static fromString(e,t){let r=this.getIdentifierSegments(e,5),[i,n,s,a,o]=r,[u,...c]=o.split("/"),l={qualifier:i,platformQualifier:n,cloudId:a,resourceOwner:s,resourceType:u,resourceId:c.join("/"),resourceIdSegmentValues:(null==t?void 0:t.resourceIdSlug)?this.ariSegmentValuesFromSlug(t.resourceIdSlug,c.join("/"),Object.keys(t.resourceIdSegmentFormats)):{}};return this.fromOpts(l,t)}static fromOpts(e,t){let{qualifier:r="ari",platformQualifier:n="cloud",resourceOwner:s,cloudId:u,resourceId:f,resourceIdSegmentValues:p,resourceType:h}=e;return function(e){if("ari"!==e)throw new a(`ARI must have a qualifier of 'ari'. Received: ${e}`)}(r),o(n),function(e,t=new RegExp(`^${i.OPTIONAL_SITE_ID}$`)){if(!e.match(t))throw new a(`Invalid cloud ID, expected ID of format ${t}.`)}(e.cloudId||"",null==t?void 0:t.cloudId),l(s,null==t?void 0:t.resourceOwner),d(h,null==t?void 0:t.resourceType),c(p,null==t?void 0:t.resourceIdSegmentFormats),{qualifier:r,resourceOwner:s,resourceType:h,platformQualifier:n,cloudId:u,resourceId:f,resourceIdSegmentValues:p}}static ariSegmentValuesFromSlug(e,t,r){let i=new RegExp("^"+e.replace(/\{(.*?)\}/g,"(?<$1>.*?)")+"$").exec(t);if(!i)throw new a(`Segment '${t}' don't match expected slug: ${e}`);return r.forEach((t=>{var r;if(!(null==(r=i.groups)?void 0:r[t]))throw new a(`No value supplied for '${t}' based on slug ${e}`)})),i.groups||{}}},h=class extends f{static fromString(e,t){let r=this.getIdentifierSegments(e,4),[i="ati",n="cloud",s,a]=r;return u(i),o(n),l(s,null==t?void 0:t.resourceOwner),d(a,null==t?void 0:t.resourceType),{platformQualifier:n,resourceOwner:s,resourceType:a}}static fromOpts(e,t){let{qualifier:r,platformQualifier:i,resourceOwner:n,resourceType:s}=e;return u(r),o(i),l(n,null==t?void 0:t.resourceOwner),d(s,null==t?void 0:t.resourceType),{platformQualifier:i,resourceOwner:n,resourceType:s}}},m=class{constructor(e,t,r){this._platformQualifier=e,this._resourceOwner=t,this._resourceType=r}get platformQualifier(){return this._platformQualifier}get resourceOwner(){return this._resourceOwner}get resourceType(){return this._resourceType}static create(e){return new m(e.platformQualifier||"cloud",e.resourceOwner,e.resourceType)}static parse(e,t){let r=h.fromString(e,t);return new m(r.platformQualifier,r.resourceOwner,r.resourceType)}toString(){return`ati:${this.platformQualifier}:${this.resourceOwner}:${this.resourceType}`}toJSON(){return this.toString()}toOpts(){return{platformQualifier:this._platformQualifier,resourceOwner:this._resourceOwner,resourceType:this._resourceType}}},g=class{constructor(e){this._ati=m.create({platformQualifier:"cloud",resourceOwner:e.resourceOwner,resourceType:e.resourceType}),this._cloudId=""!==e.cloudId?e.cloudId:void 0,this._resourceId=e.resourceId}get platformQualifier(){return this._ati.platformQualifier}get cloudId(){return this._cloudId}get resourceOwner(){return this._ati.resourceOwner}get resourceType(){return this._ati.resourceType}get resourceId(){return this._resourceId}get ati(){return this._ati}equals(e){return this.toString()===e.toString()}toString(){return`ari:${this.platformQualifier}:${this.resourceOwner}:${this.cloudId||""}:${this.resourceType}/${this.resourceId}`}toJSON(){return this.toString()}toOpts(){return{platformQualifier:this.platformQualifier,resourceOwner:this.resourceOwner,cloudId:this.cloudId,resourceType:this.resourceType,resourceId:this.resourceId}}},I=class extends g{constructor(e){super(e)}static create(e,t){let r=(0,s.E)((0,s.i)({},e),{resourceIdSegmentValues:{}}),i=p.fromOpts(r,t);return new I(i)}static parse(e,t){let r=p.fromString(e,t);return new I(r)}static check(e){try{return I.parse(e.toString()),!0}catch{return!1}}asAnyAri(){return this}},_=class extends g{static check(e){try{return this.parse(e.toString()),!0}catch{return!1}}asAnyAri(){return I.parse(this.toString())}}},268186:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var i=r(311661),n={qualifier:"ari",platformQualifier:"cloud",cloudId:new RegExp("^[a-zA-Z0-9-]+$"),resourceOwner:"canvas",resourceType:"board",resourceIdSlug:"{boardId}",resourceIdSegmentFormats:{boardId:/[a-zA-Z0-9\-_.~@:{}=]+(\/[a-zA-Z0-9\-_.~@:{}=]+)*/}},s=class extends i.tw{constructor(e){super(e),this._siteId=e.cloudId||"",this._boardId=e.resourceIdSegmentValues.boardId}get siteId(){return this._siteId}get boardId(){return this._boardId}static create(e){let t={qualifier:n.qualifier,platformQualifier:n.platformQualifier,cloudId:e.siteId,resourceOwner:n.resourceOwner,resourceType:n.resourceType,resourceId:`${e.boardId}`,resourceIdSegmentValues:{boardId:e.boardId}},r=i.l4.fromOpts(t,n);return new s(r)}static parse(e){let t=i.l4.fromString(e,n);return new s(t)}getVariables(){return{siteId:this.siteId,boardId:this.boardId}}}},636823:(e,t,r)=>{"use strict";r(311661),new RegExp("^[a-zA-Z0-9-]+$")},311595:(e,t,r)=>{"use strict";r.d(t,{E:()=>d,i:()=>l});var i=Object.defineProperty,n=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,c=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&c(e,r,t[r]);if(a)for(var r of a(t))u.call(t,r)&&c(e,r,t[r]);return e},d=(e,t)=>n(e,s(t))},455146:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var i=r(311661),n={qualifier:"ari",platformQualifier:"cloud",cloudId:new RegExp("^[a-zA-Z0-9-]+$"),resourceOwner:"canvas",resourceType:"database",resourceIdSlug:"{databaseId}",resourceIdSegmentFormats:{databaseId:/[a-zA-Z0-9\-_.~@:{}=]+(\/[a-zA-Z0-9\-_.~@:{}=]+)*/}},s=class extends i.tw{constructor(e){super(e),this._siteId=e.cloudId||"",this._databaseId=e.resourceIdSegmentValues.databaseId}get siteId(){return this._siteId}get databaseId(){return this._databaseId}static create(e){let t={qualifier:n.qualifier,platformQualifier:n.platformQualifier,cloudId:e.siteId,resourceOwner:n.resourceOwner,resourceType:n.resourceType,resourceId:`${e.databaseId}`,resourceIdSegmentValues:{databaseId:e.databaseId}},r=i.l4.fromOpts(t,n);return new s(r)}static parse(e){let t=i.l4.fromString(e,n);return new s(t)}getVariables(){return{siteId:this.siteId,databaseId:this.databaseId}}}},503154:(e,t,r)=>{"use strict";r.d(t,{m:()=>i.m});var i=r(583087);r(311661),r(311595)}}]);
//# sourceMappingURL=atl.3YrkvhFS8G.js.map